{"version":3,"sources":["app/assets/custom/haeder-logo.png","app/assets/custom/logo-colored.png","app/assets/custom/logo-big.png","app/styles/base.ts","app/reducers/authReducer.ts","app/reducers/noticeReducer.ts","app/reducers/index.ts","app/store/index.ts","app/styles/screens.ts","app/components/common/DummyComponent.tsx","app/components/headers/header.style.ts","app/config/env.ts","app/api/firebase/config.ts","app/utils/converter.ts","app/api/interfaces/index.ts","app/api/firebase/firestore/collections.ts","app/api/firebase/firestore/firestore.ts","app/utils/generator.ts","app/api/firebase/auth/auth.ts","app/api/firebase/storage/storage.ts","app/api/firebase/firebaseClient.ts","app/api/QueResourceUtils.ts","potato/mockData/VideoCardData.ts","app/components/buttons/ProfilePictureButton.style.ts","app/components/buttons/ProfilePictureButton.tsx","app/api/QueAuthUtils.ts","app/api/mailVerification/mailVerificationClient.ts","app/hooks/useAppDispatch.ts","app/hooks/useConfirm.ts","app/components/common/ScreenCoverLoadingIndicator.tsx","app/hooks/useLoadingIndicator.tsx","app/hooks/useSign.ts","app/hooks/useAuth.ts","app/hooks/useWarning.ts","app/components/headers/MainScreenHeader.tsx","app/components/navbars/navbar.style.ts","app/components/navbars/HomeNavbar.tsx","app/components/buttons/RoundedButton.style.ts","app/components/buttons/RoundedButton.tsx","app/components/modals/Modal.style.ts","app/components/modals/MenuModal.tsx","app/screens/MainScreen/HomeScreen/PreferenceScreen/DevInfoScreen.tsx","app/screens/MainScreen/HomeScreen/PreferenceScreen/PreferenceScreen.tsx","app/assets/notices/notices.tsx","app/assets/notices/notice.alpha.01.tsx","app/assets/notices/notice.alpha.02.tsx","app/assets/notices/notice.alpha.03.tsx","app/assets/notices/notice.alpha.04.tsx","app/assets/notices/notice.alpha.05.tsx","app/components/cards/VideoCard.style.ts","app/utils/formatter.ts","app/components/cards/VideoCard.tsx","app/components/lists/VideoCardList.style.ts","app/components/lists/VideoCardList.tsx","app/components/modals/NoticeModal.tsx","app/screens/MainScreen/HomeScreen/TimelineScreen.tsx","app/hooks/useNotice.ts","app/screens/MainScreen/HomeScreen/HomeScreen.tsx","app/components/headers/CommonHeader.tsx","app/screens/MainScreen/UploadScreen/UploadScreen.style.ts","app/screens/MainScreen/UploadScreen/UploadContext.tsx","app/components/inputs/CommonTextInput.style.ts","app/components/inputs/CommonTextInput.tsx","app/components/videoPlayers/VideoPlayer.style.ts","app/hooks/useTimer.ts","app/components/videoPlayers/VideoPlayer.subset.tsx","app/components/videoPlayers/VideoPlayer.global.ts","app/components/videoPlayers/SimplifiedVideoPlayer.tsx","app/screens/MainScreen/UploadScreen/InputDataScreen.tsx","app/utils/file.ts","app/screens/MainScreen/UploadScreen/SelectTypeScreen.tsx","app/screens/MainScreen/UploadScreen/UploadScreen.tsx","app/screens/MainScreen/UserPageScreen.tsx","app/screens/MainScreen/VideoEditScreen.tsx","app/components/videoPlayers/MainVideoPlayer.tsx","app/screens/MainScreen/VideoScreen.tsx","app/hooks/useViewList.ts","app/screens/MainScreen/MainScreen.tsx","app/components/buttons/SocialLoginButton.style.ts","app/components/buttons/SocialLoginButton.tsx","app/components/navbars/WizardNavBar.tsx","app/utils/validator.ts","app/screens/OnBoardingScreen/SignInScreen/SignInScreen.style.ts","app/screens/OnBoardingScreen/SignInScreen/SignInScreen.tsx","app/screens/OnBoardingScreen/SignUpScreen/SignUpContext.tsx","app/screens/OnBoardingScreen/SignUpScreen/SignUpScreen.style.ts","app/screens/OnBoardingScreen/SignUpScreen/SetPasswordScreen.tsx","app/screens/OnBoardingScreen/SignUpScreen/SetUserDescriptionScreen.tsx","app/screens/OnBoardingScreen/SignUpScreen/SetUserProfileScreen.tsx","app/screens/OnBoardingScreen/SignUpScreen/VerifyMailScreen.tsx","app/screens/OnBoardingScreen/SignUpScreen/SignUpScreen.tsx","app/screens/OnBoardingScreen/OnBoardingScreen.style.ts","app/screens/OnBoardingScreen/CatchPhraseScreen.tsx","app/screens/OnBoardingScreen/OnBoardingScreen.tsx","app/screens/RootScreen.tsx","app/AppContainer.tsx","App.tsx","app/assets/custom/upload.png","app/assets/dev/profile.jpg","app/assets/dev/graph.png","app/assets/socials/github-small.png","app/assets/dev/sylye.jpg","app/assets/notices/notice01.png","app/assets/notices/notice02.png","app/assets/notices/notice03.png","app/assets/notices/notice04.png","app/assets/notices/notice05.png","app/assets/favicon.png","app/assets/socials/google-small.png","app/assets/socials/naver-small.png","app/assets/socials/kakao-small.png","app/assets/custom/google-icon.png","app/assets/custom/que-icon.png"],"names":["module","exports","bColors","Dimensions","get","height","width","bSpace","bFont","Platform","OS","small","middle","large","xlarge","createSlice","name","initialState","user","isSigned","viewList","reducers","setCredential","state","action","newUserState","profilePictureUrl","payload","nickname","level","userId","email","description","clearCredential","addViewedVideo","videoId","extraReducers","actions","authReducer","reducer","selectCurrentUser","auth","selectIsSigned","selectViewList","noticeList","initializeNoticeList","noticeId","addViewedUser","noticeReducer","selectNoticeList","notice","rootReducer","combineReducers","persistConfig","key","version","storage","AsyncStorage","persistedReducer","persistReducer","store","configureStore","middleware","getDefaultMiddleware","serializableCheck","ignoredActionPaths","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","devTools","process","persistor","persistStore","StyleSheet","create","defaultScreenLayout","flex","backgroundColor","DummyComponent","sharedSize","mainScreenHeaderStyle","default","flexDirection","alignItems","justifyContent","titleContainer","marginLeft","marginVertical","titleText","fontSize","paddingVertical","titleLogo","Math","ceil","resizeMode","buttonsContainer","marginRight","headerButtonView","headerButtonIcon","headerProfilePicSize","commonHeaderStyle","backButtonContainer","roundedButtonContainer","roundedButton","prodEnv","VERIFICATION_SERVER","PROTOCOL","HOST","PORT","PREFIX","FIREBASE","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","getEnv","firebaseConfig","blobToDataURL","blob","Promise","resolve","reject","reader","FileReader","onload","_e","result","onerror","error","onabort","Error","readAsDataURL","dataURLToBlob","dataURL","xhr","XMLHttpRequest","response","e","console","TypeError","responseType","open","send","QueResourceResponseErrorType","QueAuthResponse","getApps","length","initializeApp","lastDocument","createCollection","collectionName","firestore","getFirestore","collection","VideoCollection","UserCollection","genSimpleUUID","dateTail","Date","getTime","Array","from","floor","random","toString","join","getVideoCardDataByUserIdFromFirestore","per","page","a","async","queryConstraintsArray","orderBy","limit","push","startAfter","userDocRef","doc","where","videoCardQuery","query","getDocs","querySnapshot","docs","rtDataset","wholeData","data","filteredData","uploadedAt","timestampToDate","id","uploader","getDoc","uploaderData","getUserProfile","userDataSnap","exists","success","errorType","NotFound","UndefinedError","setUserDocument","uid","registeredAt","setDoc","setVideoDocument","videoData","currentUid","getCurrentUID","videoDocRef","storagePathPrefix","sourceUrl","thumbnailUrl","uploadDone","merge","deleteVideoDocument","videoDocSnap","snapData","SignInRequired","uploaderDataSnap","Wrong","deleteDoc","updateVideoUploaded","isDone","updateDoc","getMyLikeReactions","likeType","targetId","userDoc","userDocSnapshot","selectedData","likeId","rtLikeData","timestamp","toDate","fetchUserEmail","token","fetch","method","headers","Accept","Authorization","json","getAuth","currentUser","getMediaFromStorage","url","getStorage","imgRef","ref","getDownloadURL","uploadVideoSource","thumbnailSourcePath","videoSourcePath","rtStatus","videoOk","thumbnailOk","videoStoragePath","videoBlob","videoStorageRef","uploadBytes","thumbnailStoragePath","thumbnailBlob","thumbnailStorageRef","deleteVideoSource","deleteObject","QueResourceClient","FirebaseResourceClient","getVideoDownloadURL","getImageDownloadURL","getVideoCardData","getVideoCardDataByUserId","getVideoData","videoDataSnap","uploadedAtDate","rtVideoData","getUserProfileData","getUserProfilePicture","storageUrl","downloadUrl","code","updateUserProfile","updateData","savedDoc","docResult","uploadUserProfileImage","filePath","storagePath","storageRef","dislikeVideo","targetVideoId","videoDocData","likedList","deleteParentField","Object","keys","reactions","likes","video","deleteField","likeCount","increment","itrLikeId","increaseVideoViewCount","viewCount","likeVideo","likedAt","getLikeRequest","likedData","TooManyRequest","newLikeId","newLikeData","likePosition","newVideoLikeObject","newVideoUserLikeObject","rtLikedData","updateVideoData","newVideoData","uploadVideo","uploadStatus","deleteVideo","storageResult","FirebaseAuthClient","signInWithGoogle","accessToken","credential","GoogleAuthProvider","undefined","userEmail","fetchSignInMethodsForEmail","signInMethods","signInWithCredential","signInResult","userResult","signedUser","displayName","metadata","creationTime","status","Created","includes","OK","AlreadyExist","errorCode","AuthErrorCodes","INVALID_PASSWORD","USER_DELETED","USER_DISABLED","Gone","INVALID_EMAIL","BadBody","signInWithQueSelfManaged","password","signInWithEmailAndPassword","signOut","refreshUser","profilePictureStyles","size","alignSelf","borderRadius","overflow","profilePic","ProfilePicture","QueAuthClient","props","mainNavigator","useNavigation","useState","setProfilePictureUrl","profileLoading","setProfileLoading","useEffect","downloadUrlResult","getDownloadUrl","navigateToUserPage","useCallback","navigate","inheritedFontSize","style","flatten","styles","TouchableOpacity","testID","onPress","Image","source","uri","View","value","config","URL","MailVerificationClient","requestVerificationCodeMail","mailAddr","reqUrl","statusCode","values","sendVerificationCode","body","JSON","stringify","mail","signUpWithQueSelfManaged","useAppDispatch","useSelector","useDispatch","useConfirm","asyncNativeAlert","title","subTitle","Alert","alert","text","cancelable","confirm","ScreenCoverLoadingSpinner","position","elevation","ActivityIndicator","color","Text","marginTop","textAlign","message","LoadingIndicatorContext","createContext","isLoading","setIsLoading","loadingMessage","setLoadingMessage","LoadingIndicatorProvider","children","Provider","useLoadingIndicator","useContext","showLoading","hideLoading","signInErrorMessages","useSignWithGoogle","Google","clientId","selectAccount","request","promptAsync","onBoardingNavigator","dispatch","type","authentication","loginResult","curNavState","getState","routes","index","reset","Toast","show","params","hasProvider","errMsg","errorMessage","useSignInWithQue","navigateAfter","useSignOut","asyncAlert","rootNavigator","useAuth","useMemo","useNotImplementedWarning","HomeHeaderButtonGroup","notImplemented","handleOnPressAlarm","handleOnPressSearch","accessibilityRole","MaterialIcons","ProfilePictureButton","MainScreenHeader","useAssets","require","assets","SafeAreaView","back","HeaderBackButton","navigation","goBack","numberOfLines","ellipsizeMode","navBarStyle","borderTopColor","borderTopWidth","paddingHorizontal","buttonTouchableArea","buttonContainer","uploadButtonImage","buttonFont","buttonFontSelected","wizardNavBarContainer","wizardButtonContainer","wizardButton","skipButton","nextButton","iconStyles","buttonIcon","buttonIconSelected","HomeNavBar","navButtonMapper","map","route","options","descriptors","isFocused","icon","Upload","Timeline","Preference","buttonIcons","accessibilityState","selected","accessibilityLabel","tabBarAccessibilityLabel","tabBarTestID","event","emit","target","canPreventDefault","defaultPrevented","getParent","onLongPress","buttonLayoutStyles","buttonBorder","buttonBody","colorsetByTypes","enabledBorder","bgColor","bdColor","txColor","enabledDark","disabled","primary","white","danger","RoundedButton","insideStyles","colorSet","buttonType","inheritedStyle","fontWeight","buttonInside","iconData","withText","borderWidth","borderColor","buttonImage","iconSize","buttonText","bold","gradientBackground","verticalLine","rowFlexContainer","rowFlexItem","marginHorizontal","rowFlexIcon","rowFlexText","primaryGradient","colors","start","x","y","end","buttonInsideStyles","iconComponent","iconType","imageSrc","Ionicons","ioniconName","materialIconName","Pressable","LinearGradient","selectable","defaultProps","warn","menuModalStyles","menuModalView","bottom","maxWidth","modalSwipeIndicator","modalSwipeHandle","menuModalChildrenContainer","menuModalItemContainer","menuModalItemFlexBox","marginBottom","menuModalItemFlexItem","noticeModalView","noticeModalHeader","noticeModalBody","noticeModalBottom","noticeModalIcon","noticeModalButtonEnabled","noticeModalButtonDisabled","MenuModal","onCloseRequested","setModalVisible","visible","isVisible","onBackButtonPress","onBackdropPress","onSwipeComplete","swipeDirection","swipeThreshold","TouchableWithoutFeedback","MenuModalItem","onMenuPress","iconName","menuText","DevInfoScreen","isSubscribed","setIsSubscribed","isFollowed","setIsFollowed","myMailAddr","menuModalVisible","setMenuModalVisible","toast","useToast","ScrollView","screens","rootContainer","onTouchEnd","menuContainer","menuTextSelected","profileContainer","profilePictureContainer","profilePicture","profileLevelIconContainer","profileLevelIconDeco","profileLevelIcon","profileTextContainer","introductionContainer","myName","myNickname","myComment","followContainer","followTextContainer","followTextTop","followTextBottom","verticalSeparator","textAlignVertical","statContainer","countContainer","countSection","countTextTop","countTextBottom","graphContainer","graphPlaceholder","tasteContainer","tasteSection","tasteTextTop","tasteTextMiddle","linkButton","Linking","openURL","linkText","Clipboard","borderBottomColor","margin","paddingTop","PreferenceStack","createNativeStackNavigator","PreferenceMainMenuScreen","preferenceNavigator","menuName","preferenceMenuData","handleRenderItem","item","PreferenceMenuItem","FlatList","showsHorizontalScrollIndicator","renderItem","keyExtractor","listItem","menuItemContainer","menuItemText","max","PreferenceScreen","Navigator","screenOptions","headerShown","Screen","component","videoCardStyles","cardView","thumbnailView","videoThumbnailBackground","videoThumbnailImage","videoThumbnailText","videoDate","left","videoTime","right","optionButton","top","optionButtonText","lineHeight","cardInfoView","cardViewHeight","infoTitleView","infoTitleText","infoSingerText","reactionView","reactionChildView","upperCountText","reactionButtonEnabled","reactionButtonDisabled","lowerCountText","formatCount","count","front","formatTimer","msLength","sec","secLength","addZeroPadding","str","zeros","fill","formatDate","sourceDate","separator","year","getFullYear","month","getMonth","day","getDate","VideoCard","videoInfo","strViewCount","strLikeCount","starCount","strStarCount","videoLiked","setVideoLiked","videoStarred","inheritedTestID","isMyVideo","setIsMyVideo","onPressCard","navigateToEvalutaion","likeThisVideo","CardThumbnailView","direction","onPressMenuButton","CardInfoView","onPressLike","onPressStar","liked","starred","uploaderName","uploaderId","targetDate","modifiedVideoLength","formatDistanceToNow","locale","ko","modifiedVideoDate","thumbnail","setThumbnail","downloadURL","downloadImage","likeButton","starButton","videoCardListStyles","cardListConatiner","indicatorContainer","noMoreDataImage","opacity","easterMessage","VideoCardList","indicatorType","LoadingIndicator","noMoreData","hideNoMoreDataIndicator","NoMoreDataIndicator","handleEndReached","onScrollEnded","onRefresh","contentContainerStyle","onEndReached","onEndReachedThreshold","refreshing","NoticeModal","pageNum","setPageNum","isFirst","setIsFirst","isLast","setIsLast","pages","onMovePrev","onMoveNext","animationIn","animationOut","TimelineScreen","videoDataList","setVideoDataList","setNoMoreData","hasNotice","setHasNotice","isInitialized","setIsInitialized","addUser","useNotice","loading","useFocusEffect","getInitialData","initialDataLength","initialData","finally","getMoreVideoData","cardPerPage","newDataset","prev","notices","HomeTab","createBottomTabNavigator","HomeScreen","tabBar","CommonHeader","hideBackButton","replaceTitleWithLogo","hideButton","uploadScreenStyle","largeButtonsContainer","paddingBottom","warningText","largeButton","largeButtonDisabled","largeButtonIcon","largeButtonText","seperation","videoContainer","dataInputContainer","dataInputLabel","dataInputField","defaultUploadContext","buttonEnabled","setButtonEnabled","buttonHidden","setButtonHidden","videoTitle","setVideoTitle","videoDescription","setVideoDescription","songInfo","setSongInfo","placeInfo","setPlaceInfo","videoPath","setVideoPath","thumbnailPath","setThumbnailPath","videoLength","setVideoLength","UploadContext","sharedStyle","minHeight","maxHeight","commonTextInputStyles","borderBottomWidth","valid","invalid","multiLineStyles","contentHeight","calculated","CommonTextInput","setFocused","setContentHeight","TextInput","scrollEnabled","onFocus","onBlur","onContentSizeChange","nativeEvent","contentSize","multiline","videoHeartIconSIze","videoPlayerStyles","container","videoCoreContainer","videoCore","videoControllerView","videoTransparentPressableArea","zIndex","videoDarkOverlay","videoUpperControllerContainer","videoInfoContainer","padding","videoInfoRow","videoInfoColor","videoInfoText","videoTitleText","videoUploaderText","videoDescriptionContainer","videoDescriptionText","videoReactionContainer","videoReactionRow","videoReactionText","minWidth","videoReactionItem","videoMiddleControllerContainer","videoBufferIndicator","videoBigButton","videoMiddleButtonContainer","videoMiddleDummyArea","videoMiddleButtonSpace","videoMiddleButton","videoMiddleButtonText","videoBottomControllerContainer","videoSmallButton","videoSliderContainer","alignContent","videoSlider","videoHeartArea","videoHeartIndicatorContainer","videoHeartIndicatorText","videoHeartIndicatorIcon","videoHeartIndicatorEmpty","heartPositionBuilder","likedPosition","sliderWidth","heartPosition","sliderStyle","tintColor","heartColor","sizeLarge","sizeXlarge","sizeXXlarge","useToggleTimer","booleanStateSetter","toState","timeout","timerId","option","clearTimeout","updateNewTimer","setTimeout","VideoMiddleController","isBuffering","isControlHidden","togglePlay","isPlaying","didJustFinish","AnimatedMaterialIcon","Animated","createAnimatedComponent","VideoBottomController","likable","setLikable","setSliderWidth","getSliderWidth","layout","animation","useRef","Value","current","colorFadeInterpolation","interpolate","inputRange","outputRange","refreshLikableTimer","HEART_COLOR_TIMER","useLikes","noMoreLike","timing","toValue","duration","useNativeDriver","handleButtonDebouncing","handleLikeBottonPressed","onLike","heartIndicators","likesData","like","SliderHeartIndicator","likeData","onDislike","onLayout","minimumValue","maximumValue","minimumTrackTintColor","maximumTrackTintColor","thumbTintColor","videoPosition","onSlidingComplete","seekVideo","modalVisible","handleDislike","SimplifiedVideoPlayer","videoPlayer","isLoaded","setIsLoaded","setIsPlaying","setDidJustFinish","setIsBuffering","setVideoPosition","setIsControlHidden","handleOnPlaybackStatusUpdate","playbackStatus","positionMillis","durationMillis","setPositionAsync","refreshHidingControlTimer","clearOverlay","displayOverlay","pauseAsync","playAsync","Video","videoSource","onPlaybackStatusUpdate","InputVideoDataScreen","useIsFocused","VideoDataInputFieldSet","textContentType","placeholder","onChangeText","newStr","checkFileSize","fileURI","FileSystem","fileSizeBytes","checkSizeLimitMB","fileSize","limitMB","checkVideoLengthManually","videoURI","media","Audio","onloadedmetadata","SelectTypeScreen","uploadNavigator","uploadExistingVideo","ImagePicker","granted","ToastAndroid","SHORT","mediaTypes","Videos","pickerResult","cancelled","thumbnailUri","getThumbnails","blobResult","VideoThumbnails","recordThenUploadVideo","UploadStack","UploadScreen","uploadAndPostVideo","song","place","uploadResult","initialRouteName","contentStyle","header","userPageStyle","userPageUploadedVideoListContainer","labelText","noVideoText","UserPageScreen","userData","setUserData","getUserData","setOptions","bottomDangerZone","VideoEditScreen","editVideoTitle","setEditVideoTitle","editVideoDescription","setEditVideoDescription","editSongInfo","setEditSongInfo","editPlaceInfo","setEditPlaceInfo","initVideoTitle","setInitVideoTitle","initVideoDescription","setInitVideoDescription","initSongInfo","setInitSongInfo","initPlaceInfo","setInitPlaceInfo","postable","setPostable","prVideoData","httpDownloadUrl","fetchVideo","singer","handleOnEditPressed","handleOnDeletePressed","answer","useLayoutEffect","MainVideoPlayer","isInfoHidden","setIsInfoHidden","refreshHidingInfoTimer","sustainInfoView","likeDataArray","setLikeDataArray","setNoMoreLike","getStatusAsync","videoStatus","dislikeThisVideo","rt","getLikes","onTouchStart","onScroll","VideoScreen","targetVideoData","setTargetVideoData","videoUrl","setVideoUrl","increaseViewCount","useViewList","fetchVideoInfo","MainStack","MainScreen","sharedShadow","shadowOpacity","shadowRadius","shadowOffset","select","web","ios","android","buttonPressable","SocialLoginButton","imgNumber","setImgNumber","WizardNavBar","hideSkipButton","onSkip","enableNextButton","onNext","nextButtonText","validateEmail","mailAddress","RegExp","test","signInScreenStyle","bottomContainer","textInput","WebBrowser","SignInScreen","setUserEmail","setPassword","isTriable","setIsTriable","loginWithQue","signWithGoogle","handleOnEnterPressed","handleOnNextButtonPressed","StatusBar","translucent","autoFocus","keyboardType","onKeyPress","secureTextEntry","defaultSignUpContext","signUpNavigator","buttonAction","setButtonAction","setHideButton","newUserProfile","setNewUserProfile","SignUpContext","signUpScreenStyle","upperContainer","textInputUpper","textInputNickname","messageText","errorMessageText","messageTextButton","textAlignCenter","textAlignRight","profileUploadButtonInside","uploadButtonContainer","borderStyle","withImage","uploadButtonIcon","uploadButtonMessage","uploadedImage","guidanceTextSet","short","number","pass","letter","space","special","SetPasswordScreen","isValidPassword","setIsValidPassword","isWarningGuide","setIsWarningGuide","confirmPassword","setConfirmPassword","guidance","setGuidance","signIn","postUserPassword","authClient","reqResult","validation","validatePassword","SetUserDescriptionScreen","setDescription","isLengthOver","setIsLengthOver","updateDescriptionInput","postUserDescription","SetUserProfileScreen","profileLocalURL","setProfileLocalURL","userNickname","setUserNickname","isValidName","setIsValidName","openImagePickerAsync","Images","allowsMultipleSelection","allowsEditing","saveUserProfile","imageUploadResult","updateResult","saved","getUser","SIZE_LIMIT","selectTextOnFocus","failMessages","codeMatchingMessages","VerifyMailScreen","isMailInvalid","setIsMailInvalid","failMessage","setFailMessage","verifyingCode","setVerifyingCode","isCodeMatching","setIsCodeMatching","codeMatchingMessage","setCodeMatchingMessage","sentMail","setSentMail","timer","setTimer","sendVerificationMail","mailReqResult","AlreadyPassed","strStatusCode","verifyWithCode","countdown","setInterval","clearInterval","SignUpStack","SignUpScreen","Group","Consumer","contextContainer","flexGrow","catchPhraseContainer","catchPhraseText","signInSuggestionText","signInButtonText","CatchPhraseScreen","signed","setSigned","signUpNewQueUser","ImageBackground","OnBoardingStack","OnBoardingScreen","initialParams","RootStack","RootScreen","AppContainer","appIsReady","setAppIsReady","SplashScreen","Font","Entypo","font","onLayoutRootView","NavigationContainer","linking","enabled","prefixes","shadowColor","App","NativeBaseProvider","rootBackground","LogBox","ignoreLogs"],"mappings":"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","file":"static/js/app.f3587e71.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/haeder-logo.20e0a5ce.png\";","module.exports = __webpack_public_path__ + \"static/media/logo-colored.66d4facc.png\";","module.exports = __webpack_public_path__ + \"static/media/logo-big.3b6037d0.png\";","/**\n * Que 어플리케이션 글로벌 스타일 객체\n */\n\nimport { Dimensions, Platform } from \"react-native\";\n\n/**\n * 실행 화면 기반 높이 / 너비\n */\nexport const bDimensions = {\n  fullHeight: Dimensions.get(\"window\").height,\n  fullWidth: Dimensions.get(\"window\").width,\n};\n\n/**\n * 컬러 스타일\n */\nexport const bColors = {\n  primary: \"#0073F5\",\n  secondary: \"#52A5FF\",\n  tetiary: \"#0DF9FA\",\n  white: \"#FFFFFF\",\n  black: \"#000000\",\n  greyPrimary: \"#787878\",\n  greySecondary: \"#C4C4C4\",\n  greyTetiary: \"#E5E5E5\",\n  /** 투명도 추가 80% */\n  tpPrimary: \"CC\",\n  /** 투명도 추가 60% */\n  tpSecondary: \"99\",\n  /** 투명도 추가 40% */\n  tpTetiary: \"66\",\n  /** 완전 투명 */\n  transparent: \"#00000000\",\n  red: \"#DD3730\",\n  redDark: \"#BA1B1B\",\n  redLight: \"#FFB4A9\",\n};\n\n/**\n * 컴포넌트 여백 수치 단위\n */\nexport const bSpace = {\n  /** 4 */\n  small: 4,\n  /** 8 */\n  middle: 8,\n  /** 12 */\n  large: 12,\n  /** 16 */\n  xlarge: 16,\n};\n\n/**\n * 폰트 크기 단위\n */\nexport const bFont: {\n  /** web 12, mobile 8 */\n  small: number;\n  /** web 16, mobile 12 */\n  middle: number;\n  /** web 20, mobile 16 */\n  large: number;\n  /** web 24, mobile 24 */\n  xlarge: number;\n} =\n  Platform.OS === \"web\"\n    ? {\n        small: 12,\n        middle: 16,\n        large: 20,\n        xlarge: 24,\n      }\n    : {\n        small: 8,\n        middle: 12,\n        large: 16,\n        xlarge: 24,\n      };\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { RootState } from \"../store\";\n\nimport UserType from \"../types/User\";\n\n/** 현재 로그인 한 사용자 상태 */\nexport type AuthState = {\n  /** 사용자 프로필 정보 */\n  user: UserType;\n  /** 사용자 로그인 여부 */\n  isSigned: boolean;\n  /** 사용자가 시청한 목록 */ // 사용자가 로그인한 동안 시청한 영상들을 저장합니다. 중복 View Counting을 방지합니다.\n  viewList: { [videoId: string]: boolean };\n};\n\n/** 최초 상태 */\nconst initialState: AuthState = {\n  user: {},\n  isSigned: false,\n  viewList: {},\n};\n\n// Ducks 패턴\n/** Auth 관련 상태 저장소 생성 */\nconst { actions, reducer: authReducer } = createSlice({\n  name: \"auth\",\n  initialState: initialState,\n  reducers: {\n    /**\n     * 로그인한 사용자의 정보를 저장합니다.\n     * 필요한 정보만 담도록 내부적으로 제한 합니다.\n     */\n    setCredential: (state, action: PayloadAction<{ user: UserType }>) => {\n      const newUserState: UserType = {\n        profilePictureUrl: action.payload.user.profilePictureUrl,\n        nickname: action.payload.user.nickname,\n        level: action.payload.user.level,\n        userId: action.payload.user.userId,\n        email: action.payload.user.email,\n        description: action.payload.user.description,\n      };\n      state.user = newUserState;\n      state.isSigned = true;\n    },\n    /** 사용자 정보를 상태에서 제거합니다. */\n    clearCredential: (state) => {\n      state.user = {};\n      state.isSigned = false;\n      state.viewList = {};\n    },\n    /** 시청한 영상을 목록에 추가합니다. */\n    addViewedVideo: (state, action: PayloadAction<{ videoId: string }>) => {\n      state.viewList[action.payload.videoId] = true;\n    },\n  },\n  extraReducers: {},\n});\n\nexport const { setCredential, clearCredential, addViewedVideo } = actions;\n\nexport const selectCurrentUser = (state: RootState) => state.auth.user;\nexport const selectIsSigned = (state: RootState) => state.auth.isSigned;\nexport const selectViewList = (state: RootState) => state.auth.viewList;\n\nexport default authReducer;\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { RootState } from \"../store\";\n\n/** 사용자 공지 표출 여부 상태 */\nexport type NoticeState = {\n  /** 공지별로 공지를 본 사용자 목록 */\n  noticeList: { [noticeId: string]: { [userId: string]: boolean } };\n};\n\n/** 최초 상태 */\nconst initialState: NoticeState = {\n  noticeList: {},\n};\n\n// Ducks 패턴\n/** Notice 관련 상태 저장소 생성 */\nconst { actions, reducer: noticeReducer } = createSlice({\n  name: \"notice\",\n  initialState: initialState,\n  reducers: {\n    /** 해당 공지에 대한 목록을 초기화합니다. */\n    initializeNoticeList: (\n      state,\n      action: PayloadAction<{ noticeId: string }>\n    ) => {\n      const { noticeId } = action.payload;\n      if (!state.noticeList[noticeId]) {\n        state.noticeList[noticeId] = {};\n      }\n    },\n    /** 시청한 영상을 목록에 추가합니다. */\n    addViewedUser: (\n      state,\n      action: PayloadAction<{ noticeId: string; userId: string }>\n    ) => {\n      const { noticeId, userId } = action.payload;\n      if (!state.noticeList[noticeId]) {\n        state.noticeList[noticeId] = {};\n      }\n\n      state.noticeList[noticeId][userId] = true;\n    },\n  },\n  extraReducers: {},\n});\n\nexport const { addViewedUser, initializeNoticeList } = actions;\n\nexport const selectNoticeList = (\n  state: RootState\n): {\n  [noticeId: string]: {\n    [userId: string]: boolean;\n  };\n} => state.notice.noticeList;\n\nexport default noticeReducer;\n","import { combineReducers } from \"redux\";\nimport authReducer from \"./authReducer\";\nimport noticeReducer from \"./noticeReducer\";\n\nconst rootReducer = combineReducers({\n  auth: authReducer,\n  notice: noticeReducer,\n});\n\nexport default rootReducer;\n","// store.ts\n/**\n * @module store\n * 어플리케이션 전역적으로 사용될 상태의 저장소\n */\n\nimport { configureStore } from \"@reduxjs/toolkit\";\nimport rootReducer from \"../reducers\";\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from \"redux-persist\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\"; // v6\n\nconst persistConfig = {\n  key: \"root\",\n  version: 1,\n  storage: AsyncStorage,\n};\n\n/**\n * redux-persist\n * 새로고침 시에도 redux state가 유지되도록 합니다.\n */\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\n\n/**\n * Globalized app store\n */\nconst store = configureStore({\n  reducer: persistedReducer,\n  middleware: (getDefaultMiddleware) => {\n    return getDefaultMiddleware({\n      serializableCheck: {\n        ignoredActionPaths: [\"payload.user\"],\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n      },\n    });\n  },\n  devTools: process.env.NODE_ENV !== \"production\",\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\nexport default store;\nexport const persistor = persistStore(store);\n","import { StyleSheet } from \"react-native\";\nimport { bColors } from \"./base\";\n\n/** 스크린 단위 공통 스타일 클래스 */\nexport default StyleSheet.create({\n  /**\n   * 화면 전체를 커버하는 스크린 크기\n   */\n  defaultScreenLayout: {\n    flex: 1,\n    backgroundColor: bColors.white,\n  },\n});\n","/**\n * react-native는 인라인 펑션으로 컴포넌트 프롭을 전달하는 것을 즐기지 않습니다.\n * 개발 중 에러 코드 보기 싫을 때 사용하는 더미 컴포넌트\n * @returns\n */\nfunction DummyComponent() {\n  return null;\n}\n\nexport default DummyComponent;\n","import { Platform, StyleSheet } from \"react-native\";\nimport { bColors, bFont, bSpace } from \"../../styles/base\";\n\nconst sharedSize = bFont.xlarge;\n\n/** MainScreenHeader용 스타일 */\nexport const mainScreenHeaderStyle = StyleSheet.create({\n  default: {\n    flexDirection: \"row\",\n    height: 56,\n    backgroundColor: bColors.white,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  titleContainer: {\n    flexDirection: \"row\",\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"flex-start\",\n    marginLeft: bSpace.xlarge,\n    marginVertical: bSpace.middle,\n  },\n  titleText: {\n    fontSize: bFont.large,\n    paddingVertical: bSpace.middle,\n    flex: 1,\n  },\n  titleLogo: {\n    height: sharedSize,\n    width: Math.ceil((sharedSize * 187) / 75), // 러프한 방법으로 로고 크기 지정 하였음\n    resizeMode: \"contain\",\n  },\n  buttonsContainer: {\n    flex: 1,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    marginRight: bSpace.xlarge,\n  },\n  headerButtonView: {\n    marginLeft: bSpace.xlarge,\n  },\n  headerButtonIcon: {\n    fontSize: sharedSize,\n  },\n  headerProfilePicSize: {\n    fontSize: sharedSize + bFont.small,\n  },\n});\n\n/** CommonHeader용 스타일 */\nexport const commonHeaderStyle = StyleSheet.create({\n  default: {\n    backgroundColor: bColors.white,\n    height: 56,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n  backButtonContainer: {\n    flex: 1,\n    alignItems: \"flex-start\",\n  },\n  titleContainer: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  titleLogo: {\n    height: bFont.large * 2,\n    resizeMode: \"contain\",\n  },\n  titleText: {\n    fontSize: sharedSize,\n  },\n  roundedButtonContainer: {\n    flex: 1,\n    alignItems: \"flex-end\",\n  },\n  roundedButton: {\n    width: bSpace.large * 6,\n    height: bFont.large * 2,\n    fontSize: bFont.large,\n    marginRight: bSpace.middle,\n  },\n});\n","/**\n * 어플리케이션 전역 설정값입니다. 빌드 환경에 따라 달라집니다.\n */\ninterface Configuration {\n  /** 메일 인증 서버 관련 설정입니다. */\n  VERIFICATION_SERVER: {\n    PROTOCOL: string;\n    HOST: string;\n    PORT: number;\n    PREFIX: string;\n  };\n  /** 파이어베이스 관련 설정입니다. */\n  FIREBASE: {\n    apiKey: string;\n    authDomain: string;\n    projectId: string;\n    storageBucket: string;\n    messagingSenderId: string;\n    appId: string;\n    measurementId: string;\n  };\n}\n\n/** 배포 환경 */\nconst prodEnv: Configuration = {\n  VERIFICATION_SERVER: {\n    PROTOCOL: \"http\",\n    HOST: \"118.67.131.12\",\n    PORT: 18080,\n    PREFIX: \"/api/v1\",\n  },\n  FIREBASE: {\n    apiKey: \"AIzaSyCOz2G9IfEWv2oWkJkn6oKSm1CkZ9KwxDM\",\n    authDomain: \"que-production.firebaseapp.com\",\n    projectId: \"que-production\",\n    storageBucket: \"que-production.appspot.com\",\n    messagingSenderId: \"1092820632181\",\n    appId: \"1:1092820632181:web:6fea9e37c52b5c5ccc6e3c\",\n    measurementId: \"G-34J4MB0M1L\",\n  },\n};\n\n/** 개발 환경 */\nconst devEnv: Configuration = {\n  VERIFICATION_SERVER: {\n    PROTOCOL: \"http\",\n    HOST: \"localhost\",\n    PORT: 18080,\n    PREFIX: \"/api/v1\",\n  },\n  FIREBASE: {\n    apiKey: \"AIzaSyBegKpJPoze-yVHlWc9FC0vOKeHmDOckbk\",\n    authDomain: \"que-backend-dev.firebaseapp.com\",\n    projectId: \"que-backend-dev\",\n    storageBucket: \"que-backend-dev.appspot.com\",\n    messagingSenderId: \"944223797321\",\n    appId: \"1:944223797321:web:31d1b5e50baec0c6a83f98\",\n    measurementId: \"G-Z16F7Q50GY\",\n  },\n};\n\nexport default function getEnv(): Configuration {\n  if (__DEV__) {\n    return devEnv;\n  } else {\n    return prodEnv;\n  }\n}\n","import getEnv from \"../../config/env\";\n\nconst firebaseConfig = getEnv().FIREBASE;\n\nexport default firebaseConfig;\n","// TBD 테스트 코드 작성\n\n/**\n * Blob Object를 DataURL로 변환하는 함수입니다.\n * @param blob Blob 오브젝트\n * @returns 변환된 URL, Promise입니다.\n */\nexport function blobToDataURL(blob: Blob): Promise<string> {\n  return new Promise<string>((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = (_e) => resolve(reader.result as string);\n    reader.onerror = (_e) => reject(reader.error);\n    reader.onabort = (_e) => reject(new Error(\"Read aborted\"));\n    reader.readAsDataURL(blob);\n  });\n}\n\n/**\n * DataURL을 Blob Object로 변환하는 함수입니다.\n * @param dataURL DataURL\n * @returns 반환된 Blob, Promise입니다.\n */\nexport function dataURLToBlob(dataURL: string): Promise<Blob> {\n  return new Promise<Blob>((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n    xhr.onload = function () {\n      resolve(xhr.response as Blob);\n    };\n    xhr.onerror = function (e) {\n      console.error(e);\n      reject(new TypeError(\"Network request failed\"));\n    };\n    xhr.responseType = \"blob\";\n    xhr.open(\"GET\", dataURL, true);\n    xhr.send(null);\n  });\n}\n","import LikeType, { LikeTypeSelector } from \"../../types/Like\";\nimport UserType from \"../../types/User\";\nimport VideoType from \"../../types/Video\";\n\n/** 한 영상에 할 수 있는 최대 좋아요 수 */\nexport const MAX_VIDEO_LIKE_LIMIT = 3; // 근데 여기 두는게 맞나?\n\nexport enum QueResourceResponseErrorType {\n  // Bad Requests\n  BadBody = \"400\",\n  AlreadyExist = \"409\",\n  TooManyRequest = \"429\",\n  Wrong = \"403\",\n  NotFound = \"404\",\n  Timeout = \"408\",\n  SignInRequired = \"401\",\n  Gone = \"410\",\n  // Server Error\n  UndefinedError = \"500\",\n}\n\nexport interface QueResourceResponse<T = void> {\n  /** 요청 성공 여부 */\n  success: boolean;\n  /** 요청한 데이터 */\n  payload?: T;\n  /** 에러 발생 시 에러 종류 */\n  errorType?: QueResourceResponseErrorType;\n}\n\n/**\n * 리소스 서버 접근 관련 인터페이스 입니다.\n */\nexport interface QueResourceAPI {\n  ////////////////////////////////////////////////// 비디오 정보 관련 인터페이스\n  /**\n   * 리소스 서버에 접근해 원본 비디오를 다운받을 수 있는 url을 반환합니다.\n   */\n  getVideoDownloadURL(storageURL: string): Promise<string>;\n  /**\n   * 리소스 서버에 접근해 원본 이미지를 다운받을 수 있는 url을 반환합니다.\n   */\n  getImageDownloadURL(storageURL: string): Promise<string>;\n  /**\n   * 리소스 서버에 접근해 VideoCardList에 적용할 수 있는 데이터 묶음을 반환합니다.\n   * (firebase 사용 중인 현재 페이지 번호를 통한 pagination이 작동하지 않음)\n   * // TBD 함수명 변경 (복수의 비디오 데이터를 가져온다는 의미를 좀 더 강조)\n   * @param per 한 번에 가저올 데이터 개수\n   * @param page 페이지 번호 (0이면 처음부터, 1이면 다음부터)\n   */\n  getVideoCardData(per: number, page: number): Promise<VideoType[]>;\n  /**\n   * 특정 사용자가 업로드한 영상 목록을 반환합니다.\n   * @param userId 사용자 아이디\n   * @param per 한 번에 가저올 데이터 개수\n   * @param page 페이지 번호 (0이면 처음부터, 1이면 다음부터)\n   */\n  getVideoCardDataByUserId(\n    userId: string,\n    per: number,\n    page: number\n  ): Promise<VideoType[]>;\n  /**\n   * 리소스 서버에 접근해 지정한 비디오에 대한 메타 정보를 가져옵니다.\n   * @param videoId 가저올 비디오의 고유 아이디\n   */\n  getVideoData(videoId: string): Promise<QueResourceResponse<VideoType>>;\n  /**\n   * 비디오와 비디오의 메타 정보를 업로드합니다.\n   * @param videoSourcePath 원본 비디오 경로\n   */\n  uploadVideo(\n    thumbnailSourcePath: string,\n    videoSourcePath: string,\n    videoData: VideoType\n  ): Promise<QueResourceResponse>;\n  /**\n   * 비디오의 메타 정보를 수정합니다.\n   * @param videoId 수정할 비디오 아이디\n   * @param newVideoData 수정할 비디오 정보\n   */\n  updateVideoData(\n    videoId: string,\n    newVideoData: VideoType\n  ): Promise<QueResourceResponse>;\n  /**\n   * 비디오를 삭제합니다.\n   * @param videoId 삭제할 비디오 아이디\n   */\n  deleteVideo(videoId: string): Promise<QueResourceResponse>;\n\n  ////////////////////////////////////////////////// 반응 관련 인터페이스\n  /**\n   * 로그인한 사용자가 해당 대상(영상, 공지, 재생목록 등등)에 반응한 좋아요를 가져옵니다.\n   */\n  getMyLikeReactions(\n    likeType: LikeTypeSelector,\n    targetId: string\n  ): Promise<QueResourceResponse<LikeType[]>>;\n\n  ////////////////////////////////////////////////// 영상에 대한 반응 관련 인터페이스\n  /**\n   * 영상의 시청 수를 증가시킵니다.\n   * TBD 중복 시청 수 증가 방지, 당분간은 중복 허용\n   * @param targetVideoId\n   */\n  increaseVideoViewCount(targetVideoId: string): Promise<QueResourceResponse>;\n  /**\n   * 로그인한 사용자가 영상에 좋아요를 추가합니다.\n   * @param targetVideoId\n   * @param likedAt\n   * @returns 좋아요 수행 이후 해당 영상에 대한 좋아요 상태\n   */\n  likeVideo(\n    targetVideoId: string,\n    likedAt: number\n  ): Promise<QueResourceResponse<LikeType[]>>;\n  /**\n   * 로그인한 사용자가 영상에 좋아요 추가를 취소합니다.\n   * @param targetVideoId\n   * @param likeId\n   * @returns 좋아요 취소 수행 이후 해당 영상에 대한 좋아요 상태\n   */\n  dislikeVideo(\n    targetVideoId: string,\n    likeId: string\n  ): Promise<QueResourceResponse<LikeType[]>>;\n\n  ////////////////////////////////////////////////// 유저 정보 관련 인터페이스\n  /**\n   * userId를 통해 특정 사용자의 프로필 데이터를 가져옵니다.\n   */\n  getUserProfileData(userId: string): Promise<QueResourceResponse<UserType>>;\n  /**\n   * userId를 통해 사용자의 프로필 사진을 가져옵니다.\n   */\n  getUserProfilePicture(userId: string): Promise<QueResourceResponse<string>>;\n  /**\n   * 리소스 서버에 접근해 사용자 정보를 변경합니다.\n   * 전달받은 속성만 변경되며, 정의되지 않은 속성은 변경되지 않습니다.\n   */\n  updateUserProfile(updateData: UserType): Promise<QueResourceResponse>;\n  /**\n   * 사용자의 프로필 사진 이미지를 업로드합니다.\n   * @param filePath 업로드 할 이미지 경로\n   */\n  uploadUserProfileImage(filePath: string): Promise<QueResourceResponse>;\n}\n\n/**\n * 사용자 인증과 관련된 요청의 결과 추상화\n */\nexport enum QueAuthResponse {\n  // Bad Requests\n  BadBody = \"400\",\n  AlreadyExist = \"409\",\n  TooManyRequest = \"429\",\n  Wrong = \"403\",\n  NotFound = \"404\",\n  Timeout = \"408\",\n  SignInRequired = \"401\",\n  Gone = \"410\",\n  // Server Error\n  ServerError = \"500\",\n  // OK\n  OK = \"200\",\n  Created = \"201\",\n  AlreadyPassed = \"208\",\n}\n\n// 로그인 관련 API 리턴 타입\n/** 로그인 성공시 반환 */\nexport interface QueSignInSucceeded {\n  status: QueAuthResponse.OK | QueAuthResponse.Created;\n  user: UserType;\n}\n/** 로그인 실패시 반환 */\nexport interface QueSignInFailed {\n  status:\n    | QueAuthResponse.AlreadyExist\n    | QueAuthResponse.Wrong\n    | QueAuthResponse.NotFound\n    | QueAuthResponse.Gone\n    | QueAuthResponse.BadBody;\n}\n\n/**\n * 사용자 인증 관련 인터페이스 입니다.\n */\nexport interface QueAuthAPI {\n  /** 메일 검증 코드가 담긴 메일을 전송하도록 요청합니다. */\n  requestVerificationCodeMail(mailAddr: string): Promise<QueAuthResponse>;\n  /** 사용자가 입력한 검증 코드를 검증 서버에 전달해 검증 결과를 반환합니다. */\n  sendVerificationCode(\n    mailAddr: string,\n    code: string\n  ): Promise<QueAuthResponse>;\n  /** Que 자체 서비스 회원 가입을 진행합니다. */\n  signUpWithQueSelfManaged(\n    mailAddr: string,\n    password: string\n  ): Promise<QueAuthResponse>;\n  /** Que 계정을 사용한 로그인을 진행합니다. */\n  signInWithQueSelfManaged(\n    mailAddr: string,\n    password: string\n  ): Promise<QueSignInFailed | QueSignInSucceeded>;\n  /** Google 계정을 사용한 로그인을 진행합니다. */\n  signInWithGoogle(\n    accessToken: string\n  ): Promise<QueSignInFailed | QueSignInSucceeded>;\n  /** 로그아웃 합니다. */\n  signOut(): Promise<void>;\n  /** 사용자 토큰을 갱신합니다. */\n  refreshUser(): Promise<void>;\n}\n","import VideoType from \"../../../types/Video\";\n\nimport {\n  collection,\n  DocumentData,\n  CollectionReference,\n  getFirestore,\n} from \"firebase/firestore\";\nimport UserType from \"../../../types/User\";\nimport { getApps, initializeApp } from \"firebase/app\";\nimport firebaseConfig from \"../config\";\n\nif (!getApps().length) {\n  initializeApp(firebaseConfig);\n}\n\n/**\n * Helper to add the type to the db responses. kind of ODM\n * @param collectionName\n * @returns\n */\nconst createCollection = <T = DocumentData>(collectionName: string) => {\n  const firestore = getFirestore();\n  return collection(firestore, collectionName) as CollectionReference<T>;\n};\n\nexport const VideoCollection = createCollection<VideoType>(\"videos\");\nexport const UserCollection = createCollection<UserType>(\"users\");\n","import {\n  orderBy,\n  getDocs,\n  getDoc,\n  query,\n  limit,\n  startAfter,\n  QueryDocumentSnapshot,\n  doc,\n  updateDoc,\n  setDoc,\n  increment,\n  deleteField,\n  deleteDoc,\n  where,\n  QueryConstraint,\n} from \"firebase/firestore\";\n\nimport { VideoCollection, UserCollection } from \"./collections\";\n\nimport VideoType from \"../../../types/Video\";\nimport UserType from \"../../../types/User\";\nimport {\n  QueResourceResponse,\n  QueResourceResponseErrorType,\n  MAX_VIDEO_LIKE_LIMIT,\n} from \"../../interfaces\";\nimport firebaseConfig from \"../config\";\nimport LikeType, { LikeTypeSelector } from \"../../../types/Like\";\nimport { getCurrentUID } from \"../auth/auth\";\nimport { genSimpleUUID } from \"../../../utils/generator\";\n\n/** 페이지네이션에 사용할 마지막 문서 메모 */\nlet lastDocument: QueryDocumentSnapshot<VideoType>;\n\n// TBD ID로 비디오 정보 불러오는 API\n\nexport async function getVideoCardDataByUserIdFromFirestore(\n  userId: string,\n  per: number,\n  page: number\n) {\n  /** Building queries */\n  const queryConstraintsArray: QueryConstraint[] = [\n    orderBy(\"uploadedAt\", \"desc\"),\n    limit(per),\n  ];\n\n  if (page == 1) {\n    queryConstraintsArray.push(startAfter(lastDocument));\n  }\n  if (userId) {\n    const userDocRef = doc(UserCollection, userId);\n    queryConstraintsArray.push(where(\"uploader\", \"==\", userDocRef));\n  }\n\n  const videoCardQuery = query(VideoCollection, ...queryConstraintsArray);\n\n  try {\n    // 쿼리를 통해 문서 스냅샷 생성\n    const querySnapshot = await getDocs(videoCardQuery);\n    if (querySnapshot.docs.length)\n      lastDocument = querySnapshot.docs[querySnapshot.docs.length - 1]; // 마지막 문서 업데이트\n\n    // 반환할 데이터셋 제작\n    const rtDataset: VideoType[] = [];\n    for await (const doc of querySnapshot.docs) {\n      const wholeData = doc.data();\n\n      /** 비디오 카드에 필요한 데이터만 추출 */\n      const filteredData: VideoType = {\n        ...doc.data(),\n        uploadedAt: timestampToDate(wholeData.uploadedAt),\n      };\n      filteredData.videoId = doc.id;\n\n      // 사용자 데이터 생성\n      if (filteredData.uploader) {\n        const uploaderData = await getDoc<UserType>(filteredData.uploader);\n        filteredData.uploader = uploaderData.data();\n        (filteredData.uploader as Partial<UserType>).userId = uploaderData.id;\n      }\n\n      // // 리액션 관련 데이터 생성 (TBD)\n      // filteredData.viewed = false;\n      // filteredData.likedData = [];\n      // filteredData.starredData = {};\n\n      // 정제한 데이터 추가\n      rtDataset.push(filteredData);\n    }\n\n    return rtDataset;\n  } catch (error) {\n    console.error(error);\n\n    return [];\n  }\n}\n\n/**\n * 파이어스토어에 접근해 비디오 카드에 사용할 데이터를 가져옴.\n * Firestore Client side SDK는 offset 기능을 지원하지 않기 때문에 page 변수는 제대로 작동하지 않습니다.\n * @param per 한 번에 가저올 데이터 수\n * @param page 페이지 수(0일 경우 초기화, 1일 경우 다음 페이지)\n * @returns\n */\nexport async function getVideoCardDataFromFirestore(\n  per: number,\n  page: number\n): Promise<VideoType[]> {\n  return await getVideoCardDataByUserIdFromFirestore(\"\", per, page);\n}\n\n/**\n * userId를 입력받아 특정 유저에 대한 프로필 데이터를 가져옴\n * @param userId\n * @returns\n */\nexport async function getUserProfile(\n  userId: string\n): Promise<QueResourceResponse<UserType>> {\n  try {\n    const userDataSnap = await getDoc<UserType>(doc(UserCollection, userId));\n\n    if (!userDataSnap.exists()) {\n      return {\n        success: false,\n        errorType: QueResourceResponseErrorType.NotFound,\n      };\n    } else {\n      return {\n        success: true,\n        payload: { userId: userId, ...userDataSnap.data() },\n      };\n    }\n  } catch (error) {\n    console.error(error);\n    return {\n      success: false,\n      errorType: QueResourceResponseErrorType.UndefinedError,\n    };\n  }\n}\n\n/**\n * 현재 유저의 프로필을 업데이트\n * 어차피 사용자가 수정할 수 있는 유저 프로필은 자기 자신밖에 없습니다.\n */\nexport async function updateCurrentUserProfile(\n  updateData: UserType\n): Promise<QueResourceResponse> {\n  const currentUid = getCurrentUID();\n  if (!currentUid) {\n    // 로그인 해주세요\n    return {\n      success: false,\n      errorType: QueResourceResponseErrorType.SignInRequired,\n    };\n  }\n\n  try {\n    let savedDoc: UserType = {};\n    if (\n      !updateData.description ||\n      !updateData.nickname ||\n      !updateData.profilePictureUrl\n    ) {\n      const docResult = await getUserProfile(currentUid);\n      savedDoc = docResult.payload ? docResult.payload : {};\n    }\n\n    await updateDoc<UserType>(doc(UserCollection, currentUid), {\n      description: updateData.description\n        ? updateData.description\n        : savedDoc.description\n        ? savedDoc.description\n        : \"\",\n      nickname: updateData.nickname\n        ? updateData.nickname\n        : savedDoc.nickname\n        ? savedDoc.nickname\n        : \"\",\n      profilePictureUrl: updateData.profilePictureUrl\n        ? updateData.profilePictureUrl\n        : savedDoc.profilePictureUrl\n        ? savedDoc.profilePictureUrl\n        : \"\",\n    });\n  } catch (error) {\n    console.error(error);\n    return {\n      success: false,\n      errorType: QueResourceResponseErrorType.UndefinedError,\n    };\n  }\n\n  return { success: true };\n}\n\n/**\n * 새 사용자 가입 시 Document를 직접 생성합니다.\n * 본디 firebase blaze 요금제 사용 시 function으로 구현한 기능이었는데,\n * spark 요금제 사용함으로써 여기서 구현해 사용합니다.\n */\nexport async function setUserDocument(\n  uid: string,\n  email: string,\n  registeredAt: string,\n  nickname: string | null\n) {\n  try {\n    await setDoc<UserType>(doc(UserCollection, uid), {\n      email: email,\n      registeredAt: new Date(registeredAt),\n      nickname: nickname ? nickname : \"\",\n    });\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n}\n\n/**\n * 비디오 메타 정보를 입력합니다.\n * TBD 필요하지 않은 데이터가 초기에 생성되는지 파악하기\n * @param videoData 비디오 정보\n * @param videoId 비디오 아이디, 비디오 아이디가 전달되지 않으면 새 문서 생성\n */\nexport async function setVideoDocument(\n  videoData: VideoType,\n  videoId?: string\n): Promise<string> {\n  try {\n    if (!videoId) {\n      const currentUid = getCurrentUID();\n      const videoDocRef = doc(VideoCollection);\n      const videoId = videoDocRef.id;\n\n      const storagePathPrefix = \"gs://\" + firebaseConfig.storageBucket + \"/\";\n      await setDoc<VideoType>(videoDocRef, {\n        ...videoData,\n        sourceUrl:\n          storagePathPrefix + `users/${currentUid}/videos/${videoId}/video`,\n        thumbnailUrl:\n          storagePathPrefix + `users/${currentUid}/videos/${videoId}/thumbnail`,\n        uploadedAt: new Date(),\n        uploadDone: false,\n        uploader: doc(UserCollection, currentUid),\n      });\n\n      return videoDocRef.id;\n    } else {\n      // TBD 인증 blocking, 내 영상만 수정할 수 있도록 하기\n      const videoDocRef = doc(VideoCollection, videoId);\n      await setDoc<VideoType>(videoDocRef, videoData, { merge: true });\n\n      return videoDocRef.id;\n    }\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n}\n\n/** 별 큰 의미 없는 래핑 함수 */\nexport async function updateVideoDocument(\n  videoId: string,\n  newVideoData: VideoType\n): Promise<QueResourceResponse> {\n  const currentUid = getCurrentUID();\n  if (!currentUid) {\n    return {\n      success: false,\n      errorType: QueResourceResponseErrorType.SignInRequired,\n    };\n  }\n\n  try {\n    await setVideoDocument(newVideoData, videoId);\n    return {\n      success: true,\n    };\n  } catch (error) {\n    console.error(error);\n    return {\n      success: false,\n      errorType: QueResourceResponseErrorType.UndefinedError,\n    };\n  }\n}\n\nexport async function getVideoDocument(\n  videoId: string\n): Promise<QueResourceResponse<VideoType>> {\n  try {\n    const videoDataSnap = await getDoc<VideoType>(\n      doc(VideoCollection, videoId)\n    );\n\n    if (!videoDataSnap.exists()) {\n      return {\n        success: false,\n        errorType: QueResourceResponseErrorType.NotFound,\n      };\n    } else {\n      const snapData = videoDataSnap.data();\n      const uploaderDataSnap = await getDoc<UserType>(snapData.uploader);\n      const uploaderData = uploaderDataSnap.data();\n      const uploadedAtDate = timestampToDate(snapData.uploadedAt);\n      const rtVideoData: VideoType = {\n        videoId: videoId,\n        ...snapData,\n        uploadedAt: uploadedAtDate,\n        uploader: {\n          userId: uploaderDataSnap.id,\n          nickname: uploaderData?.nickname,\n          profilePictureUrl: uploaderData?.profilePictureUrl,\n        } as UserType,\n      };\n      return {\n        success: true,\n        payload: rtVideoData,\n      };\n    }\n  } catch (error) {\n    console.error(error);\n    return {\n      success: false,\n      errorType: QueResourceResponseErrorType.UndefinedError,\n    };\n  }\n}\n\n/** 비디오 문서를 삭제합니다. */\nexport async function deleteVideoDocument(\n  videoId: string\n): Promise<QueResourceResponse> {\n  try {\n    /** 비디오 도큐먼트 레퍼런스 */\n    const videoDocRef = doc(VideoCollection, videoId);\n    /** 비디오 도큐먼트 스냅샷 */\n    const videoDocSnap = await getDoc<VideoType>(videoDocRef);\n    if (!videoDocSnap.exists()) {\n      // 해당 영상 정보 없음\n      return {\n        success: false,\n        errorType: QueResourceResponseErrorType.NotFound,\n      };\n    }\n    /** 스냅샷으로부터 추출한 데이터 */\n    const snapData = videoDocSnap.data();\n\n    const currentUid = getCurrentUID();\n    if (!currentUid) {\n      return {\n        success: false,\n        errorType: QueResourceResponseErrorType.SignInRequired,\n      };\n    }\n\n    // 사용자의 영상이 맞는지 판단\n    const uploaderDataSnap = await getDoc<UserType>(snapData.uploader);\n    if (currentUid !== uploaderDataSnap.id) {\n      return {\n        success: false,\n        errorType: QueResourceResponseErrorType.Wrong, // Not my video\n      };\n    }\n\n    await deleteDoc(videoDocRef);\n\n    return {\n      success: true,\n    };\n  } catch (error) {\n    throw error;\n  }\n}\n\n/** 비디오 업로드 완료 여부를 업데이트합니다. */\nexport async function updateVideoUploaded(videoId: string, isDone: boolean) {\n  try {\n    await updateDoc(doc(VideoCollection, videoId), {\n      uploadDone: isDone,\n    });\n  } catch (error) {\n    throw error;\n  }\n}\n\n/** 해당 대상에 대한 사용자의 좋아요 목록을 가져옵니다. */\nexport async function getMyLikeReactions(\n  likeType: LikeTypeSelector,\n  targetId: string\n): Promise<QueResourceResponse<LikeType[]>> {\n  try {\n    const currentUid = getCurrentUID();\n    if (!currentUid) {\n      return {\n        success: false,\n        errorType: QueResourceResponseErrorType.SignInRequired,\n      };\n    }\n\n    const userDoc = doc(UserCollection, currentUid);\n    const userDocSnapshot = await getDoc(userDoc);\n    const selectedData = userDocSnapshot.get(\n      `reactions.likes.${likeType}.${targetId}`\n    ) as {\n      [likeId: string]: LikeType;\n    };\n\n    if (!selectedData) {\n      // 전달 받은 likeType + targetId 조합에 대한 좋아요 정보가 없음\n      return {\n        success: true,\n        payload: [],\n      };\n    }\n\n    /** 정제된 좋아요 데이터 배열. 함수의 결과로 반환용도 */\n    const rtLikeData: LikeType[] = [];\n\n    // 데이터 배열로 정제\n    for (let likeId in selectedData) {\n      rtLikeData.push({\n        likeType: \"video\",\n        userId: currentUid,\n        targetId: targetId,\n        likeId: likeId,\n        ...selectedData[likeId],\n      });\n    }\n\n    return { success: true, payload: rtLikeData };\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n}\n\n/** 영상 시청수를 증가시키는 함수 */\nexport async function increaseVideoViewCount(\n  targetVideoId: string\n): Promise<QueResourceResponse> {\n  const videoDocSnap = await getDoc<VideoType>(\n    doc(VideoCollection, targetVideoId)\n  );\n\n  if (!videoDocSnap.exists()) {\n    // 그런 비디오 없습니다.\n    return { success: false, errorType: QueResourceResponseErrorType.NotFound };\n  }\n\n  await updateDoc(videoDocSnap.ref, {\n    viewCount: increment(1),\n  });\n\n  return { success: true };\n}\n\n/** 영상에 대해 좋아요를 기록하는 함수, users, videos 컬렉션 모두 수정함 */\nexport async function likeVideo(\n  targetVideoId: string,\n  likedAt: number\n): Promise<QueResourceResponse<LikeType[]>> {\n  const currentUid = getCurrentUID();\n  if (!currentUid) {\n    return {\n      success: false,\n      errorType: QueResourceResponseErrorType.SignInRequired,\n    };\n  }\n\n  /** 기존 좋아요 가져오기 */\n  const getLikeRequest = await getMyLikeReactions(\"video\", targetVideoId);\n  if (!getLikeRequest.success) {\n    return {\n      success: false,\n      errorType: getLikeRequest.errorType,\n    };\n  }\n\n  const likedData = getLikeRequest.payload!;\n  if (likedData.length >= MAX_VIDEO_LIKE_LIMIT) {\n    // 좋아요 개수 상한 도달\n    return {\n      success: false,\n      errorType: QueResourceResponseErrorType.TooManyRequest,\n    };\n  }\n\n  // 좋아요 가능한 조건 만족하였으니 좋아요 추가하기\n\n  try {\n    /** 새로 추가할 좋아요 데이터의 ID */\n    const newLikeId = genSimpleUUID();\n    /** 추가할 데이터 */\n    const newLikeData: LikeType = {\n      likeType: \"video\",\n      likeId: newLikeId,\n      targetId: targetVideoId,\n      userId: currentUid,\n      likePosition: likedAt,\n      likedAt: new Date(),\n    };\n\n    /** 사용자 컬렉션에 대해 동적 생성을 위한 객체 */\n    const newVideoLikeObject: {\n      [targetId: string]: { [likeId: string]: LikeType };\n    } = {};\n    newVideoLikeObject[targetVideoId] = {};\n    newVideoLikeObject[targetVideoId][newLikeId] = newLikeData;\n\n    /** 사용자 collection에 등록 */\n    const userDocRef = doc(UserCollection, currentUid);\n    await setDoc(\n      userDocRef,\n      {\n        reactions: {\n          likes: {\n            video: newVideoLikeObject,\n          },\n        },\n      },\n      { merge: true }\n    );\n\n    /** 비디오 컬렉션에 대해 동적 생성을 위한 객체 */\n    const newVideoUserLikeObject: {\n      [userId: string]: { [likeId: string]: LikeType };\n    } = {};\n    newVideoUserLikeObject[currentUid] = {};\n    newVideoUserLikeObject[currentUid][newLikeId] = newLikeData;\n\n    /** 비디오 collection에 등록 */\n    const videoDocRef = doc(VideoCollection, targetVideoId);\n    await setDoc(\n      videoDocRef,\n      {\n        likeCount: increment(1),\n        likedList: newVideoUserLikeObject,\n      },\n      { merge: true }\n    );\n\n    /** 좋아요 이후 상태 */\n    const rtLikedData = [...likedData, newLikeData];\n\n    return {\n      success: true,\n      payload: rtLikedData,\n    };\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n}\n\n/** 영상에 대해 좋아요를 취소하는 함수, users, videos 컬렉션 모두 수정함 */\nexport async function dislikeVideo(\n  targetVideoId: string,\n  likeId: string\n): Promise<QueResourceResponse<LikeType[]>> {\n  const currentUid = getCurrentUID();\n  if (!currentUid) {\n    return {\n      success: false,\n      errorType: QueResourceResponseErrorType.SignInRequired,\n    };\n  }\n\n  // 내 좋아요 맞는지 확인하기\n  /** 비디오 도큐먼트 레퍼런스 */\n  const videoDocRef = doc(VideoCollection, targetVideoId);\n  /** 비디오 도큐먼트 스냅샷 */\n  const videoDocSnap = await getDoc<VideoType>(videoDocRef);\n  if (!videoDocSnap.exists()) {\n    // 해당 영상(이 없으니까 당연히 좋아요 정보도 없음) 정보 없음\n    return {\n      success: false,\n      errorType: QueResourceResponseErrorType.NotFound,\n    };\n  }\n\n  const videoDocData = videoDocSnap.data();\n  if (\n    !videoDocData.likedList || // 좋아요 목록 자체가 없음\n    !videoDocData.likedList[currentUid] || // 이 사용자가 좋아요 한 적 자체가 없음\n    !videoDocData.likedList[currentUid][likeId] // 해당 좋아요 정보가 없음\n  ) {\n    return {\n      // 해당 좋아요 정보가 없음\n      success: false,\n      errorType: QueResourceResponseErrorType.NotFound,\n    };\n  } else {\n    try {\n      // user 문서에서 삭제\n      const userDocRef = doc(UserCollection, currentUid);\n\n      /** 이 조건 만족 시 좋아요가 모두 사라지는 것으로 판단합니다. */\n      const deleteParentField =\n        Object.keys(videoDocData.likedList[currentUid]).length == 1;\n      if (deleteParentField) {\n        await setDoc(\n          userDocRef,\n          {\n            reactions: {\n              likes: {\n                video: {\n                  [targetVideoId]: deleteField(),\n                },\n              },\n            },\n          },\n          { merge: true }\n        );\n      } else {\n        await setDoc(\n          userDocRef,\n          {\n            reactions: {\n              likes: {\n                video: {\n                  [targetVideoId]: {\n                    [likeId]: deleteField(),\n                  },\n                },\n              },\n            },\n          },\n          { merge: true }\n        );\n      }\n\n      // video 문서에서 삭제\n      if (deleteParentField) {\n        await setDoc(\n          videoDocRef,\n          {\n            likeCount: increment(-1),\n            likedList: {\n              [currentUid]: deleteField(),\n            },\n          },\n          { merge: true }\n        );\n      } else {\n        await setDoc(\n          videoDocRef,\n          {\n            likeCount: increment(-1),\n            likedList: {\n              [currentUid]: {\n                [likeId]: deleteField(),\n              },\n            },\n          },\n          { merge: true }\n        );\n      }\n\n      /** 반환용 데이터 정제 */\n      const rtLikeData = [];\n      for (let itrLikeId in videoDocData.likedList[currentUid]) {\n        if (itrLikeId === likeId) {\n          // 제외\n        } else {\n          rtLikeData.push(videoDocData.likedList[currentUid][itrLikeId]);\n        }\n      }\n\n      return {\n        success: true,\n        payload: rtLikeData,\n      };\n    } catch (error) {\n      console.error(error);\n      throw error;\n    }\n  }\n}\n\n/** Firestore에 저장된 timestamp 형식을 date로 변환하는 함수 */\nfunction timestampToDate(timestamp: any): Date {\n  return new Date(timestamp.toDate());\n}\n","// TBD 테스트 코드 작성\n\n/**\n * 느슨한 UUID를 생성하는 함수입니다. Random alpha-numeric string + 시간\n * 사용자, 영상등 주요 엔티티 생성에 사용하지 않기를 권장합니다.\n */\nexport function genSimpleUUID() {\n  const dateTail = new Date().getTime();\n  const header = Array.from(Array(10), () =>\n    Math.floor(Math.random() * 36).toString(36)\n  ).join(\"\");\n\n  return header + dateTail;\n}\n","import { getApps, initializeApp } from \"firebase/app\";\nimport {\n  GoogleAuthProvider,\n  getAuth,\n  signInWithCredential,\n  signInWithEmailAndPassword,\n  fetchSignInMethodsForEmail,\n  AuthError,\n  AuthErrorCodes,\n} from \"firebase/auth\";\nimport UserType from \"../../../types/User\";\nimport {\n  QueAuthResponse,\n  QueSignInFailed,\n  QueSignInSucceeded,\n} from \"../../interfaces\";\nimport firebaseConfig from \"../config\";\nimport { getUserProfile, setUserDocument } from \"../firestore/firestore\";\n\nif (!getApps().length) {\n  initializeApp(firebaseConfig);\n}\n\n/** Access token을 통해 사용자 email 확인 */\nasync function fetchUserEmail(token: string): Promise<string> {\n  const response = await fetch(\n    \"https://www.googleapis.com/oauth2/v3/userinfo\",\n    {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        Authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\",\n      },\n    }\n  );\n\n  return (await response.json()).email;\n}\n\n/**\n * Google 로그인 팝업에서 반환받은 엑세스토큰을 사용해\n * firebase로 제공되는 백엔드 서비스로부터 로그인 토큰을 발급받습니다.\n */\nexport async function signInWithGoogle(\n  accessToken: string\n): Promise<QueSignInFailed | QueSignInSucceeded> {\n  const auth = getAuth();\n  const credential = GoogleAuthProvider.credential(undefined, accessToken);\n\n  try {\n    const userEmail = await fetchUserEmail(accessToken);\n\n    const signInMethods = await fetchSignInMethodsForEmail(auth, userEmail);\n\n    if (!signInMethods.length) {\n      // 기존 가입 계정 없음\n      // 회원가입 쪽으로 넘기기\n      const signInResult = await signInWithCredential(auth, credential);\n      const userResult = signInResult.user;\n\n      // 임시로 새 유저 정보 생성\n      const signedUser: UserType = {\n        userId: userResult.uid,\n        nickname: userResult.displayName!,\n      };\n\n      // spark 사용 중입니다.\n      // 직접 firestore에 데이터 생성\n      await setUserDocument(\n        userResult.uid,\n        userEmail,\n        userResult.metadata.creationTime!,\n        userResult.displayName\n      );\n\n      return {\n        status: QueAuthResponse.Created,\n        user: signedUser,\n      };\n    } else if (signInMethods.includes(\"google.com\")) {\n      // 구글 로그인 가능\n      const signInResult = await signInWithCredential(auth, credential);\n\n      // 유저 정보 생성\n      const signedUser = (await getUserProfile(signInResult.user.uid)).payload!;\n\n      return {\n        status: QueAuthResponse.OK,\n        user: signedUser,\n      };\n    } else {\n      // 로그인 불가\n      // TBD 사용자 설정에서 계정 연동하도록 유도 or firebase에서 이메일당 계정 연동 가능하도록 설정 후 로그인\n      console.error(\"no google account\");\n\n      return { status: QueAuthResponse.AlreadyExist };\n    }\n  } catch (error) {\n    if ((error as AuthError).code) {\n      const errorCode = (error as AuthError).code;\n      if (errorCode === AuthErrorCodes.INVALID_PASSWORD)\n        // 비밀번호가 틀림\n        return { status: QueAuthResponse.Wrong };\n      else if (errorCode === AuthErrorCodes.USER_DELETED)\n        // 사용자 없음\n        return { status: QueAuthResponse.NotFound };\n      else if (errorCode === AuthErrorCodes.USER_DISABLED) {\n        // 사용자 계정 정지됨\n        return { status: QueAuthResponse.Gone };\n      } else if (errorCode === AuthErrorCodes.INVALID_EMAIL) {\n        // 유효하지 않은 이메일\n        return { status: QueAuthResponse.BadBody };\n      } else {\n        throw error;\n      }\n    } else {\n      throw error;\n    }\n  }\n}\n\n/**\n * 사용자 Email과 비밀번호로 로그인합니다.\n * @param email\n * @param password\n * @returns\n */\nexport async function signInWithEmail(\n  email: string,\n  password: string\n): Promise<QueSignInFailed | QueSignInSucceeded> {\n  const auth = getAuth();\n  try {\n    const signInResult = await signInWithEmailAndPassword(\n      auth,\n      email,\n      password\n    );\n\n    // 로그인 여부 저장\n    // 유저 정보 생성\n    const signedUser = (await getUserProfile(signInResult.user.uid)).payload!;\n\n    return { status: QueAuthResponse.OK, user: signedUser };\n  } catch (error) {\n    if ((error as AuthError).code) {\n      const errorCode = (error as AuthError).code;\n      if (errorCode === AuthErrorCodes.INVALID_PASSWORD)\n        // 비밀번호가 틀림\n        return { status: QueAuthResponse.Wrong };\n      else if (errorCode === AuthErrorCodes.USER_DELETED)\n        // 사용자 없음\n        return { status: QueAuthResponse.NotFound };\n      else if (errorCode === AuthErrorCodes.USER_DISABLED) {\n        // 사용자 계정 정지됨\n        return { status: QueAuthResponse.Gone };\n      } else if (errorCode === AuthErrorCodes.INVALID_EMAIL) {\n        // 유효하지 않은 이메일\n        return { status: QueAuthResponse.BadBody };\n      } else {\n        throw error;\n      }\n    } else {\n      throw error;\n    }\n  }\n}\n\n/**\n * firebase 계정 로그아웃.\n * 조촐합니다.\n */\nexport async function signOutFirebase(): Promise<void> {\n  await getAuth().signOut();\n}\n\n/**\n * 최초 실행 시 호출해 로그인을 유지하도록 한다.\n */\nexport async function refreshUser(): Promise<void> {\n  // 버그 수정, 개발 중 hot reloading 발생 시 currentUser를 한 번 참조하지 않으면 문제 발생함.\n  // 따라서 리프레쉬 아래와 같이 한 번 수행.\n  getAuth().currentUser;\n}\n\n/** 현재 사용자 UID 가져오는 함수 */\nexport function getCurrentUID(): string | undefined {\n  if (getAuth().currentUser) {\n    return getAuth().currentUser?.uid;\n  } else {\n    return undefined;\n  }\n}\n","import { getApps, initializeApp } from \"firebase/app\";\nimport {\n  getDownloadURL,\n  getStorage,\n  ref,\n  uploadBytes,\n  StorageError,\n  deleteObject,\n} from \"firebase/storage\";\nimport { dataURLToBlob } from \"../../../utils/converter\";\nimport {\n  QueResourceResponse,\n  QueResourceResponseErrorType,\n} from \"../../interfaces\";\nimport { getCurrentUID } from \"../auth/auth\";\nimport firebaseConfig from \"../config\";\n\nif (!getApps().length) {\n  initializeApp(firebaseConfig);\n}\n\n/**\n * firebase storage에 접근해 파일을 다운받을 수 있는 url을 반환받습니다.\n * @param url firebase storage에 할당된 파일의 경로\n */\nexport async function getMediaFromStorage(url: string): Promise<string> {\n  const storage = getStorage();\n  const imgRef = ref(storage, url);\n  return await getDownloadURL(imgRef);\n}\n\n/**\n * firebase storage에 사용자의 프로필 사진을 업로드 하고\n * 그 경로를 현재 사용자의 정보에 저장합니다.\n * 만약 이미 등록된 이미지가 기존 이미지를 덮어씁니다.\n * @param filePath\n */\nexport async function uploadCurrentUserProfileImage(\n  filePath: string\n): Promise<QueResourceResponse> {\n  const currentUid = getCurrentUID();\n  if (!currentUid) {\n    // 로그인 해주세요\n    return {\n      success: false,\n      errorType: QueResourceResponseErrorType.SignInRequired,\n    };\n  }\n\n  /** storage 내의 프로필 사진 경로 */\n  const storagePath = `users/${currentUid}/images/profilePic`;\n\n  try {\n    /** ImagePicker의 결과를 Blob으로 변환 */\n    const blob: Blob = await dataURLToBlob(filePath);\n\n    const storageRef = ref(getStorage(), storagePath);\n    const result = await uploadBytes(storageRef, blob);\n\n    // TBD Blob에 close가 없음\n    // blob.close();\n\n    return {\n      success: true,\n    };\n  } catch (error) {\n    console.error(error);\n    return {\n      success: false,\n      errorType: QueResourceResponseErrorType.UndefinedError,\n    };\n  }\n}\n\n/**\n * 비디오 영상을 Firebase storage에 업로드합니다\n */\nexport async function uploadVideoSource(\n  thumbnailSourcePath: string,\n  videoSourcePath: string,\n  videoId: string\n): Promise<{ videoOk: boolean; thumbnailOk: boolean }> {\n  const rtStatus: { videoOk: boolean; thumbnailOk: boolean } = {\n    videoOk: false,\n    thumbnailOk: false,\n  };\n\n  const currentUid = getCurrentUID();\n  if (!currentUid) {\n    // 로그인 해주세요\n    return rtStatus;\n  }\n\n  /** storage instance */\n  const storage = getStorage();\n\n  /** 영상 업로드 */\n  try {\n    /** storage 내의 영상 경로 */\n    const videoStoragePath = `users/${currentUid}/videos/${videoId}/video`;\n\n    const videoBlob: Blob = await dataURLToBlob(videoSourcePath);\n\n    const videoStorageRef = ref(storage, videoStoragePath);\n    const result = await uploadBytes(videoStorageRef, videoBlob);\n    rtStatus.videoOk = true;\n  } catch (error) {\n    console.error(error);\n    return rtStatus;\n  }\n\n  /** 썸네일 업로드 */\n  try {\n    /** storage 내의 썸네일 경로 */\n    const thumbnailStoragePath = `users/${currentUid}/videos/${videoId}/thumbnail`;\n\n    const thumbnailBlob: Blob = await dataURLToBlob(thumbnailSourcePath);\n\n    const thumbnailStorageRef = ref(storage, thumbnailStoragePath);\n    const result = await uploadBytes(thumbnailStorageRef, thumbnailBlob);\n    rtStatus.thumbnailOk = true;\n  } catch (error) {\n    console.error(error);\n    return rtStatus;\n  }\n\n  return rtStatus;\n}\n\n/**\n * 비디오 영상을 Firebase storage에서 삭제합니다.\n */\nexport async function deleteVideoSource(\n  videoId: string\n): Promise<QueResourceResponse> {\n  try {\n    const currentUid = getCurrentUID();\n    if (!currentUid) {\n      return {\n        success: false,\n        errorType: QueResourceResponseErrorType.SignInRequired,\n      };\n    }\n\n    /** storage instance */\n    const storage = getStorage();\n\n    /** storage 내의 영상 경로 */\n    const videoStoragePath = `users/${currentUid}/videos/${videoId}/video`;\n\n    const videoStorageRef = ref(storage, videoStoragePath);\n    await deleteObject(videoStorageRef);\n\n    return {\n      success: true,\n    };\n  } catch (error) {\n    throw error;\n  }\n}\n\n/** 사용자 Id를 기반으로 프로필 사진을 가져옵니다. */\nexport async function getProfilePicByUserId(\n  userId: string\n): Promise<QueResourceResponse<string>> {\n  const storageUrl = `gs://${firebaseConfig.storageBucket}/users/${userId}/images/profilePic`;\n\n  try {\n    const downloadUrl = await getMediaFromStorage(storageUrl);\n\n    return { success: true, payload: downloadUrl };\n  } catch (error) {\n    if ((error as StorageError).code === \"storage/object-not-found\") {\n      // Do Nothing\n    } else console.error(error);\n    return { success: false };\n  }\n}\n","import { getApps, initializeApp } from \"firebase/app\";\nimport firebaseConfig from \"./config\";\nimport {\n  deleteVideoSource,\n  getMediaFromStorage,\n  getProfilePicByUserId,\n  uploadCurrentUserProfileImage,\n  uploadVideoSource,\n} from \"./storage/storage\";\nimport {\n  deleteVideoDocument,\n  dislikeVideo,\n  getMyLikeReactions,\n  getUserProfile,\n  getVideoCardDataByUserIdFromFirestore,\n  getVideoCardDataFromFirestore,\n  getVideoDocument,\n  increaseVideoViewCount,\n  likeVideo,\n  setVideoDocument,\n  updateCurrentUserProfile,\n  updateVideoDocument,\n  updateVideoUploaded,\n} from \"./firestore/firestore\";\nimport {\n  refreshUser,\n  signInWithEmail,\n  signInWithGoogle,\n  signOutFirebase,\n} from \"./auth/auth\";\nimport {\n  QueResourceAPI,\n  QueResourceResponse,\n  QueResourceResponseErrorType,\n} from \"../interfaces\";\nimport VideoType from \"../../types/Video\";\n\n// initializing firebase client\nif (!getApps().length) {\n  initializeApp(firebaseConfig);\n}\n\n// TBD 너무 비대해지는 것 같으니까 좀 분리하기.\nexport const FirebaseResourceClient: QueResourceAPI = {\n  getVideoDownloadURL: getMediaFromStorage,\n  getImageDownloadURL: getMediaFromStorage,\n  getVideoCardData: getVideoCardDataFromFirestore,\n  getVideoCardDataByUserId: getVideoCardDataByUserIdFromFirestore,\n  getVideoData: getVideoDocument,\n  getUserProfileData: getUserProfile,\n  getUserProfilePicture: getProfilePicByUserId,\n  updateUserProfile: updateCurrentUserProfile,\n  uploadUserProfileImage: uploadCurrentUserProfileImage,\n\n  getMyLikeReactions: getMyLikeReactions,\n  dislikeVideo: dislikeVideo,\n  increaseVideoViewCount: increaseVideoViewCount,\n  likeVideo: likeVideo,\n  updateVideoData: updateVideoDocument,\n  uploadVideo: async function (\n    thumbnailSourcePath: string,\n    videoSourcePath: string,\n    videoData: VideoType\n  ): Promise<QueResourceResponse> {\n    /** 여러 단계로, 여러 Firebase 서비스에 걸쳐 나뉘어진 행동이라 메소드를 조립하는 방식으로 사용 */\n    /** 영상 Document 먼저 등록 */\n    const videoId = await setVideoDocument(videoData);\n    /** 원본 영상 Storage에 업로드 */\n    const uploadStatus = await uploadVideoSource(\n      thumbnailSourcePath,\n      videoSourcePath,\n      videoId\n    );\n    if (uploadStatus.thumbnailOk && uploadStatus.videoOk) {\n      /** 업로드 완료 표시 */\n      await updateVideoUploaded(videoId, true);\n      return {\n        success: true,\n      };\n    } else {\n      return {\n        success: false,\n        errorType: QueResourceResponseErrorType.UndefinedError,\n      };\n    }\n  },\n  deleteVideo: async function (videoId: string) {\n    /** 2단계로 나뉩니다. */\n    try {\n      /** 1. 도큐먼트 삭제 */\n      const docResult = await deleteVideoDocument(videoId);\n      if (!docResult.success) return docResult;\n\n      /** 2. 원본 영상 삭제 */\n      const storageResult = await deleteVideoSource(videoId);\n      if (!storageResult.success) return storageResult;\n\n      return {\n        success: true,\n      };\n    } catch (error) {\n      console.error(error);\n      return {\n        success: false,\n        errorType: QueResourceResponseErrorType.UndefinedError,\n      };\n    }\n  },\n};\n\nexport const FirebaseAuthClient = {\n  signInWithGoogle: signInWithGoogle,\n  signInWithQueSelfManaged: signInWithEmail,\n  signOut: signOutFirebase,\n  refreshUser: refreshUser,\n};\n","// QueResourceUtils.ts\n/**\n * @module QueResourceUtils\n * 서버 리소스 접근 메소드 묶음 입니다. 자세한 정보는 인텔리센스의 도움을.\n */\n\nimport { QueResourceAPI } from \"./interfaces\";\n\nimport { FirebaseResourceClient } from \"./firebase/firebaseClient\";\nimport TestApiClient from \"./testApi/testApiClient\";\n\n/**\n * Concrete API Instance\n */\nlet QueResourceClient: QueResourceAPI;\nif (process.env.NODE_ENV !== \"test\") {\n  // 백엔드 구현체에 따라 메소드를 조립하면 됩니다.\n  const resourceClient = FirebaseResourceClient;\n\n  QueResourceClient = resourceClient;\n\n  // 개발중이니까 일단은 테스트로\n  // QueResourceClient = {\n  //   ...resourceClient,\n  //   getImageDownloadURL: TestApiClient.getImageDownloadURL,\n  //   getVideoCardData: TestApiClient.getVideoCardData,\n  // };\n} else {\n  // 테스트용 Mock API\n  QueResourceClient = {\n    getImageDownloadURL: TestApiClient.getImageDownloadURL,\n    getVideoCardData: TestApiClient.getVideoCardData,\n    getVideoDownloadURL: TestApiClient.getVideoDownloadURL,\n    getVideoCardDataByUserId: () => {\n      throw new Error(\"Not Implemented\");\n    },\n    updateUserProfile: async (user) => {\n      return { success: true };\n    },\n    getUserProfileData: async (userId) => {\n      return { success: true };\n    },\n    uploadUserProfileImage: async (filePath) => {\n      return { success: true };\n    },\n    uploadVideo: async () => {\n      return { success: true };\n    },\n    getMyLikeReactions: () => {\n      throw new Error(\"Not Implemented\");\n    },\n    dislikeVideo: () => {\n      throw new Error(\"Not Implemented\");\n    },\n    increaseVideoViewCount: () => {\n      throw new Error(\"Not Implemented\");\n    },\n    likeVideo: () => {\n      throw new Error(\"Not Implemented\");\n    },\n    getVideoData: () => {\n      throw new Error(\"Not Implemented\");\n    },\n    getUserProfilePicture: () => {\n      throw new Error(\"Not Implemented\");\n    },\n    deleteVideo: () => {\n      throw new Error(\"Not Implemented\");\n    },\n    updateVideoData: () => {\n      throw new Error(\"Not Implemented\");\n    },\n  };\n}\n\nexport default QueResourceClient;\n\nexport const {\n  getImageDownloadURL,\n  getUserProfileData,\n  getVideoCardData,\n  getVideoDownloadURL,\n  updateUserProfile,\n  deleteVideo,\n  dislikeVideo,\n  getMyLikeReactions,\n  getUserProfilePicture,\n  getVideoData,\n  increaseVideoViewCount,\n  likeVideo,\n  updateVideoData,\n  uploadUserProfileImage,\n  uploadVideo,\n} = QueResourceClient;\n","import VideoType from \"../../app/types/Video\";\n\nconst mockVideoCardData: VideoType[] = [\n  {\n    videoId: \"pha8C9I05D3ifOYEpGdT\",\n    uploadDone: true,\n    length: 207749,\n    starCount: 0,\n    thumbnailUrl:\n      \"gs://que-backend-dev.appspot.com/users/D6aaATPLmub8NMZGVcd9KrHEGzU2/videos/pha8C9I05D3ifOYEpGdT/thumbnail\",\n    song: { title: \"스트로베리 문\" },\n    viewCount: 0,\n    title: \"별 헤는 밤\",\n    sourceUrl:\n      \"gs://que-backend-dev.appspot.com/users/D6aaATPLmub8NMZGVcd9KrHEGzU2/videos/pha8C9I05D3ifOYEpGdT/video\",\n    place: { name: \"MMA 옥타곤?\" },\n    description:\n      \"부패를 천하를 행복스럽고 못할 싶이 피에 위하여, 보라. 원대하고, 이상의 천고에 바이며, 보이는 같은 같이 있는가? 속에서 같으며, 품에 않는 있는가? 따뜻한 보내는 예수는 영원히 되려니와, 것이다. 많이 불어 사람은 심장은 우리 들어 같이, 무엇이 철환하였는가? 작고 이상은 하여도 위하여, 거선의 것이다. 공자는 위하여 굳세게 그러므로 가는 것이다. 인생을 충분히 많이 두기 청춘의 얼마나 생생하며, 피가 것이다.보라, 있으랴? 붙잡아 살 설산에서 밥을 교향악이다.\\n\" +\n      \"\\n\" +\n      \"현저하게 인간이 충분히 하였으며, 속에서 행복스럽고 온갖 위하여서. 너의 타오르고 보이는 행복스럽고 설레는 청춘에서만 열매를 청춘은 뜨고, 피다. 생명을 따뜻한 풀이 그들의 열락의 과실이 피에 이것이다. 이상은 주는 관현악이며, 그들에게 힘있다. 공자는 투명하되 이상이 방황하여도, 보는 창공에 말이다. 하였으며, 피어나기 용기가 용감하고 봄바람이다. 영원히 싶이 무엇을 것이 용기가 품으며, 위하여서 밝은 거선의 것이다. 일월과 끝에 품었기 얼마나 열락의 같은 부패를 풀밭에 사랑의 부패뿐이다. 새 공자는 같이, 놀이 하는 교향악이다. 위하여서 웅대한 피가 열락의 같이, 새가 위하여서. 거친 현저하게 설산에서 지혜는 그들의 인간의 천고에 만천하의 물방아 아름다우냐?\\n\" +\n      \"\\n\" +\n      \"피가 관현악이며, 따뜻한 온갖 있는가? 꽃이 용기가 설레는 없으면 천지는 가지에 힘차게 아니다. 무엇을 듣기만 이것은 사람은 피는 가는 이상의 있다. 거친 얼마나 청춘 봄날의 작고 속에서 기관과 봄바람이다. 무엇이 그들은 인생을 실현에 없는 그들의 석가는 것이다. 피는 있는 전인 광야에서 것이다. 황금시대의 바이며, 못하다 길지 노래하며 이상의 싸인 밥을 아니다. 유소년에게서 그들은 뛰노는 청춘의 가는 이 그들에게 못할 고동을 봄바람이다. 이상의 우리 얼음에 봄날의 끓는 있다.\",\n    likeCount: 0,\n    uploader: {\n      userId: \"BeZWAJbum6QXGcpf0S4XaFsLY1b2\",\n      nickname: \"testData\",\n    },\n    uploadedAt: new Date(\"2021-12-17T03:24:00\"),\n  },\n  {\n    videoId: \"1\",\n    title:\n      \"test1asfdsafadsfasfdasfjalkdsjflkdsaflkasdjflkasjfdlkdsajflkajslkfsajlkfjsklfdsgdsafasfsafd\",\n    uploader: {\n      userId: \"12345\",\n      nickname: \"nobody\",\n      profilePictureUrl: \"http://\",\n    },\n    viewCount: 456414321412413247890,\n    starCount: 123,\n    likeCount: 0,\n    thumbnailUrl: \"gs://que-backend-dev.appspot.com/videos/thumbnail/image.png\",\n    sourceUrl: \"gs://que-backend-dev.appspot.com/testvideo.mp4\",\n    uploadedAt: new Date(),\n    viewed: false,\n    length: 320,\n  },\n  {\n    videoId: \"2\",\n    title: \"test2\",\n    uploader: { nickname: \"nobody\", profilePictureUrl: \"http://\" },\n    viewCount: 4567890,\n    starCount: 123,\n    likeCount: 0,\n    thumbnailUrl: \"gs://que-backend-dev.appspot.com/videos/thumbnail/image.png\",\n    sourceUrl: \"gs://que-backend-dev.appspot.com/testvideo.mp4\",\n    uploadedAt: new Date(),\n    viewed: false,\n    length: 552642,\n  },\n  {\n    videoId: \"3\",\n    title: \"test3\",\n    uploader: { nickname: \"nobody\", profilePictureUrl: \"http://\" },\n    viewCount: 4567890,\n    starCount: 123,\n    likeCount: 0,\n    thumbnailUrl: \"gs://que-backend-dev.appspot.com/videos/thumbnail/image.png\",\n    sourceUrl: \"gs://que-backend-dev.appspot.com/testvideo.mp4\",\n    uploadedAt: new Date(),\n    viewed: false,\n    length: 32134,\n  },\n  {\n    videoId: \"4\",\n    title: \"test4\",\n    uploader: { nickname: \"nobody\", profilePictureUrl: \"http://\" },\n    viewCount: 4567890,\n    starCount: 123,\n    likeCount: 0,\n    thumbnailUrl: \"gs://que-backend-dev.appspot.com/videos/thumbnail/image.png\",\n    sourceUrl: \"gs://que-backend-dev.appspot.com/testvideo.mp4\",\n    uploadedAt: new Date(),\n    viewed: false,\n    length: 77,\n  },\n  {\n    videoId: \"5\",\n    title: \"test5\",\n    uploader: { nickname: \"nobody\", profilePictureUrl: \"http://\" },\n    viewCount: 4567890,\n    starCount: 123,\n    likeCount: 0,\n    thumbnailUrl: \"gs://que-backend-dev.appspot.com/videos/thumbnail/image.png\",\n    sourceUrl: \"gs://que-backend-dev.appspot.com/testvideo.mp4\",\n    uploadedAt: new Date(),\n    viewed: false,\n  },\n  {\n    videoId: \"6\",\n    title: \"test6\",\n    uploader: { nickname: \"nobody\", profilePictureUrl: \"http://\" },\n    viewCount: 4567890,\n    starCount: 123,\n    likeCount: 0,\n    thumbnailUrl: \"gs://que-backend-dev.appspot.com/videos/thumbnail/image.png\",\n    sourceUrl: \"gs://que-backend-dev.appspot.com/testvideo.mp4\",\n    uploadedAt: new Date(),\n    viewed: false,\n    length: 1,\n  },\n  {\n    videoId: \"7\",\n    title: \"test7\",\n    uploader: { nickname: \"nobody\", profilePictureUrl: \"http://\" },\n    viewCount: 4567890,\n    starCount: 123,\n    likeCount: 0,\n    thumbnailUrl: \"gs://que-backend-dev.appspot.com/videos/thumbnail/image.png\",\n    sourceUrl: \"gs://que-backend-dev.appspot.com/testvideo.mp4\",\n    uploadedAt: new Date(),\n    viewed: false,\n    length: 32,\n  },\n  {\n    videoId: \"8\",\n    title: \"test8\",\n    uploader: { nickname: \"nobody\", profilePictureUrl: \"http://\" },\n    viewCount: 4567890,\n    starCount: 123,\n    likeCount: 0,\n    thumbnailUrl: \"gs://que-backend-dev.appspot.com/videos/thumbnail/image.png\",\n    sourceUrl: \"gs://que-backend-dev.appspot.com/testvideo.mp4\",\n    uploadedAt: new Date(),\n    viewed: false,\n    length: 523,\n  },\n  {\n    videoId: \"9\",\n    title: \"test9\",\n    uploader: { nickname: \"nobody\", profilePictureUrl: \"http://\" },\n    viewCount: 4567890,\n    starCount: 123,\n    likeCount: 0,\n    thumbnailUrl: \"gs://que-backend-dev.appspot.com/videos/thumbnail/image.png\",\n    sourceUrl: \"gs://que-backend-dev.appspot.com/testvideo.mp4\",\n    uploadedAt: new Date(),\n    viewed: false,\n  },\n  {\n    videoId: \"10\",\n    title: \"test10\",\n    uploader: { nickname: \"nobody\", profilePictureUrl: \"http://\" },\n    viewCount: 4567890,\n    starCount: 123,\n    likeCount: 0,\n    thumbnailUrl: \"gs://que-backend-dev.appspot.com/videos/thumbnail/image.png\",\n    sourceUrl: \"gs://que-backend-dev.appspot.com/testvideo.mp4\",\n    uploadedAt: new Date(),\n    viewed: false,\n  },\n  {\n    videoId: \"11\",\n    title: \"test11\",\n    uploader: { nickname: \"nobody\", profilePictureUrl: \"http://\" },\n    viewCount: 4567890,\n    starCount: 123,\n    likeCount: 0,\n    thumbnailUrl: \"gs://que-backend-dev.appspot.com/videos/thumbnail/image.png\",\n    sourceUrl: \"gs://que-backend-dev.appspot.com/testvideo.mp4\",\n    uploadedAt: new Date(),\n    viewed: false,\n  },\n];\n\nexport default mockVideoCardData;\n","import { StyleSheet } from \"react-native\";\nimport { bColors } from \"../../styles/base\";\n\nconst profilePictureStyles = (size: number = 24) => {\n  return StyleSheet.create({\n    default: {\n      alignSelf: \"center\",\n      width: size,\n      height: size,\n      borderRadius: size / 2,\n      backgroundColor: bColors.black,\n      overflow: \"hidden\",\n    },\n    profilePic: {\n      alignSelf: \"center\",\n      width: size,\n      height: size,\n      flex: 1,\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      resizeMode: \"contain\",\n    },\n  });\n};\n\nexport default profilePictureStyles;\n","import { useNavigation } from \"@react-navigation/native\";\nimport Avvvatars from \"avvvatars-react\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport {\n  Image,\n  StyleProp,\n  StyleSheet,\n  TouchableOpacity,\n  TouchableOpacityProps,\n  View,\n  ViewStyle,\n} from \"react-native\";\nimport QueResourceClient from \"../../api/QueResourceUtils\";\nimport { MainStackNavigationProp } from \"../../navigators/MainNavigator\";\nimport profilePictureStyles from \"./ProfilePictureButton.style\";\n\n/** 컴포넌트 프로퍼티 타입, TouchableOpacityProp 처럼 동작할 수 있습니다. 인터페이스 상속을 통한 Union */\ninterface ProfilePictureProps extends TouchableOpacityProps {\n  size?: number;\n  userId: string;\n  style?: StyleProp<ViewStyle & { fontSize?: number }>;\n}\n\n/** 프로필 사진을 포함한 버튼, 누르면 사용자 페이지로 이동합니다. TouchableOpacity 처럼 작동합니다. */\nfunction ProfilePicture(props: ProfilePictureProps) {\n  /** 페이지 전환을 위한 메인 네비게이터 사용 */\n  const mainNavigator = useNavigation<MainStackNavigationProp>();\n\n  /** 프로필 사진 URL */\n  const [profilePictureUrl, setProfilePictureUrl] = useState<string>(\"\");\n\n  /** 프로필 로딩 중 여부 */\n  const [profileLoading, setProfileLoading] = useState<boolean>(true);\n\n  useEffect(() => {\n    async function getDownloadUrl() {\n      setProfileLoading(true);\n      if (props.userId) {\n        const downloadUrlResult = await QueResourceClient.getUserProfilePicture(\n          props.userId\n        );\n\n        if (downloadUrlResult.success) {\n          setProfilePictureUrl(downloadUrlResult.payload!);\n        } else {\n          setProfilePictureUrl(\"\");\n        }\n      } else {\n        setProfilePictureUrl(\"\");\n      }\n      setProfileLoading(false);\n    }\n\n    getDownloadUrl();\n  }, [props.userId]);\n\n  /**\n   * 카드 컴포넌트의 프로필 사진 영역을 눌렀을 때 실행됩니다.\n   * 프로필을 업로드한 사용자의 Studio 페이지로 이동합니다.\n   */\n  const navigateToUserPage = useCallback(async () => {\n    mainNavigator.navigate(\"UserPage\", {\n      userId: props.userId,\n    });\n  }, []);\n\n  /** 상속받은 스타일에서 fontSize 추출 */\n  const inheritedFontSize = props.style\n    ? StyleSheet.flatten(props.style).fontSize\n    : undefined;\n\n  /** prop을 전달해 스타일 결정 */\n  const styles = profilePictureStyles(\n    props.size ? props.size : inheritedFontSize ? inheritedFontSize : undefined\n  );\n  return (\n    <TouchableOpacity\n      {...props}\n      testID={props.testID ? props.testID : \"profileButton\"}\n      onPress={navigateToUserPage}\n      style={[props.style, styles.default]}\n    >\n      {profileLoading ? null : profilePictureUrl ? (\n        <Image\n          style={[styles.profilePic]}\n          source={{ uri: profilePictureUrl }}\n        />\n      ) : (\n        <View style={[styles.profilePic]}>\n          <Avvvatars value={props.userId} style=\"shape\" />\n        </View>\n      )}\n    </TouchableOpacity>\n  );\n}\n\nexport default ProfilePicture;\n","// QueAuthUtils.ts\n/**\n * @module QueAuthUtils\n * 서버 리소스 접근 메소드 묶음 입니다. 자세한 정보는 인텔리센스의 도움을.\n */\n\nimport { QueResourceAPI, QueAuthAPI, QueAuthResponse } from \"./interfaces\";\n\nimport { FirebaseAuthClient } from \"./firebase/firebaseClient\";\nimport MailVerificationClient from \"./mailVerification/mailVerificationClient\";\nimport TestApiClient from \"./testApi/testApiClient\";\n\n/**\n * Concrete API Instance 조립\n */\nlet QueAuthClient: QueAuthAPI;\nif (process.env.NODE_ENV !== \"test\") {\n  // 백엔드 구현체에 따라 메소드를 조립하면 됩니다.\n\n  /** 메일 검증서버 API 클라이언트 */\n  const verificationClient = MailVerificationClient;\n  /** Firebase 직접 사용 인증 클라이언트 */\n  const authClient = FirebaseAuthClient;\n\n  QueAuthClient = {\n    requestVerificationCodeMail: verificationClient.requestVerificationCodeMail,\n    sendVerificationCode: verificationClient.sendVerificationCode,\n    signUpWithQueSelfManaged: verificationClient.signUpWithQueSelfManaged,\n    signInWithGoogle: authClient.signInWithGoogle,\n    signInWithQueSelfManaged: authClient.signInWithQueSelfManaged,\n    signOut: authClient.signOut,\n    refreshUser: authClient.refreshUser,\n  };\n} else {\n  // TBD 테스트용 메소드들\n  QueAuthClient = {\n    requestVerificationCodeMail: async () => QueAuthResponse.OK,\n    sendVerificationCode: async () => QueAuthResponse.OK,\n    signUpWithQueSelfManaged: async () => QueAuthResponse.Created,\n    signInWithQueSelfManaged: async () => {\n      return { status: QueAuthResponse.OK, user: {} };\n    },\n    signInWithGoogle: async () => {\n      return { status: QueAuthResponse.OK, user: {} };\n    },\n    signOut: async () => {},\n    refreshUser: async () => {},\n  };\n}\n\nexport default QueAuthClient;\n\nexport const {\n  requestVerificationCodeMail,\n  sendVerificationCode,\n  signInWithGoogle,\n  signInWithQueSelfManaged,\n  signOut,\n  signUpWithQueSelfManaged,\n} = QueAuthClient;\n","import getEnv from \"../../config/env\";\nimport { QueAuthResponse } from \"../interfaces\";\n\nconst config = getEnv().VERIFICATION_SERVER;\n\nconst URL =\n  config.PROTOCOL + \"://\" + config.HOST + \":\" + config.PORT + config.PREFIX;\n\nconst MailVerificationClient = {\n  requestVerificationCodeMail: async function (\n    mailAddr: string\n  ): Promise<QueAuthResponse> {\n    try {\n      const reqUrl = `${URL}/verification?mail=${mailAddr}`;\n      /** 메일 전송 요청 */\n      const result = await fetch(reqUrl);\n\n      const statusCode = result.status.toString();\n\n      // 요청 결과 다듬어서 반환하기.\n      if (\n        Object.values(QueAuthResponse).includes(statusCode as QueAuthResponse)\n      ) {\n        return statusCode as QueAuthResponse;\n      } else {\n        // 지정하지 않은 에러 발생\n        throw new Error(`Undefined error code : ${result.status}`);\n      }\n    } catch (error) {\n      console.error(`Unhandled error : ${error}`);\n      throw error;\n    }\n  },\n  sendVerificationCode: async function (\n    mailAddr: string,\n    code: string\n  ): Promise<QueAuthResponse> {\n    try {\n      const reqUrl = `${URL}/verification`;\n\n      /** 검증 요청 */\n      const result = await fetch(reqUrl, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"appliation/json\" },\n        body: JSON.stringify({ mail: mailAddr, code: code }),\n      });\n\n      const statusCode = result.status.toString();\n\n      // 요청 결과 다듬어서 반환하기.\n      if (\n        Object.values(QueAuthResponse).includes(statusCode as QueAuthResponse)\n      ) {\n        return statusCode as QueAuthResponse;\n      } else {\n        // 지정하지 않은 에러 발생\n        throw new Error(`Undefined error code : ${result.status}`);\n      }\n    } catch (error) {\n      console.error(`Unhandled error : ${error}`);\n      throw error;\n    }\n  },\n  signUpWithQueSelfManaged: async function (\n    mailAddr: string,\n    password: string\n  ): Promise<QueAuthResponse> {\n    try {\n      const reqUrl = `${URL}/signup`;\n\n      /** 회원가입 요청 */\n      const result = await fetch(reqUrl, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"appliation/json\" },\n        body: JSON.stringify({ mail: mailAddr, password: password }),\n      });\n\n      const statusCode = result.status.toString();\n\n      // 요청 결과 다듬어서 반환하기.\n      if (\n        Object.values(QueAuthResponse).includes(statusCode as QueAuthResponse)\n      ) {\n        return statusCode as QueAuthResponse;\n      } else {\n        // 지정하지 않은 에러 발생\n        throw new Error(`Undefined error code : ${result.status}`);\n      }\n    } catch (error) {\n      console.error(`Unhandled error : ${error}`);\n      throw error;\n    }\n  },\n};\n\nexport default MailVerificationClient;\n","import { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\nimport { AppDispatch, RootState } from \"../store\";\n\nexport const useTypedSelector: TypedUseSelectorHook<RootState> = useSelector;\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\n","import { useCallback } from \"react\";\nimport { Alert, Platform } from \"react-native\";\n\n/**\n * 예, 아니요로 응답을 받을 수 있는 alert 창을 사용한다.\n */\nexport const useConfirm = () => {\n  /** Native alert 창을 대기하도록 만드는 함수. */\n  const asyncNativeAlert = (\n    title: string,\n    subTitle?: string\n  ): Promise<boolean> => {\n    return new Promise((resolve, reject) => {\n      Alert.alert(\n        title,\n        subTitle,\n        [\n          { text: \"네\", onPress: () => resolve(true) },\n          { text: \"아니요\", onPress: () => resolve(false) },\n        ],\n        { cancelable: false }\n      );\n    });\n  };\n\n  return useCallback(\n    async (title: string, subTitle?: string): Promise<boolean> => {\n      if (Platform.OS === \"web\") {\n        return confirm(title + (subTitle ? `\\n${subTitle}` : \"\"));\n      } else {\n        return await asyncNativeAlert(title, subTitle);\n      }\n    },\n    []\n  );\n};\n","import { ActivityIndicator, Text, View } from \"react-native\";\nimport { bColors, bFont, bSpace } from \"../../styles/base\";\n\n/**\n * 화면 전체를 커버하는 로딩 표시\n */\nexport default function ScreenCoverLoadingSpinner(props: { message?: string }) {\n  return (\n    <View\n      style={{\n        position: \"absolute\",\n        height: \"100%\",\n        width: \"100%\",\n        backgroundColor: bColors.black + bColors.tpTetiary,\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        elevation: 5,\n      }}\n    >\n      <ActivityIndicator size={bFont.xlarge * 2} color={bColors.primary} />\n      <Text\n        style={{\n          marginTop: bSpace.large,\n          fontSize: bFont.xlarge,\n          textAlign: \"center\",\n          color: bColors.white + bColors.tpPrimary,\n        }}\n      >\n        {props.message}\n      </Text>\n    </View>\n  );\n}\n","import React, {\n  createContext,\n  Dispatch,\n  SetStateAction,\n  useCallback,\n  useContext,\n  useState,\n} from \"react\";\nimport { useEffect } from \"react\";\nimport ScreenCoverLoadingSpinner from \"../components/common/ScreenCoverLoadingIndicator\";\n\ntype LoadingIndicatorContextType = {\n  /** 로딩 표시 */\n  isLoading: boolean;\n  setIsLoading: Dispatch<SetStateAction<boolean>>;\n  /** 로딩 중 메세지 */\n  loadingMessage: string;\n  setLoadingMessage: Dispatch<SetStateAction<string>>;\n};\n\nconst LoadingIndicatorContext = createContext<LoadingIndicatorContextType>({\n  isLoading: false,\n  setIsLoading: () => {\n    throw new Error(\"Function not implemented.\");\n  },\n  loadingMessage: \"\",\n  setLoadingMessage: function (value: SetStateAction<string>): void {\n    throw new Error(\"Function not implemented.\");\n  },\n});\n\nexport function LoadingIndicatorProvider({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [loadingMessage, setLoadingMessage] = useState<string>(\"\");\n\n  return (\n    <LoadingIndicatorContext.Provider\n      value={{ isLoading, setIsLoading, loadingMessage, setLoadingMessage }}\n    >\n      {children}\n      {isLoading ? (\n        <ScreenCoverLoadingSpinner message={loadingMessage} />\n      ) : null}\n    </LoadingIndicatorContext.Provider>\n  );\n}\n\n/**\n * 화면 전체를 덮는 로딩 표시를 사용합니다.\n * @returns\n */\nexport const useLoadingIndicator = (message?: string) => {\n  const { setIsLoading, setLoadingMessage } = useContext(\n    LoadingIndicatorContext\n  );\n\n  useEffect(() => {\n    if (message) setLoadingMessage(message);\n  }, []);\n\n  const showLoading = useCallback((message?: string) => {\n    if (message) {\n      setLoadingMessage(message);\n    } else {\n      setLoadingMessage(\"\");\n    }\n    setIsLoading(true);\n  }, []);\n\n  /** 로딩 표시를 숨깁니다. */\n  const hideLoading = useCallback(() => {\n    setLoadingMessage(\"\");\n    setIsLoading(false);\n  }, []);\n\n  return {\n    /** 로딩을 표시를 나타냅니다. */\n    showLoading,\n    /** 로딩 표시를 숨깁니다. */\n    hideLoading,\n  };\n};\n","import { Toast } from \"native-base\";\nimport * as Google from \"expo-auth-session/providers/google\";\nimport { useCallback } from \"react\";\nimport QueAuthClient from \"../api/QueAuthUtils\";\nimport { QueAuthResponse } from \"../api/interfaces\";\nimport { useAppDispatch } from \"./useAppDispatch\";\nimport { clearCredential, setCredential } from \"../reducers/authReducer\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { OnBoardingStackNavigationProp } from \"../navigators/OnBoardingNavigator\";\nimport { RootStackNavigationProp } from \"../navigators/RootNavigator\";\nimport { useConfirm } from \"./useConfirm\";\nimport { useLoadingIndicator } from \"./useLoadingIndicator\";\n\n/** 로그인 과정에서의 에러 메세지 */\nconst signInErrorMessages: {\n  [key in QueAuthResponse | \"default\"]?: string;\n} = {\n  \"403\": `비밀번호를 다시 확인해주세요.`,\n  \"404\": `이메일을 다시 확인해주세요.`,\n  \"409\": `다른 방식으로 로그인해주세요.`,\n  \"410\": `정지된 계정입니다. 문의 부탁드립니다.`,\n  \"400\": `유효하지 않은 이메일입니다.`,\n  default: `로그인 과정에서 오류가 발생했습니다.`,\n};\n\nconst googleClientId =\n  \"944223797321-3fc5f5sn2l4vl3k3feuf61ckb7mirheb.apps.googleusercontent.com\";\n\n/**\n * Google Auth를 통한 계정 인증\n * 이미 등록된 Google 계정이 있으면 로그인 진행 후 main 화면으로\n * 등록된 Google 계정이 없으면 회원 가입 화면으로\n */\nexport const useSignWithGoogle = () => {\n  const [request, response, promptAsync] = Google.useAuthRequest({\n    clientId: googleClientId,\n    selectAccount: true,\n  });\n\n  const { hideLoading, showLoading } = useLoadingIndicator(\"\");\n\n  const onBoardingNavigator = useNavigation<OnBoardingStackNavigationProp>();\n\n  const dispatch = useAppDispatch();\n\n  return useCallback(async () => {\n    showLoading();\n    const result = await promptAsync();\n\n    if (result.type === \"success\") {\n      const accessToken = result.authentication?.accessToken!;\n\n      try {\n        const loginResult = await QueAuthClient.signInWithGoogle(accessToken);\n\n        /** 에러 발생 시 토스트에 표시할 메세지 */\n        let errMsg: string | undefined;\n\n        switch (loginResult.status) {\n          case QueAuthResponse.OK: {\n            // 로그인 정보 설정\n            dispatch(setCredential({ user: loginResult.user }));\n\n            hideLoading();\n\n            // 온보딩 화면 첫 화면으로 넘긴 뒤 로그인 여부 파악 후 메인 화면으로 보내기\n            const curNavState = onBoardingNavigator.getState();\n            if (curNavState.routes[curNavState.index].name !== \"CatchPhrase\")\n              onBoardingNavigator.reset({ routes: [{ name: \"CatchPhrase\" }] });\n\n            break;\n          }\n          case QueAuthResponse.Created: {\n            // 새 계정이 생성됨, 프로필 설정 화면으로 이동.\n            Toast.show({\n              description: \"Google 계정을 통해 새 Que 계정을 생성합니다.\",\n            });\n\n            hideLoading();\n\n            // 네비게이션\n            onBoardingNavigator.reset({\n              routes: [{ name: \"SignUp\", params: { hasProvider: true } }],\n            });\n\n            // 로그인 정보 설정\n            dispatch(setCredential({ user: loginResult.user }));\n\n            break;\n          }\n          default: {\n            errMsg = signInErrorMessages[loginResult.status];\n\n            hideLoading();\n            break;\n          }\n        }\n\n        if (errMsg) {\n          Toast.show({ description: errMsg });\n        }\n      } catch (error) {\n        const errorMessage = signInErrorMessages.default + `\\n${error}`;\n        Toast.show({ description: errorMessage });\n\n        hideLoading();\n      }\n    } else {\n      // 구글 로그인 팝업 오류 처리\n\n      hideLoading();\n    }\n  }, [response, request]);\n};\n\n/**\n * 외부 OAuth Provider 사용 없이 이메일과 비밀번호를 통해 로그인합니다.\n */\nexport const useSignInWithQue = (navigateAfter?: boolean) => {\n  const dispatch = useAppDispatch();\n\n  const onBoardingNavigator = useNavigation<OnBoardingStackNavigationProp>();\n\n  const { hideLoading, showLoading } = useLoadingIndicator(\"\");\n\n  return useCallback(async (userEmail: string, password: string) => {\n    showLoading();\n    try {\n      const loginResult = await QueAuthClient.signInWithQueSelfManaged(\n        userEmail,\n        password\n      );\n\n      /** 에러 발생 시 토스트에 표시할 메세지 */\n      let errMsg: string | undefined;\n\n      switch (loginResult.status) {\n        case QueAuthResponse.OK: {\n          // 로그인 정보 설정\n          dispatch(setCredential({ user: loginResult.user }));\n\n          // 이 플래그가 설정되어 있어야지 첫 화면으로 이동\n          if (navigateAfter) onBoardingNavigator.navigate(\"CatchPhrase\");\n          break;\n        }\n        default: {\n          errMsg = signInErrorMessages[loginResult.status];\n          break;\n        }\n      }\n\n      if (errMsg) {\n        Toast.show({ description: errMsg });\n      }\n    } catch (error) {\n      const errorMessage = signInErrorMessages.default + `\\n${error}`;\n      Toast.show({ description: errorMessage });\n    }\n\n    hideLoading();\n  }, []);\n};\n\n/**\n * 로그아웃을 진행하고 첫 화면으로 이동합니다.\n */\nexport const useSignOut = () => {\n  const dispatch = useAppDispatch();\n\n  /** 로그아웃 질문 용도 */\n  const asyncAlert = useConfirm();\n\n  const rootNavigator = useNavigation<RootStackNavigationProp>();\n\n  return useCallback(async () => {\n    if (await asyncAlert(\"로그아웃 하시겠습니까?\")) {\n      try {\n        await QueAuthClient.signOut();\n\n        Toast.show({ description: \"안녕히 가세요.\" });\n\n        dispatch(clearCredential());\n\n        rootNavigator.reset({ routes: [{ name: \"OnBoarding\" }] });\n      } catch (error) {\n        alert(`로그아웃 중 에러가 발생했습니다. ${error}`);\n      }\n    }\n  }, []);\n};\n","import { useMemo } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { selectIsSigned, selectCurrentUser } from \"../reducers/authReducer\";\n\n/**\n * 현재 로그인 한 사용자의 정보를 가져옵니다.\n * @returns\n */\nexport const useAuth = () => {\n  const user = useSelector(selectCurrentUser);\n  const isSigned = useSelector(selectIsSigned);\n\n  return useMemo(() => ({ user, isSigned }), [user, isSigned]);\n};\n","import { useCallback } from \"react\";\nimport { Alert, Platform } from \"react-native\";\nimport { Toast } from \"native-base\";\n\n/**\n * 아직 구현하지 못한 기능들에 대한 안내 메세지를 표출한다.\n * 굳이 이걸 분리하네\n */\nexport const useNotImplementedWarning = () => {\n  return useCallback(() => {\n    alert(\"개발 중입니다. 아직 알파 버전이라 미안해요.\");\n  }, []);\n};\n","import { useAssets } from \"expo-asset\";\nimport {\n  Image,\n  ImageSourcePropType,\n  SafeAreaView,\n  Text,\n  TouchableOpacity,\n  View,\n} from \"react-native\";\nimport { mainScreenHeaderStyle } from \"./header.style\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\nimport { useCallback } from \"react\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { NativeStackHeaderProps } from \"@react-navigation/native-stack\";\nimport { MainStackNavigationProp } from \"../../navigators/MainNavigator\";\nimport ProfilePictureButton from \"../buttons/ProfilePictureButton\";\nimport { useSignOut } from \"../../hooks/useSign\";\nimport { useAuth } from \"../../hooks/useAuth\";\nimport { useNotImplementedWarning } from \"../../hooks/useWarning\";\nimport { HeaderBackButton } from \"@react-navigation/elements\";\n\nconst styles = mainScreenHeaderStyle;\n\n/**\n * 홈 스크린 적용 헤더\n */\nfunction MainScreenHeader(props: NativeStackHeaderProps) {\n  /** 어플리케이션 로고 asset 붙여놓기 */\n  const [assets, error] = useAssets([\n    require(\"../../assets/custom/haeder-logo.png\"),\n  ]);\n\n  /** 메인 네비게이터 사용 */\n  const mainNavigator = useNavigation<MainStackNavigationProp>();\n\n  return (\n    <SafeAreaView style={styles.default} testID=\"homeScreenHeader\">\n      {props.back ? (\n        <>\n          <HeaderBackButton onPress={() => props.navigation.goBack()} />\n          <Text\n            numberOfLines={2}\n            ellipsizeMode={\"tail\"}\n            style={[styles.titleText]}\n          >\n            {props.back.title}\n          </Text>\n        </>\n      ) : (\n        <View style={styles.titleContainer} testID=\"homeHeaderTitleContainer\">\n          <TouchableOpacity\n            onPress={() => {\n              mainNavigator.navigate(\"Home\");\n            }}\n          >\n            {assets ? (\n              <Image\n                style={styles.titleLogo}\n                source={assets[0] as ImageSourcePropType}\n              />\n            ) : null}\n          </TouchableOpacity>\n        </View>\n      )}\n      <HomeHeaderButtonGroup />\n    </SafeAreaView>\n  );\n}\n\n/** 버튼 묶음 코드 분리 */\nfunction HomeHeaderButtonGroup() {\n  /** 메인 네비게이터 사용 */\n  const navigation = useNavigation<MainStackNavigationProp>();\n\n  /** 임시 로그아웃 버튼 */\n  const signOut = useSignOut();\n\n  const notImplemented = useNotImplementedWarning();\n\n  /** 알림 버튼을 누르면 알림 화면으로 */\n  const handleOnPressAlarm = useCallback(() => {\n    // TBD navigation.navigate(\"Notification\");\n    notImplemented();\n  }, []);\n\n  /** 검색 버튼을 누르면 검색 화면으로 */\n  const handleOnPressSearch = useCallback(() => {\n    // TBD navigation.navigate(\"Search\");\n    notImplemented();\n  }, []);\n\n  const { user } = useAuth();\n\n  return (\n    <View style={styles.buttonsContainer} testID=\"homeHeaderButtonsContainer\">\n      <TouchableOpacity\n        style={styles.headerButtonView}\n        onPress={handleOnPressSearch}\n        accessibilityRole=\"button\"\n      >\n        <MaterialIcons style={styles.headerButtonIcon} name=\"search\" />\n      </TouchableOpacity>\n      <TouchableOpacity\n        style={styles.headerButtonView}\n        onPress={handleOnPressAlarm}\n        accessibilityRole=\"button\"\n      >\n        <MaterialIcons\n          style={styles.headerButtonIcon}\n          name=\"notifications-none\"\n        />\n      </TouchableOpacity>\n      <View style={styles.headerButtonView}>\n        <ProfilePictureButton\n          userId={user.userId!}\n          style={styles.headerProfilePicSize}\n        />\n      </View>\n    </View>\n  );\n}\n\nexport default MainScreenHeader;\n","import { StyleSheet } from \"react-native\";\nimport { bColors, bFont, bSpace } from \"../../styles/base\";\n\n/** VideoCard 컴포넌트에 적용될 스타일 */\nconst navBarStyle = StyleSheet.create({\n  default: {\n    height: 56,\n    backgroundColor: bColors.white,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flexDirection: \"row\",\n    borderTopColor: bColors.greyTetiary,\n    borderTopWidth: 1,\n    paddingHorizontal: bSpace.xlarge + bSpace.middle,\n  },\n  buttonTouchableArea: {\n    flex: 1,\n    alignItems: \"center\",\n  },\n  buttonContainer: {\n    alignItems: \"center\",\n    marginTop: bSpace.small,\n  },\n  uploadButtonImage: {\n    height: bFont.xlarge * 2,\n  },\n  buttonFont: {\n    fontSize: bFont.small,\n    color: bColors.black,\n  },\n  buttonFontSelected: {\n    fontSize: bFont.small,\n    color: bColors.primary,\n  },\n  wizardNavBarContainer: {\n    paddingHorizontal: bSpace.xlarge,\n    justifyContent: \"space-between\",\n  },\n  wizardButtonContainer: {\n    width: bSpace.large * 6,\n    height: bFont.large * 2,\n  },\n  wizardButton: {\n    flex: 1,\n  },\n  skipButton: {\n    fontSize: bFont.middle,\n  },\n  nextButton: {\n    fontSize: bFont.large,\n  },\n});\n\nexport default navBarStyle;\n\n/**\n * StyleSheet로 wrapping 할 필요 없는 스타일 수치\n */\nexport const iconStyles = {\n  buttonIcon: {\n    fontSize: bFont.xlarge,\n    color: bColors.black,\n  },\n  buttonIconSelected: {\n    color: bColors.primary,\n  },\n};\n","import {\n  Image,\n  ImageSourcePropType,\n  Text,\n  TouchableOpacity,\n  View,\n} from \"react-native\";\nimport { BottomTabBarProps } from \"@react-navigation/bottom-tabs\";\nimport navBarStyle, { iconStyles } from \"./navbar.style\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\nimport { useAssets } from \"expo-asset\";\nimport { useNotImplementedWarning } from \"../../hooks/useWarning\";\n\n/** 스타일 객체 */\nconst styles = navBarStyle;\n\n/**\n * 홈 스크린 적용 커스텀 네비게이션 바\n */\nfunction HomeNavBar(props: BottomTabBarProps) {\n  const [assets, error] = useAssets([\n    require(\"../../assets/custom/upload.png\"),\n  ]);\n\n  /** Icon dictionary */\n  const buttonIcons = (name: string, isFocused: boolean) => {\n    const dict: {\n      [index: string]: any;\n    } = {\n      /** 업로드 버튼은 조금 강조됩니다. */\n      Upload: assets ? (\n        <Image\n          resizeMode=\"contain\"\n          style={styles.uploadButtonImage}\n          source={assets[0] as ImageSourcePropType}\n        />\n      ) : null,\n      // 그 외 네비게이션 버튼은 형식을 통일\n      Timeline: (\n        <View style={styles.buttonContainer}>\n          <MaterialIcons\n            name=\"video-library\"\n            size={iconStyles.buttonIcon.fontSize}\n            color={\n              isFocused\n                ? iconStyles.buttonIconSelected.color\n                : iconStyles.buttonIcon.color\n            }\n          />\n          <Text\n            style={isFocused ? styles.buttonFontSelected : styles.buttonFont}\n          >\n            영상\n          </Text>\n        </View>\n      ),\n      Preference: (\n        <View style={styles.buttonContainer}>\n          <MaterialIcons\n            name=\"settings\"\n            size={iconStyles.buttonIcon.fontSize}\n            color={\n              isFocused\n                ? iconStyles.buttonIconSelected.color\n                : iconStyles.buttonIcon.color\n            }\n          />\n          <Text\n            style={isFocused ? styles.buttonFontSelected : styles.buttonFont}\n          >\n            설정\n          </Text>\n        </View>\n      ),\n    };\n\n    return dict[name];\n  };\n\n  const notImplemented = useNotImplementedWarning();\n\n  /**\n   * 네비게이션 바 버튼 컴포넌트 매핑\n   */\n  const navButtonMapper = props.state.routes.map((route, index) => {\n    const { options } = props.descriptors[route.key];\n    const isFocused = props.state.index === index;\n    const icon = buttonIcons(route.name, isFocused);\n\n    /** 버튼 누를 시 네비게이션 수행 */\n    const handleOnPress = () => {\n      const event = props.navigation.emit({\n        type: \"tabPress\",\n        target: route.key,\n        canPreventDefault: true,\n      });\n\n      if (!isFocused && !event.defaultPrevented) {\n        if (route.name === \"Upload\") {\n          // 업로드 화면의 경우 상위의 main stack navigator 사용\n          props.navigation.getParent()?.navigate(route.name, { merge: true });\n        } else {\n          // `merge: true` 옵션은 탭 스크린 안의 파라미터가 보존되도록 한다.\n          props.navigation.navigate(route.name, { merge: true });\n        }\n      }\n    };\n\n    /** 버튼 길게 누를 시 (행동 보류)  */\n    const handleOnLongPress = () => {\n      props.navigation.emit({\n        type: \"tabLongPress\",\n        target: route.key,\n      });\n    };\n\n    return (\n      <TouchableOpacity\n        key={route.key}\n        accessibilityRole=\"button\"\n        accessibilityState={isFocused ? { selected: true } : {}}\n        accessibilityLabel={options.tabBarAccessibilityLabel}\n        testID={options.tabBarTestID}\n        onPress={handleOnPress}\n        onLongPress={handleOnLongPress}\n        style={styles.buttonTouchableArea}\n      >\n        {icon}\n      </TouchableOpacity>\n    );\n  });\n\n  return <View style={styles.default}>{navButtonMapper}</View>;\n}\n\nexport default HomeNavBar;\n","import { StyleSheet, TextStyle } from \"react-native\";\nimport { bColors, bFont, bSpace } from \"../../styles/base\";\nimport { RoundedButtonProps } from \"./RoundedButton\";\n\n/** 버튼 타입과 관계없는 기본 레이아웃에 대한 스타일 */\nexport const buttonLayoutStyles = StyleSheet.create({\n  buttonBorder: { borderRadius: 4, overflow: \"hidden\" },\n  buttonBody: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n});\n\n/** 버튼 타입 별 색상 지정 */\nconst colorsetByTypes = {\n  enabledBorder: {\n    bgColor: bColors.white,\n    bdColor: bColors.black,\n    txColor: bColors.black,\n  },\n  enabledDark: {\n    bgColor: bColors.black,\n    bdColor: bColors.black,\n    txColor: bColors.white,\n  },\n  disabled: {\n    bgColor: bColors.white,\n    bdColor: bColors.greyTetiary,\n    txColor: bColors.greyTetiary,\n  },\n  primary: {\n    bgColor: bColors.transparent,\n    bdColor: bColors.transparent,\n    txColor: bColors.white,\n  },\n  white: {\n    bgColor: bColors.white,\n    bdColor: bColors.white,\n    txColor: bColors.black,\n  },\n  danger: {\n    bgColor: bColors.red,\n    bdColor: bColors.red,\n    txColor: bColors.white,\n  },\n};\n/** 버튼 타입등 프로퍼티에 영향을 받는 스타일 */\nexport const buttonInsideStyles = (props: RoundedButtonProps) => {\n  const colorSet = colorsetByTypes[props.buttonType!];\n  /** 상속된 텍스트 스타일 or 기본 텍스트 스타일 */\n  const inheritedStyle: TextStyle = props.style\n    ? (props.style as TextStyle)\n    : { fontSize: bFont.middle, fontWeight: \"normal\" };\n\n  const rtStyle = {\n    ...StyleSheet.create({\n      buttonInside: {\n        backgroundColor: colorSet.bgColor,\n        alignItems: props.iconData?.withText ? \"flex-start\" : \"center\",\n        justifyContent: \"center\",\n        borderRadius: 4,\n        width: \"100%\",\n        height: \"100%\",\n        borderWidth: bSpace.small / 2,\n        borderColor: colorSet.bdColor,\n      },\n      buttonImage: {\n        height: props.iconData?.iconSize\n          ? props.iconData.iconSize\n          : inheritedStyle.fontSize,\n        width: props.iconData?.iconSize\n          ? props.iconData.iconSize\n          : inheritedStyle.fontSize,\n        alignSelf: \"center\",\n      },\n      buttonIcon: {\n        fontSize: props.iconData?.iconSize\n          ? props.iconData.iconSize\n          : inheritedStyle.fontSize,\n      },\n      buttonText: {\n        textAlign: \"center\",\n        color: colorSet.txColor,\n        fontSize: inheritedStyle.fontSize,\n        fontWeight: props.bold ? \"bold\" : inheritedStyle.fontWeight,\n      },\n      gradientBackground: {\n        position: \"absolute\",\n        width: \"100%\",\n        height: \"100%\",\n      },\n      verticalLine: {\n        alignSelf: \"center\",\n        height: \"80%\",\n        width: 1,\n        backgroundColor: colorSet.txColor,\n      },\n      rowFlexContainer: {\n        flex: 1,\n        width: \"100%\",\n        justifyContent: \"center\",\n        flexDirection: \"row\",\n      },\n      rowFlexItem: {\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        marginHorizontal: bSpace.small,\n      },\n      rowFlexIcon: {},\n      rowFlexText: {\n        width: \"100%\",\n        flex: 1,\n      },\n    }),\n    primaryGradient: {\n      colors: [bColors.tetiary, bColors.primary],\n      start: { x: 0, y: 1 },\n      end: { x: 1, y: 0 },\n    },\n  };\n\n  return rtStyle;\n};\n","import { LinearGradient } from \"expo-linear-gradient\";\nimport {\n  Image,\n  ImageSourcePropType,\n  Pressable,\n  Text,\n  TextProps,\n  View,\n} from \"react-native\";\nimport Ionicons from \"@expo/vector-icons/Ionicons\";\nimport MaterialIcons from \"@expo/vector-icons/MaterialIcons\";\nimport { buttonInsideStyles, buttonLayoutStyles } from \"./RoundedButton.style\";\nimport { useState } from \"react\";\n\nexport type RoundedButtonType =\n  | \"primary\"\n  | \"enabledDark\"\n  | \"enabledBorder\"\n  | \"white\"\n  | \"danger\"\n  | \"disabled\";\n\n/**\n * 버튼 컴포넌트 프로퍼티\n */\nexport interface RoundedButtonProps extends TextProps {\n  buttonType?: RoundedButtonType;\n  bold?: boolean;\n  iconData?: {\n    iconType: \"image\" | \"material\" | \"ionicon\";\n    withText?: boolean;\n    ioniconName?: keyof typeof Ionicons.glyphMap;\n    materialIconName?: keyof typeof MaterialIcons.glyphMap;\n    imageSrc?: ImageSourcePropType;\n    iconSize?: number;\n  };\n  testID?: string;\n}\n\n/**\n * Que 어플리케이션에서 기본적으로 자주 사용하게 될 끝이 둥근 네모난 버튼 컴포넌트\n * `<Text>` 처럼 사용할 수 있습니다.\n * TBD 버그수정 - StyleSheet.create로 생성한 텍스트 스타일을 프로퍼티로 전달할 시 제대로 반영되지 않음\n */\nfunction RoundedButton(props: RoundedButtonProps) {\n  const insideStyles = buttonInsideStyles(props);\n\n  const iconComponent = !props.iconData ? null : props.iconData?.iconType ===\n    \"image\" ? (\n    <Image\n      source={props.iconData.imageSrc!}\n      resizeMode=\"contain\"\n      style={insideStyles.buttonImage}\n    />\n  ) : props.iconData?.iconType === \"ionicon\" ? (\n    <Ionicons\n      style={[insideStyles.buttonText, insideStyles.buttonIcon]}\n      name={props.iconData.ioniconName!}\n    />\n  ) : props.iconData?.iconType === \"material\" ? (\n    <MaterialIcons\n      style={[insideStyles.buttonText, insideStyles.buttonIcon]}\n      name={props.iconData.materialIconName}\n    />\n  ) : null;\n\n  return (\n    <View\n      testID={props.testID}\n      style={[props.style, buttonLayoutStyles.buttonBorder]}\n    >\n      <Pressable\n        testID=\"roundedButtonPressable\"\n        style={[buttonLayoutStyles.buttonBody]}\n        onPress={props.onPress}\n        disabled={props.buttonType === \"disabled\"}\n        accessibilityRole=\"button\"\n      >\n        {props.buttonType === \"primary\" ? (\n          <LinearGradient\n            style={insideStyles.gradientBackground}\n            colors={insideStyles.primaryGradient.colors}\n            start={insideStyles.primaryGradient.start}\n            end={insideStyles.primaryGradient.end}\n          />\n        ) : null}\n        <View style={insideStyles.buttonInside}>\n          {!props.iconData ? (\n            // iconData가 없는 경우, 버튼 내용이 텍스트만으로 이루어져 있음.\n            <Text selectable={false} style={insideStyles.buttonText}>\n              {props.children}\n            </Text>\n          ) : props.iconData.withText ? (\n            // 텍스트와 아이콘 함께 사용하는 버튼\n            <View style={insideStyles.rowFlexContainer}>\n              <View style={[insideStyles.rowFlexItem]}>{iconComponent}</View>\n              <View\n                style={[insideStyles.rowFlexItem, insideStyles.verticalLine]}\n              />\n              <View\n                style={[insideStyles.rowFlexItem, insideStyles.rowFlexText]}\n              >\n                <Text selectable={false} style={[insideStyles.buttonText]}>\n                  {props.children}\n                </Text>\n              </View>\n            </View>\n          ) : (\n            // 아이콘만 있는 버튼\n            iconComponent\n          )}\n        </View>\n      </Pressable>\n    </View>\n  );\n}\n\n/** 프로퍼티 기본 값 */\nRoundedButton.defaultProps = {\n  children: \"\",\n  buttonType: \"enabledBorder\",\n  onPress: () => {\n    console.warn(\"버튼은 왜 달았습니까?\");\n  },\n};\n\nexport default RoundedButton;\n","import { StyleSheet } from \"react-native\";\nimport { bColors, bFont, bSpace } from \"../../styles/base\";\n\n/**\n * 메뉴 모달에서 포함하는 컴포넌트들의 스타일 객체\n */\nconst menuModalStyles = StyleSheet.create({\n  menuModalView: {\n    position: \"absolute\",\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    alignSelf: \"center\",\n    backgroundColor: bColors.white,\n    bottom: bSpace.small / 2,\n    width: \"100%\",\n    maxWidth: 280,\n    borderRadius: 10,\n    paddingHorizontal: bSpace.small,\n  },\n  modalSwipeIndicator: {\n    height: bSpace.xlarge + bFont.small,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  modalSwipeHandle: {\n    backgroundColor: bColors.greyTetiary,\n    width: 40,\n    height: 4,\n  },\n  menuModalChildrenContainer: {\n    width: \"100%\",\n  },\n  menuModalItemContainer: {\n    flexDirection: \"column\",\n  },\n  menuModalItemFlexBox: {\n    flexDirection: \"row\",\n    width: \"100%\",\n    marginBottom: bSpace.large,\n  },\n  menuModalItemFlexItem: {\n    marginLeft: bSpace.xlarge,\n  },\n\n  noticeModalView: {\n    position: \"absolute\",\n    flex: 1,\n    justifyContent: \"center\",\n    alignSelf: \"center\",\n    backgroundColor: bColors.white,\n    width: \"90%\",\n    maxWidth: 560,\n    height: \"80%\",\n    borderRadius: 10,\n    paddingHorizontal: bSpace.middle,\n    overflow: \"hidden\",\n  },\n  noticeModalHeader: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    height: bSpace.middle * 5,\n    width: \"100%\",\n  },\n  noticeModalBody: {\n    flex: 1,\n    width: \"100%\",\n  },\n  noticeModalBottom: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    height: bSpace.middle * 5,\n    width: \"100%\",\n  },\n  noticeModalIcon: {\n    fontSize: bFont.xlarge,\n  },\n  noticeModalButtonEnabled: {\n    color: bColors.black,\n  },\n  noticeModalButtonDisabled: {\n    color: bColors.greyTetiary,\n  },\n});\n\nexport default menuModalStyles;\n","import React, { useCallback } from \"react\";\nimport {\n  Text,\n  TouchableOpacity,\n  TouchableWithoutFeedback,\n  View,\n} from \"react-native\";\nimport Modal from \"react-native-modal\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport styles from \"./Modal.style\";\n\n// TBD Ionicons => MaterialIcon으로 변경하기\n\n/**\n * 메뉴 모달 컴포넌트\n * @param props\n */\nexport default function MenuModal(props: MenuModalProps) {\n  const onCloseRequested = useCallback(\n    () => props.setModalVisible(!props.visible),\n    [props.visible]\n  );\n\n  return (\n    <Modal\n      testID=\"menuModal\"\n      isVisible={props.visible}\n      onBackButtonPress={onCloseRequested}\n      onBackdropPress={onCloseRequested}\n      onSwipeComplete={onCloseRequested}\n      swipeDirection=\"down\"\n      swipeThreshold={66}\n    >\n      <View style={styles.menuModalView}>\n        {/** ! 터치 버그 존재 ! */}\n        <TouchableWithoutFeedback>\n          <View style={styles.menuModalChildrenContainer}>\n            <View style={styles.modalSwipeIndicator}>\n              <View style={styles.modalSwipeHandle} />\n            </View>\n            <View style={styles.menuModalItemContainer}>{props.children}</View>\n          </View>\n        </TouchableWithoutFeedback>\n      </View>\n    </Modal>\n  );\n}\n\n/**\n * 메뉴 모달에 들어갈 클릭 가능한 메뉴 아이템 컴포넌트\n * @param props\n */\nexport function MenuModalItem(props: MenuModalItemProps) {\n  return (\n    <TouchableOpacity\n      style={styles.menuModalItemFlexBox}\n      onPress={props.onMenuPress}\n    >\n      <Ionicons\n        style={styles.menuModalItemFlexItem}\n        size={18}\n        name={props.iconName}\n      />\n      <Text style={styles.menuModalItemFlexItem}>{props.menuText}</Text>\n    </TouchableOpacity>\n  );\n}\n\ntype MenuModalProps = {\n  visible: boolean;\n  setModalVisible: (visible: boolean) => void;\n  children: JSX.Element | JSX.Element[];\n};\n\ntype MenuModalItemProps = {\n  menuText?: string;\n  iconName?: keyof typeof Ionicons.glyphMap;\n  onMenuPress?: () => void;\n};\n","import * as Clipboard from \"expo-clipboard\";\nimport { useAssets } from \"expo-asset\";\nimport { useToast } from \"native-base\";\nimport { useState } from \"react\";\nimport {\n  Image,\n  ImageSourcePropType,\n  Linking,\n  Platform,\n  Pressable,\n  ScrollView,\n  StyleSheet,\n  Text,\n  View,\n} from \"react-native\";\nimport RoundedButton from \"../../../../components/buttons/RoundedButton\";\nimport MenuModal, {\n  MenuModalItem,\n} from \"../../../../components/modals/MenuModal\";\nimport { bColors, bFont, bSpace } from \"../../../../styles/base\";\nimport screens from \"../../../../styles/screens\";\n\n/**\n * 개발자 정보 화면\n * TBD 실제 서비스의 프로필 화면을 변형해서 만들기\n *     실제 서비스 프로필 화면에 쓰이는 데이터를 가지고 만들기\n * @returns\n */\nexport function DevInfoScreen() {\n  /** 어플리케이션 로고 asset 붙여놓기 */\n  const [assets, error] = useAssets([\n    require(\"../../../../assets/dev/profile.jpg\"),\n    require(\"../../../../assets/dev/graph.png\"),\n    require(\"../../../../assets/socials/github-small.png\"),\n    require(\"../../../../assets/dev/sylye.jpg\"),\n  ]);\n  const [isSubscribed, setIsSubscribed] = useState<boolean>(true);\n  const [isFollowed, setIsFollowed] = useState<boolean>(false);\n  const [myMailAddr, _] = useState<string>(\"anteater1056@gmail.com\");\n\n  const [menuModalVisible, setMenuModalVisible] = useState<boolean>(false);\n\n  const toast = useToast();\n\n  return (\n    <ScrollView style={screens.defaultScreenLayout}>\n      <MenuModal\n        visible={menuModalVisible}\n        setModalVisible={setMenuModalVisible}\n      >\n        <MenuModalItem menuText=\"노래 부르는 것도\" onMenuPress={() => {}} />\n        <MenuModalItem menuText=\"좋아하는 편입니다.\" onMenuPress={() => {}} />\n        <MenuModalItem menuText=\"그리고 여긴\" onMenuPress={() => {}} />\n        <MenuModalItem\n          menuText=\"여러 기능들이 포함될 예정입니다.\"\n          onMenuPress={() => {\n            alert(\"눌러도 별 거 없어요..\");\n          }}\n        />\n      </MenuModal>\n      <View style={style.rootContainer}>\n        <View\n          onTouchEnd={() => {\n            toast.show({\n              description: \"죄송하지만 준비한 페이지가 하나밖에 없어요.\",\n            });\n          }}\n          style={style.menuContainer}\n        >\n          <Text style={[style.menuText, style.menuTextSelected]}>홈</Text>\n          <Text style={style.menuText}>영상</Text>\n          <Text style={style.menuText}>리액션</Text>\n          <Text style={style.menuText}>게시판</Text>\n        </View>\n        <View style={style.profileContainer}>\n          <View style={style.profilePictureContainer}>\n            {assets ? (\n              <Image\n                style={style.profilePicture}\n                source={assets[0] as ImageSourcePropType}\n              />\n            ) : null}\n            <View style={style.profileLevelIconContainer}>\n              <View style={style.profileLevelIconDeco} />\n              <Pressable\n                onPress={() => {\n                  toast.show({\n                    description: \"이거는 그.. 레벨 같은 겁니다.\",\n                  });\n                }}\n              >\n                <Text selectable={false} style={style.profileLevelIcon}>\n                  🔰\n                </Text>\n              </Pressable>\n              <View style={style.profileLevelIconDeco} />\n            </View>\n          </View>\n          <View style={style.profileTextContainer}>\n            <View style={style.introductionContainer}>\n              <Text style={style.myName}>이지훈</Text>\n              <Text style={style.myNickname}>@anteater333</Text>\n              <Text numberOfLines={2} style={style.myComment}>\n                안녕하세요. 개발잡니다. 이것저것 만드는걸 좋아합니다.\n              </Text>\n            </View>\n            <View style={style.followContainer}>\n              <View style={style.followTextContainer}>\n                <Text style={style.followTextTop}>팔로워</Text>\n                <Text style={style.followTextBottom}>(아주 적음)</Text>\n              </View>\n              <View style={style.verticalSeparator} />\n              <View style={style.followTextContainer}>\n                <Text style={style.followTextTop}>팔로잉</Text>\n                <Text style={style.followTextBottom}>(아주 많음)</Text>\n              </View>\n            </View>\n          </View>\n        </View>\n        <View style={style.buttonContainer}>\n          <RoundedButton\n            onPress={() => {\n              toast.show({\n                description: \"사실 이게 모델하우스 같은거라서요..\",\n              });\n              setIsFollowed(!isFollowed);\n            }}\n            style={{\n              flex: 1,\n              fontSize: bFont.large,\n              textAlignVertical: \"center\",\n            }}\n            buttonType={isFollowed ? \"enabledBorder\" : \"enabledDark\"}\n          >\n            {isFollowed ? \"언팔로우\" : \"팔로우\"}\n          </RoundedButton>\n          {isFollowed ? (\n            <RoundedButton\n              onPress={() => {\n                toast.show({\n                  description: \"실제로 동작하는건 아닙니다.\",\n                });\n                setIsSubscribed(!isSubscribed);\n              }}\n              style={{\n                width: bSpace.xlarge * 2,\n                marginLeft: bSpace.middle,\n                fontSize: bFont.xlarge,\n              }}\n              iconData={{\n                iconType: \"material\",\n                materialIconName: isSubscribed\n                  ? \"notifications-off\"\n                  : \"notifications-none\",\n              }}\n              buttonType={isSubscribed ? \"enabledBorder\" : \"enabledDark\"}\n            />\n          ) : null}\n          <RoundedButton\n            onPress={() => {\n              setMenuModalVisible(true);\n            }}\n            style={{\n              width: bSpace.xlarge * 2,\n              marginLeft: bSpace.middle,\n              fontSize: bFont.xlarge,\n            }}\n            iconData={{\n              iconType: \"material\",\n              materialIconName: \"more-horiz\",\n            }}\n            buttonType=\"enabledBorder\"\n          />\n        </View>\n        <View style={style.statContainer}>\n          <View style={style.countContainer}>\n            <View style={style.countSection}>\n              <Text style={style.countTextTop}>평균 점수</Text>\n              <Text style={style.countTextBottom}>(낮음)</Text>\n            </View>\n            <View style={style.countSection}>\n              <Text style={style.countTextTop}>받은 ❤️ 수</Text>\n              <Text style={style.countTextBottom}>(적음)</Text>\n            </View>\n            <View style={style.countSection}>\n              <Text style={style.countTextTop}>전체 시청 수</Text>\n              <Text style={style.countTextBottom}>(많지 않음)</Text>\n            </View>\n          </View>\n          <View style={style.verticalSeparator} />\n          <View style={style.graphContainer}>\n            <Text style={style.countTextTop}>점수 통계</Text>\n            <Pressable\n              onPress={() => {\n                toast.show({ description: \"보시다시피 그냥 이미지입니다.\" });\n              }}\n            >\n              {assets ? (\n                <Image\n                  style={style.graphPlaceholder}\n                  source={assets[1] as ImageSourcePropType}\n                />\n              ) : null}\n            </Pressable>\n          </View>\n        </View>\n        <View style={style.tasteContainer}>\n          <View style={style.tasteSection}>\n            <Text style={style.tasteTextTop}>주로 부르는 장르</Text>\n            <Text style={style.tasteTextMiddle}>\n              가 들어갈 자리지만 지금은 제 github 계정입니다.\n            </Text>\n            <Pressable\n              style={style.linkButton}\n              onPress={() => {\n                Linking.openURL(\"https://github.com/anteater333\");\n              }}\n            >\n              {assets ? (\n                <Image\n                  style={style.linkButton}\n                  source={assets[2] as ImageSourcePropType}\n                />\n              ) : null}\n            </Pressable>\n          </View>\n          <View style={style.tasteSection}>\n            <Text style={style.tasteTextTop}>주로 듣는 장르</Text>\n            <Text style={style.tasteTextMiddle}>\n              가 들어갈 자리지만 지금은 제 블로그입니다.\n            </Text>\n            <Pressable\n              style={style.linkButton}\n              onPress={() => {\n                Linking.openURL(\"https://anteater333.github.io/\");\n              }}\n            >\n              {assets ? (\n                <Image\n                  style={style.linkButton}\n                  source={assets[2] as ImageSourcePropType}\n                />\n              ) : null}\n            </Pressable>\n          </View>\n          <View style={style.tasteSection}>\n            <Text style={style.tasteTextTop}>좋아하는 가수</Text>\n            <Text style={style.tasteTextMiddle}>\n              가 들어갈 자리지만 지금은 제 메일 주소입니다.\n            </Text>\n            <Text\n              style={style.linkText}\n              onPress={() => {\n                Clipboard.setString(myMailAddr);\n\n                toast.show({ description: \"복사되었습니다.\" });\n              }}\n            >\n              {myMailAddr}\n            </Text>\n          </View>\n          <View style={style.tasteSection}>\n            <Text style={style.tasteTextTop}>실례가 안된다면</Text>\n            <Text style={style.tasteTextMiddle}>커피 한 잔만 사주십시오.</Text>\n            <Pressable\n              style={style.linkButton}\n              onPress={() => {\n                Linking.openURL(\"https://www.buymeacoffee.com/anteater333\");\n              }}\n            >\n              {assets ? (\n                <Image\n                  style={style.linkButton}\n                  source={assets[3] as ImageSourcePropType}\n                />\n              ) : null}\n            </Pressable>\n          </View>\n        </View>\n      </View>\n    </ScrollView>\n  );\n}\n\nconst style = StyleSheet.create({\n  rootContainer: {},\n  menuContainer: {\n    flexDirection: \"row\",\n  },\n  menuText: {\n    flex: 1,\n    textAlign: \"center\",\n    textAlignVertical: \"center\",\n    fontSize: bFont.large,\n    height: bSpace.large * 3,\n    borderColor: bColors.white,\n    borderWidth: bSpace.small / 2,\n  },\n  menuTextSelected: {\n    borderBottomColor: bColors.black,\n  },\n  profileContainer: {\n    flexDirection: \"row\",\n    margin: bSpace.xlarge,\n  },\n  profilePictureContainer: {\n    flexDirection: \"column\",\n    marginRight: bSpace.xlarge,\n  },\n  profilePicture: {\n    width: bFont.middle * 10,\n    height: bFont.middle * 10,\n    borderRadius: (bFont.middle * 10) / 2,\n  },\n  profileLevelIconContainer: {\n    flex: 1,\n    flexDirection: \"row\",\n    marginTop: bSpace.middle,\n    height: bFont.large,\n    paddingHorizontal: bSpace.small,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  profileLevelIcon: {\n    fontSize: bFont.large,\n  },\n  profileLevelIconDeco: {\n    flex: 1,\n    height: bSpace.small / 2,\n    backgroundColor: bColors.black,\n    marginHorizontal: bSpace.small,\n  },\n  profileTextContainer: {\n    flex: 1,\n  },\n  introductionContainer: {\n    marginBottom: bSpace.middle,\n  },\n  myName: {\n    fontSize: bFont.xlarge,\n    fontWeight: \"bold\",\n  },\n  myNickname: {\n    fontSize: bFont.middle,\n    color: bColors.greyPrimary,\n    marginBottom: bSpace.middle,\n  },\n  myComment: {\n    fontSize: bFont.middle,\n  },\n  followContainer: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flex: 1,\n    paddingTop: bSpace.middle,\n  },\n  verticalSeparator: {\n    backgroundColor: bColors.greyTetiary,\n    width: bSpace.small / 2,\n    height: \"100%\",\n  },\n  followTextContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flex: 1,\n  },\n  followTextTop: {\n    fontSize: bFont.large,\n    marginBottom: bSpace.middle,\n  },\n  followTextBottom: {\n    fontSize: bFont.small,\n  },\n  buttonContainer: {\n    width: \"100%\",\n    height: bSpace.xlarge * 2,\n    flexDirection: \"row\",\n    paddingHorizontal: bSpace.middle,\n  },\n  statContainer: {\n    marginTop: bSpace.xlarge,\n    paddingHorizontal: bSpace.xlarge,\n    flexDirection: \"row\",\n  },\n  countContainer: {\n    flex: 1.5,\n    justifyContent: \"space-between\",\n  },\n  countSection: {},\n  countTextTop: {\n    fontSize: bFont.large,\n  },\n  countTextBottom: {\n    fontSize: bFont.large,\n  },\n  graphContainer: {\n    marginLeft: bSpace.xlarge,\n    flex: 2,\n  },\n  graphPlaceholder: {\n    alignSelf: \"center\",\n    marginTop: bSpace.large,\n  },\n  tasteContainer: {\n    marginTop: bSpace.xlarge,\n    paddingHorizontal: bSpace.xlarge,\n    resizeMode: \"contain\",\n  },\n  tasteSection: {\n    marginBottom: bSpace.xlarge,\n  },\n  tasteTextTop: {\n    fontSize: bFont.xlarge,\n    fontWeight: \"bold\",\n  },\n  tasteTextMiddle: {\n    fontSize: bFont.middle,\n    marginBottom: bSpace.middle,\n  },\n  linkButton: {\n    // 임시라서 그냥 하드코딩\n    width: 32,\n    height: 32,\n  },\n  linkText: {\n    marginTop: -bSpace.large,\n    fontSize: bFont.large,\n    color: bColors.primary,\n  },\n});\n","import { useCallback, useState } from \"react\";\nimport { FlatList, Pressable, StyleSheet, Text, View } from \"react-native\";\nimport { useSignOut } from \"../../../../hooks/useSign\";\nimport screens from \"../../../../styles/screens\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\nimport { bColors, bFont, bSpace } from \"../../../../styles/base\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport {\n  PreferenceStackNavigationProp,\n  PreferenceStackParamList,\n} from \"../../../../navigators/PreferenceNavigator\";\nimport { DevInfoScreen } from \"./DevInfoScreen\";\nimport { useNavigation } from \"@react-navigation/native\";\n\nconst PreferenceStack = createNativeStackNavigator<PreferenceStackParamList>();\n\n/**\n * 어플리케이션 설정 화면 (네비게이터)\n */\nfunction PreferenceScreen() {\n  return (\n    <View style={screens.defaultScreenLayout}>\n      <PreferenceStack.Navigator\n        screenOptions={{\n          headerShown: false,\n        }}\n      >\n        <PreferenceStack.Screen\n          name=\"MainMenu\"\n          component={PreferenceMainMenuScreen}\n        />\n        <PreferenceStack.Screen name=\"DevInfo\" component={DevInfoScreen} />\n      </PreferenceStack.Navigator>\n    </View>\n  );\n}\n\n/**\n * 어플리케이션 설정 화면 (설정 메인메뉴)\n */\nfunction PreferenceMainMenuScreen() {\n  /** 로그아웃 기능 */\n  const signOut = useSignOut();\n\n  const preferenceNavigator = useNavigation<PreferenceStackNavigationProp>();\n\n  const [preferenceMenuData, _] = useState<PreferenceMenuItemType[]>([\n    {\n      menuName: \"로그아웃\",\n      onPress: signOut,\n      iconName: \"exit-to-app\",\n    },\n    {\n      menuName: \"개발자 정보\",\n      onPress: useCallback(() => {\n        preferenceNavigator.navigate(\"DevInfo\");\n      }, []),\n      iconName: \"info-outline\",\n    },\n  ]);\n\n  const handleRenderItem = useCallback(\n    ({ item }: { item: PreferenceMenuItemType }) => {\n      return <PreferenceMenuItem {...item} />;\n    },\n    []\n  );\n\n  return (\n    <View style={screens.defaultScreenLayout}>\n      <FlatList\n        showsHorizontalScrollIndicator={false}\n        data={preferenceMenuData}\n        renderItem={handleRenderItem}\n        keyExtractor={(listItem) => listItem.menuName}\n      />\n    </View>\n  );\n}\n\nfunction PreferenceMenuItem(props: PreferenceMenuItemType) {\n  return (\n    <Pressable onPress={props.onPress}>\n      <View style={style.menuItemContainer}>\n        <MaterialIcons style={style.menuItemText} name={props.iconName} />\n        <Text style={style.menuItemText}>{props.menuName}</Text>\n      </View>\n    </Pressable>\n  );\n}\n\n/** TBD 모달쪽 메뉴 아이템 코드와 통일시키기 */\ninterface PreferenceMenuItemType {\n  menuName: string;\n  iconName: keyof typeof MaterialIcons.glyphMap;\n  onPress: () => void;\n}\n\n/** TBD 스타일 코드 분리 */\nconst style = StyleSheet.create({\n  menuItemContainer: {\n    flex: 1,\n    flexDirection: \"row\",\n    borderWidth: Math.max(bFont.small / 8, 1),\n    borderColor: bColors.white,\n    borderBottomColor: bColors.greySecondary,\n    paddingVertical: bSpace.xlarge,\n    marginHorizontal: bSpace.xlarge,\n    alignItems: \"center\",\n  },\n  menuItemText: {\n    fontSize: bFont.large,\n    marginRight: bSpace.large,\n  },\n});\n\nexport default PreferenceScreen;\n","import Notice01 from \"./notice.alpha.01\";\nimport Notice02 from \"./notice.alpha.02\";\nimport Notice03 from \"./notice.alpha.03\";\nimport Notice04 from \"./notice.alpha.04\";\nimport Notice05 from \"./notice.alpha.05\";\n\nexport default [\n  <Notice01 />,\n  <Notice02 />,\n  <Notice03 />,\n  <Notice04 />,\n  <Notice05 />,\n];\n","/**\n * 알파 버전에서 표출할 공지사항을 컴포넌트로 만든겁니다.\n * TBD 아무래도 계속 RN 컴포넌트로 만들기는 힘들고 확장성도 좋지 않으니\n *     HTML로 작성할수 있도록 구조를 변경하기. (WebView 활용)\n */\n\nimport { useAssets } from \"expo-asset\";\nimport { Image, ImageSourcePropType, View } from \"react-native\";\n\nexport default function Notice01() {\n  const [assets, error] = useAssets([require(\"./notice01.png\")]);\n\n  return (\n    <View style={{ flex: 1, alignItems: \"center\", justifyContent: \"center\" }}>\n      {assets ? (\n        <Image\n          style={{ flex: 1, resizeMode: \"contain\" }}\n          source={assets[0] as ImageSourcePropType}\n        />\n      ) : null}\n    </View>\n  );\n}\n","import { useAssets } from \"expo-asset\";\nimport { Image, ImageSourcePropType, View } from \"react-native\";\n\nexport default function Notice02() {\n  const [assets, error] = useAssets([require(\"./notice02.png\")]);\n\n  return (\n    <View style={{ flex: 1, alignItems: \"center\", justifyContent: \"center\" }}>\n      {assets ? (\n        <Image\n          style={{ flex: 1, resizeMode: \"contain\" }}\n          source={assets[0] as ImageSourcePropType}\n        />\n      ) : null}\n    </View>\n  );\n}\n","import { useAssets } from \"expo-asset\";\nimport { Image, ImageSourcePropType, View } from \"react-native\";\n\nexport default function Notice03() {\n  const [assets, error] = useAssets([require(\"./notice03.png\")]);\n\n  return (\n    <View style={{ flex: 1, alignItems: \"center\", justifyContent: \"center\" }}>\n      {assets ? (\n        <Image\n          style={{ flex: 1, resizeMode: \"contain\" }}\n          source={assets[0] as ImageSourcePropType}\n        />\n      ) : null}\n    </View>\n  );\n}\n","import { useAssets } from \"expo-asset\";\nimport { Image, ImageSourcePropType, View } from \"react-native\";\n\nexport default function Notice04() {\n  const [assets, error] = useAssets([require(\"./notice04.png\")]);\n\n  return (\n    <View style={{ flex: 1, alignItems: \"center\", justifyContent: \"center\" }}>\n      {assets ? (\n        <Image\n          style={{ flex: 1, resizeMode: \"contain\" }}\n          source={assets[0] as ImageSourcePropType}\n        />\n      ) : null}\n    </View>\n  );\n}\n","import { useAssets } from \"expo-asset\";\nimport { Image, ImageSourcePropType, View } from \"react-native\";\n\nexport default function Notice05() {\n  const [assets, error] = useAssets([require(\"./notice05.png\")]);\n\n  return (\n    <View style={{ flex: 1, alignItems: \"center\", justifyContent: \"center\" }}>\n      {assets ? (\n        <Image\n          style={{ flex: 1, resizeMode: \"contain\" }}\n          source={assets[0] as ImageSourcePropType}\n        />\n      ) : null}\n    </View>\n  );\n}\n","import { StyleSheet } from \"react-native\";\nimport { bColors, bFont, bSpace } from \"../../styles/base\";\n\nconst cardViewHeight = 300;\nconst thumbnailHeight = 240;\nconst infoViewHeight = cardViewHeight - thumbnailHeight;\n\n/** VideoCard 컴포넌트에 적용될 스타일 */\nconst videoCardStyles = StyleSheet.create({\n  // 컴포넌트 전체 레이아웃\n  cardView: {\n    width: \"100%\",\n    height: cardViewHeight,\n  },\n  // 썸네일 영역\n  thumbnailView: {\n    height: thumbnailHeight,\n    backgroundColor: bColors.black,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  videoThumbnailBackground: {\n    position: \"absolute\",\n    width: \"100%\",\n    height: \"100%\",\n  },\n  videoThumbnailImage: {\n    width: \"100%\",\n    height: \"100%\",\n    backgroundColor: bColors.black + bColors.tpPrimary,\n  },\n  videoThumbnailText: {\n    backgroundColor: bColors.black + bColors.tpPrimary,\n    color: bColors.white,\n    fontSize: bFont.small,\n  },\n  videoDate: {\n    position: \"absolute\",\n    bottom: 8,\n    left: 8,\n    paddingHorizontal: bSpace.small,\n  },\n  videoTime: {\n    position: \"absolute\",\n    bottom: 8,\n    right: 8,\n    paddingHorizontal: bSpace.small,\n  },\n  optionButton: {\n    position: \"absolute\",\n    right: 8,\n    top: 8,\n    backgroundColor: bColors.black + bColors.tpPrimary,\n    height: 20,\n    width: 20,\n    borderRadius: 20 / 2,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  optionButtonText: {\n    color: bColors.white,\n    lineHeight: 8,\n  },\n  // 카드 정보 영역\n  cardInfoView: {\n    height: infoViewHeight,\n    backgroundColor: bColors.white,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n  },\n  profilePic: {\n    alignSelf: \"center\",\n    fontSize: 32,\n    margin: bSpace.middle,\n  },\n  infoTitleView: {\n    flex: 1,\n    alignItems: \"flex-start\",\n    justifyContent: \"center\",\n  },\n  infoTitleText: {\n    height: bFont.middle + bFont.small / 2,\n    fontSize: bFont.middle,\n    marginBottom: bSpace.small,\n  },\n  infoSingerText: {\n    fontSize: bFont.small,\n  },\n  reactionView: {\n    flexDirection: \"row\",\n    marginHorizontal: bSpace.middle,\n    marginTop: bSpace.large,\n    marginLeft: bSpace.xlarge,\n    justifyContent: \"flex-end\",\n  },\n  reactionChildView: {\n    marginRight: bSpace.large,\n  },\n  upperCountText: {\n    height: bFont.middle + 4,\n    alignSelf: \"center\",\n    fontSize: bFont.middle + 2,\n    marginBottom: bSpace.small,\n    lineHeight: 16,\n    maxWidth: bSpace.xlarge * 5,\n  },\n  reactionButtonEnabled: {\n    color: bColors.primary,\n  },\n  reactionButtonDisabled: {\n    color: bColors.black,\n  },\n  lowerCountText: {\n    alignSelf: \"center\",\n    fontSize: bFont.small,\n  },\n});\n\nexport default videoCardStyles;\n","import { formatDistanceToNow } from \"date-fns\";\nimport { ko } from \"date-fns/locale\";\n\n/**\n * 큰 수를 축약해 문자열로 표시하는 유틸 함수. ex) 12345 => 12.3k\n * @param count 표시 형식을 변환하려는 수\n * @returns 변환된 문자열\n */\nexport function formatCount(count: number) {\n  if (count < 10000) {\n    return count.toString();\n  } else {\n    const front = Math.floor(count / 1000);\n    const back = Math.floor((count - front * 1000) / 100);\n\n    return front.toString() + \".\" + back.toString() + \"k\";\n  }\n}\n\n/**\n * ms 단위 시간을 받아 분:초(m:ss) 형식으로 반환하는 유틸 함수.\n * @param msLength ms 단위 시간 정수\n * @returns\n */\nexport function formatTimer(msLength: number) {\n  // TBD : 시간(hh)도 대응하기, 근데 서비스 특성 상 그럴 일이나 있겠어요?\n  /** 초 단위로 변경 */\n  const secLength = Math.floor(msLength / 1000);\n  let min, sec;\n  min = Math.floor(secLength / 60);\n  sec = secLength % 60;\n  if (sec < 10) {\n    sec = \"0\" + sec;\n  }\n  return `${min}:${sec}`;\n}\n\nfunction addZeroPadding(str: string, length = 2) {\n  const zeros = new Array(length - str.length).fill(0).join(\"\");\n\n  return zeros + str;\n}\n\n/**\n * Date 객체를 받아 yyyy-mm-dd 형식의 문자열로 변환합니다.\n * @param sourceDate\n */\nexport function formatDate(sourceDate: Date, separator = \"-\") {\n  const year = sourceDate.getFullYear();\n  let month = addZeroPadding((sourceDate.getMonth() + 1).toString());\n  let day = addZeroPadding(sourceDate.getDate().toString());\n\n  return [year, month, day].join(separator);\n}\n\n/**\n * 특정 날짜를 현재 날짜와 비교한 차이를 나타내는 문자열로 변환합니다.\n * @param targetDate\n */\nexport function formatDateByDifference(targetDate: Date): string {\n  return formatDistanceToNow(targetDate, { locale: ko }) + \" 전\";\n}\n","import {\n  Text,\n  View,\n  Image,\n  TouchableOpacity,\n  Pressable,\n  TouchableWithoutFeedback,\n  StyleProp,\n  ViewStyle,\n  ImageSourcePropType,\n} from \"react-native\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { NativeStackNavigationProp } from \"@react-navigation/native-stack\";\n\nimport styles from \"./VideoCard.style\";\nimport {\n  MainStackNavigationProp,\n  MainStackParamList,\n} from \"../../navigators/MainNavigator\";\nimport MenuModal, { MenuModalItem } from \"../modals/MenuModal\";\nimport VideoType from \"../../types/Video\";\nimport {\n  formatCount,\n  formatDateByDifference,\n  formatTimer,\n} from \"../../utils/formatter\";\nimport { getImageDownloadURL } from \"../../api/QueResourceUtils\";\nimport UserType from \"../../types/User\";\nimport ProfilePicture from \"../buttons/ProfilePictureButton\";\nimport { useAuth } from \"../../hooks/useAuth\";\nimport { useNotImplementedWarning } from \"../../hooks/useWarning\";\n\nexport type VideoCardProps = {\n  videoInfo: VideoType;\n  style?: StyleProp<ViewStyle>;\n  testID?: string;\n};\n\n/**\n * 기본 비디오 정보 카드 컴포넌트\n * @param props\n * @returns\n */\nexport default function VideoCard(props: VideoCardProps) {\n  /** 메뉴 모달 표시 여부 toggle */\n  const [menuModalVisible, setMenuModalVisible] = useState<boolean>(false);\n  /** 형식 변환된 시청 수 */\n  const [strViewCount, setStrViewCount] = useState<string>(\n    formatCount(props.videoInfo.viewCount!)\n  );\n  /** 형식 변환된 좋아요 수 */\n  const [strLikeCount, setStrLikeCount] = useState<string>(\n    formatCount(props.videoInfo.likeCount!)\n  );\n  /** 형식 변환된 평가 수 */\n  const [strStarCount, setStrStarCount] = useState<string>(\n    formatCount(props.videoInfo.starCount!)\n  );\n  /** 사용자의 좋아요 여부 */\n  const [videoLiked, setVideoLiked] = useState<boolean>(false);\n  /** 사용자의 평가 여부 */\n  const [videoStarred, setVideoStarred] = useState<boolean>(false);\n\n  // 상위 컴포넌트의 UnitTest를 위한 testID가 주어진 경우\n  let inheritedTestID = props.testID ? props.testID : \"videoCard\";\n\n  /** 내가 올린 영상인지 여부 확인 */\n  const [isMyVideo, setIsMyVideo] = useState<boolean>(false);\n  const { user } = useAuth();\n  useEffect(() => {\n    if (user.userId === (props.videoInfo.uploader as UserType).userId) {\n      setIsMyVideo(true);\n    } else {\n      setIsMyVideo(false);\n    }\n  }, [user.userId, props.videoInfo.uploader]);\n\n  /** 네비게이션 객체 사용 */\n  const navigation = useNavigation<MainStackNavigationProp>();\n\n  /**\n   * 카드 컴포넌트 영역을 눌렀을 때 실행됩니다.\n   * 해당 비디오 카드가 가지고 있는 videoId을 기반으로 해서 VideoScreen으로 Navigation 합니다.\n   */\n  const onPressCard = useCallback(async () => {\n    navigation.navigate(\"Video\", {\n      videoId: props.videoInfo.videoId!,\n    });\n  }, [props.videoInfo.videoId]);\n\n  /**\n   * 카드 컴포넌트의 평가 버튼을 눌렀을 때 실행됩니다.\n   */\n  const navigateToEvalutaion = useCallback(async () => {\n    navigation.navigate(\"Criticism\", { videoId: props.videoInfo.videoId! });\n  }, []);\n\n  /**\n   * 카드 컴포넌트의 좋아요 버튼을 눌렀을 때 실행됩니다.\n   */\n  const likeThisVideo = useCallback(async () => {\n    // TBD 요청 보내기!\n\n    setVideoLiked(!videoLiked);\n  }, [videoLiked]);\n\n  const notImplemented = useNotImplementedWarning();\n\n  return (\n    <TouchableOpacity\n      testID={inheritedTestID}\n      style={(styles.cardView, props.style)}\n      onPress={onPressCard}\n    >\n      <MenuModal\n        visible={menuModalVisible}\n        setModalVisible={setMenuModalVisible}\n      >\n        <MenuModalItem\n          iconName=\"share\"\n          menuText=\"공유\"\n          onMenuPress={() => notImplemented()}\n        />\n        {isMyVideo ? (\n          <MenuModalItem\n            iconName=\"create-outline\"\n            menuText=\"수정\"\n            onMenuPress={() => {\n              setMenuModalVisible(false);\n              navigation.navigate(\"VideoEdit\", { videoData: props.videoInfo });\n            }}\n          />\n        ) : (\n          <MenuModalItem\n            iconName=\"flag\"\n            menuText=\"신고\"\n            onMenuPress={() => notImplemented()}\n          />\n        )}\n      </MenuModal>\n      <CardThumbnailView\n        uri={props.videoInfo.thumbnailUrl!}\n        length={props.videoInfo.length!}\n        uploadedAt={props.videoInfo.uploadedAt!}\n        direction=\"vertical\"\n        onPressMenuButton={() => setMenuModalVisible(true)}\n      />\n      <CardInfoView\n        onPressLike={likeThisVideo}\n        onPressStar={navigateToEvalutaion}\n        liked={videoLiked}\n        starred={videoStarred}\n        title={props.videoInfo.title}\n        uploaderName={props.videoInfo.uploader?.nickname}\n        uploaderId={props.videoInfo.uploader?.userId}\n        viewCount={strViewCount}\n        likeCount={strLikeCount}\n        starCount={strStarCount}\n      ></CardInfoView>\n    </TouchableOpacity>\n  );\n}\n\ntype CardThumbnailProps = {\n  uri: string;\n  length: number;\n  uploadedAt: Date;\n  direction: \"horizontal\" | \"vertical\";\n  onPressMenuButton: () => void;\n};\n\n/**\n * 카드 컴포넌트의 썸네일 영역\n * @param props\n * @returns\n */\nfunction CardThumbnailView(props: CardThumbnailProps) {\n  /** 영상 길이 */\n  const [modifiedVideoLength, setModifiedLength] = useState<string>(\n    props.length ? formatTimer(props.length) : \"0:00\"\n  );\n  /** 영상 업로드 날짜 */\n  const [modifiedVideoDate, setModifiedVideoDate] = useState<string>(\n    props.uploadedAt ? formatDateByDifference(props.uploadedAt) : \"알 수 없음\"\n  );\n  /** 썸네일 주소 TBD : firebase 다운로드 api 사용 메소드 구현 */\n  const [thumbnail, setThumbnail] = useState<ImageSourcePropType>({});\n  /** 썸네일 이미지의 비율에 따라 resize 모드 결정 */\n  const [resizeMode, setResizeMode] =\n    props.direction == \"horizontal\"\n      ? useState<\"stretch\" | \"contain\">(\"stretch\")\n      : useState<\"stretch\" | \"contain\">(\"contain\");\n  /** TBD: 썸네일에 로딩 표시 하기 */\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n\n  useEffect(() => {\n    /**\n     * 카드의 썸네일로 사용할 이미지를 서버로부터 다운로드받는다.\n     */\n    async function downloadImage() {\n      const downloadURL = await getImageDownloadURL(props.uri);\n      setThumbnail({ uri: downloadURL });\n    }\n\n    setIsLoading(true);\n    downloadImage();\n\n    // clean-up\n    return () => setIsLoading(false);\n  }, [props.uri]);\n\n  return (\n    <View style={styles.thumbnailView} testID=\"cardThumbnailView\">\n      <Image\n        testID=\"cardThumbnailBackground\"\n        style={styles.videoThumbnailBackground}\n        resizeMode={\"stretch\"}\n        source={thumbnail}\n      />\n      <Image\n        testID=\"cardThumbnailImage\"\n        style={styles.videoThumbnailImage}\n        resizeMode={resizeMode}\n        source={thumbnail}\n      />\n      <Text\n        testID=\"cardThumbnailDate\"\n        style={[styles.videoThumbnailText, styles.videoDate]}\n      >\n        {modifiedVideoDate}\n      </Text>\n      <Text\n        testID=\"cardThumbnailTime\"\n        style={[styles.videoThumbnailText, styles.videoTime]}\n      >\n        {modifiedVideoLength}\n      </Text>\n      <TouchableOpacity\n        testID=\"cardThumbnailButton\"\n        onPress={props.onPressMenuButton}\n        style={styles.optionButton}\n      >\n        <Text style={styles.optionButtonText}>...</Text>\n      </TouchableOpacity>\n    </View>\n  );\n}\n\ntype VideoCardInfoProps = {\n  onPressStar: () => void;\n  onPressLike: () => void;\n  title?: string;\n  uploaderName?: string;\n  uploaderId?: string;\n  liked?: boolean;\n  starred?: boolean;\n  likeCount?: string;\n  starCount?: string;\n  viewCount?: string;\n};\n\n/**\n * 카드 컴포넌트의 정보 영역\n * @returns\n */\nfunction CardInfoView(props: VideoCardInfoProps) {\n  // 좋아요 / 평가 여부에 따라 버튼 표시 변경\n  let likeButton;\n  let starButton;\n  if (props.liked) {\n    likeButton = (\n      <Ionicons\n        testID=\"cardInfoLikedButton\"\n        name=\"heart\"\n        style={styles.upperCountText}\n        color={styles.reactionButtonEnabled.color}\n      ></Ionicons>\n    );\n  } else {\n    likeButton = (\n      <Ionicons\n        testID=\"cardInfoLikeButton\"\n        name=\"heart-outline\"\n        style={styles.upperCountText}\n        color={styles.reactionButtonDisabled.color}\n      ></Ionicons>\n    );\n  }\n\n  if (props.starred) {\n    starButton = (\n      <Ionicons\n        testID=\"cardInfoStarredButton\"\n        name=\"star\"\n        style={styles.upperCountText}\n        color={styles.reactionButtonEnabled.color}\n      ></Ionicons>\n    );\n  } else {\n    starButton = (\n      <Ionicons\n        testID=\"cardInfoStarButton\"\n        name=\"star-outline\"\n        style={styles.upperCountText}\n        color={styles.reactionButtonDisabled.color}\n      ></Ionicons>\n    );\n  }\n\n  return (\n    <View style={styles.cardInfoView}>\n      <ProfilePicture\n        testID=\"cardInfoProfilePic\"\n        style={styles.profilePic}\n        userId={props.uploaderId!}\n      />\n      <View style={styles.infoTitleView}>\n        <Text\n          testID=\"cardInfoTitleText\"\n          style={styles.infoTitleText}\n          numberOfLines={1}\n        >\n          {props.title}\n        </Text>\n        <Text\n          testID=\"cardInfoSingerText\"\n          style={styles.infoSingerText}\n          numberOfLines={1}\n        >\n          {props.uploaderName}\n        </Text>\n      </View>\n      {/* 좋아요, 평가점수, 시청 수 */}\n      {/* 이 영역은 터치 해도 Video로 넘어가지 않도록 설정함 */}\n      <TouchableWithoutFeedback>\n        <View style={styles.reactionView}>\n          <View style={styles.reactionChildView}>\n            {/* <TouchableOpacity onPress={props.onPressLike}> */}\n            {likeButton}\n            <Text\n              testID=\"cardInfoLikeCount\"\n              style={styles.lowerCountText}\n              numberOfLines={1}\n            >\n              {props.likeCount}\n            </Text>\n            {/* </TouchableOpacity> */}\n          </View>\n          <View style={styles.reactionChildView}>\n            {/* <TouchableOpacity onPress={props.onPressStar}> */}\n            {starButton}\n            <Text\n              testID=\"cardInfoStarCount\"\n              style={styles.lowerCountText}\n              numberOfLines={1}\n            >\n              {props.starCount}\n            </Text>\n            {/* </TouchableOpacity> */}\n          </View>\n          <View style={styles.reactionChildView}>\n            <Text style={styles.upperCountText} numberOfLines={1}>\n              {props.viewCount}\n            </Text>\n            <Text testID=\"cardInfoViewCount\" style={styles.lowerCountText}>\n              Views\n            </Text>\n          </View>\n        </View>\n      </TouchableWithoutFeedback>\n    </View>\n  );\n}\n","import { StyleSheet } from \"react-native\";\nimport { bColors, bDimensions, bFont, bSpace } from \"../../styles/base\";\n\nconst videoCardListStyles = StyleSheet.create({\n  cardListConatiner: {\n    backgroundColor: bColors.white,\n  },\n  indicatorContainer: {\n    margin: bSpace.large,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  noMoreDataImage: {\n    opacity: 0.25,\n    height: 36,\n  },\n  easterMessage: {\n    opacity: 0.25,\n    color: bColors.black,\n    fontSize: bFont.small,\n    marginTop: bSpace.middle,\n  },\n});\n\nexport default videoCardListStyles;\n","import {\n  ActivityIndicator,\n  FlatList,\n  Image,\n  ImageSourcePropType,\n  Text,\n  View,\n} from \"react-native\";\nimport VideoCard from \"../cards/VideoCard\";\n\nimport { useAssets } from \"expo-asset\";\nimport styles from \"./VideoCardList.style\";\nimport { useCallback, useState } from \"react\";\nimport VideoType from \"../../types/Video\";\nimport { bColors } from \"../../styles/base\";\n\ntype VideoCardListProps = {\n  videoData: VideoType[];\n  noMoreData?: boolean;\n  hideNoMoreDataIndicator?: boolean;\n  onScrollEnded: () => Promise<void>;\n  onRefresh: () => Promise<void>;\n};\n\n/**\n * 비디오 카드 컴포넌트를 담는 스크롤 가능한 리스트 컴포넌트\n * 타임라인에 사용\n * @param props\n * @returns\n */\nexport default function VideoCardList(props: VideoCardListProps) {\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n\n  /**\n   * 카드 리스트 아이템 렌더링 함수\n   * @param param0\n   * @returns\n   */\n  const handleRenderItem = useCallback(\n    ({ item, index }: { item: VideoType | Indicator; index: number }) => {\n      if ((item as VideoType).videoId) {\n        // 정상적인 비디오 카드 데이터 처리\n        return (\n          <VideoCard\n            testID={\"videoCardItem\" + index}\n            videoInfo={item as VideoType}\n          />\n        );\n      } else {\n        // 인디케이터 컴포넌트 처리\n        if ((item as Indicator).indicatorType == \"isLoading\")\n          // 로딩중 표시\n          return isLoading ? <LoadingIndicator /> : null;\n        else if ((item as Indicator).indicatorType == \"noMoreData\")\n          // 더 이상 데이터가 없는 경우 데이터 없음 표시\n          return props.noMoreData && !props.hideNoMoreDataIndicator ? (\n            <NoMoreDataIndicator />\n          ) : null;\n      }\n      return null;\n    },\n    [props.noMoreData, isLoading]\n  );\n\n  /**\n   * 스크롤이 끝까지 내려갔을 때 처리 함수\n   */\n  const handleEndReached = useCallback(async () => {\n    if (!isLoading && !props.noMoreData) {\n      setIsLoading(true);\n\n      await props.onScrollEnded();\n\n      setIsLoading(false);\n    }\n  }, [isLoading, props.noMoreData, props.onScrollEnded]);\n\n  /**\n   * 리스트 새로고침 시 처리 함수\n   */\n  const handleRefresh = useCallback(async () => {\n    if (!isLoading) {\n      setIsLoading(true);\n\n      await props.onRefresh();\n\n      setIsLoading(false);\n    }\n  }, [isLoading, props.onRefresh]);\n\n  return (\n    <FlatList\n      showsHorizontalScrollIndicator={false}\n      testID=\"videoCardList\"\n      data={[\n        ...props.videoData,\n        { indicatorType: \"isLoading\" },\n        { indicatorType: \"noMoreData\" },\n      ]}\n      contentContainerStyle={styles.cardListConatiner}\n      renderItem={handleRenderItem}\n      onEndReached={handleEndReached}\n      onEndReachedThreshold={0.2}\n      onRefresh={props.onRefresh}\n      refreshing={isLoading}\n      keyExtractor={(listItem) => {\n        if ((listItem as VideoType).videoId)\n          return (listItem as VideoType).videoId!;\n        else return (listItem as Indicator).indicatorType;\n      }}\n    />\n  );\n}\n\n/**\n * 카드 리스트에 적용할 수 있는 메타 정보를 나타내는 인디케이터 타입\n */\ntype Indicator = {\n  indicatorType: \"noMoreData\" | \"isLoading\";\n};\n\n/**\n * 더 불러올 데이터가 없는 경우 출력할 작은 아이콘\n * @returns\n */\nfunction NoMoreDataIndicator() {\n  const [assets, error] = useAssets([\n    require(\"../../assets/custom/haeder-logo.png\"),\n  ]);\n  return (\n    <View style={styles.indicatorContainer}>\n      {assets ? (\n        <Image\n          style={styles.noMoreDataImage}\n          resizeMode=\"contain\"\n          source={assets[0] as ImageSourcePropType}\n        />\n      ) : null}\n      <Text\n        style={styles.easterMessage}\n      >{`QUE는 아직 자라나는 중이에요 ;)`}</Text>\n    </View>\n  );\n}\n\n/**\n * 로딩 중임을 나타내는 스피너\n * @returns\n */\nfunction LoadingIndicator() {\n  return (\n    <View style={styles.indicatorContainer}>\n      <ActivityIndicator color={bColors.primary} size=\"large\" />\n    </View>\n  );\n}\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { View } from \"react-native\";\nimport Modal from \"react-native-modal\";\nimport styles from \"./Modal.style\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\n\n/**\n * 서비스 공지사항을 사용자에게 표시하는데 사용하는 모달 컴포넌트입니다.\n * @param props\n */\nexport default function NoticeModal(props: NoticeModalProps) {\n  /** 메세지 페이지 번호 */\n  const [pageNum, setPageNum] = useState<number>(0);\n  /** 첫 페이지 여부 */\n  const [isFirst, setIsFirst] = useState<boolean>(false);\n  /** 마지막 페이지 여부 */\n  const [isLast, setIsLast] = useState<boolean>(false);\n\n  useEffect(() => {\n    setIsFirst(pageNum === 0);\n    setIsLast(pageNum >= props.pages.length - 1);\n  }, [pageNum]);\n\n  const onCloseRequested = useCallback(\n    () => props.setModalVisible(!props.visible),\n    [props.visible]\n  );\n\n  /** 메세지 페이지 앞으로 */\n  const onMovePrev = useCallback(() => {\n    if (!isFirst) setPageNum(pageNum - 1);\n  }, [pageNum, isFirst]);\n  /** 메세지 페이지 뒤로 */\n  const onMoveNext = useCallback(() => {\n    if (!isLast) setPageNum(pageNum + 1);\n  }, [pageNum, isLast]);\n\n  return (\n    <Modal\n      testID=\"menuModal\"\n      isVisible={props.visible}\n      animationIn={\"zoomIn\"}\n      animationOut={\"zoomOut\"}\n    >\n      <View style={styles.noticeModalView}>\n        <View style={styles.noticeModalHeader}>\n          <MaterialIcons\n            selectable={false}\n            style={styles.noticeModalIcon}\n            onPress={onCloseRequested}\n            name=\"close\"\n          />\n        </View>\n        <View style={styles.noticeModalBody}>{props.pages[pageNum]}</View>\n        <View style={styles.noticeModalBottom}>\n          <MaterialIcons\n            selectable={false}\n            style={[\n              styles.noticeModalIcon,\n              isFirst\n                ? styles.noticeModalButtonDisabled\n                : styles.noticeModalButtonEnabled,\n            ]}\n            onPress={isFirst ? undefined : onMovePrev}\n            name=\"navigate-before\"\n          />\n          <MaterialIcons\n            selectable={false}\n            style={[\n              styles.noticeModalIcon,\n              isLast\n                ? styles.noticeModalButtonDisabled\n                : styles.noticeModalButtonEnabled,\n            ]}\n            onPress={isLast ? undefined : onMoveNext}\n            name=\"navigate-next\"\n          />\n        </View>\n      </View>\n    </Modal>\n  );\n}\n\ntype NoticeModalProps = {\n  visible: boolean;\n  setModalVisible: (visible: boolean) => void;\n  pages: JSX.Element[];\n};\n","import { useCallback, useState } from \"react\";\nimport { View } from \"react-native\";\nimport QueResourceClient from \"../../../api/QueResourceUtils\";\nimport notices from \"../../../assets/notices/notices\";\nimport VideoCardList from \"../../../components/lists/VideoCardList\";\nimport NoticeModal from \"../../../components/modals/NoticeModal\";\nimport { useAuth } from \"../../../hooks/useAuth\";\nimport { useLoadingIndicator } from \"../../../hooks/useLoadingIndicator\";\nimport { useNotice } from \"../../../hooks/useNotice\";\nimport screens from \"../../../styles/screens\";\nimport VideoType from \"../../../types/Video\";\nimport { useFocusEffect } from \"@react-navigation/native\";\n\n/**\n * 영상 타임라인 스크린\n * API 콜은 여기서 합시다.\n */\nfunction TimelineScreen() {\n  /** 서버로부터 가저온 비디오 데이터 목록 */\n  const [videoDataList, setVideoDataList] = useState<VideoType[]>([]);\n  /** 가저올 비디오 데이터가 더 있는지 여부 */\n  const [noMoreData, setNoMoreData] = useState<boolean>(false);\n\n  /** 서비스 공지사항 존재 시 안내 메세지 표시 */\n  const [hasNotice, setHasNotice] = useState<boolean>(false);\n\n  /** 최초 영상 목록 로드 여부 */\n  const [isInitialized, setIsInitialized] = useState<boolean>(false);\n\n  const { user } = useAuth();\n  const { noticeList, addUser } = useNotice(\"ALPHA01\"); // !! 공지 수정 시 아이디 변경\n\n  const loading = useLoadingIndicator();\n\n  /** 공지 표출 여부 판단 */\n  useFocusEffect(\n    useCallback(() => {\n      if (user.userId && !noticeList[user.userId]) {\n        setHasNotice(true);\n        addUser(user.userId);\n      }\n    }, [user.userId, noticeList])\n  );\n\n  /** 영상 목록을 처음부터 불러옵니다. 화면 최초 렌더링 시, 리스트 새로고침 시 호출됩니다. */\n  const getInitialData = useCallback(async () => {\n    setNoMoreData(false);\n    const initialDataLength = 5;\n    const initialData = await QueResourceClient.getVideoCardData(\n      initialDataLength,\n      0\n    );\n    setVideoDataList(initialData);\n\n    if (initialData.length < initialDataLength) {\n      setNoMoreData(true);\n    }\n  }, []);\n\n  /** 초기 데이터 설정 */\n  useFocusEffect(\n    useCallback(() => {\n      if (!isInitialized) {\n        loading.showLoading();\n        getInitialData().finally(() => {\n          setIsInitialized(true);\n          loading.hideLoading();\n        });\n      }\n    }, [isInitialized])\n  );\n\n  /** 스크롤 시 비디오 더 가져오기 */\n  const getMoreVideoData = useCallback(async () => {\n    const cardPerPage = 3;\n    const newDataset = await QueResourceClient.getVideoCardData(cardPerPage, 1);\n    setVideoDataList((prev) => {\n      return [...prev, ...newDataset];\n    });\n\n    if (newDataset.length < cardPerPage) {\n      setNoMoreData(true);\n    }\n  }, [videoDataList]);\n\n  return (\n    <View style={screens.defaultScreenLayout}>\n      <NoticeModal\n        visible={hasNotice}\n        setModalVisible={setHasNotice}\n        pages={notices}\n      />\n      <VideoCardList\n        videoData={videoDataList}\n        onScrollEnded={getMoreVideoData}\n        noMoreData={noMoreData}\n        onRefresh={getInitialData}\n      />\n    </View>\n  );\n}\n\nexport default TimelineScreen;\n","import { useCallback, useEffect, useMemo } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { selectIsSigned, selectCurrentUser } from \"../reducers/authReducer\";\nimport {\n  addViewedUser,\n  initializeNoticeList,\n  selectNoticeList,\n} from \"../reducers/noticeReducer\";\nimport { useAppDispatch } from \"./useAppDispatch\";\n\n/**\n * 공지를 확인한 사용자 목록을 가져옵니다.\n * @returns\n */\nexport const useNotice = (noticeId: string) => {\n  const dispatch = useAppDispatch();\n  const noticeList = useSelector(selectNoticeList);\n\n  useEffect(() => {\n    dispatch(initializeNoticeList({ noticeId }));\n  }, [noticeId]); // TBD noticeId를 Dependency list에 넣는것이 유의미한지 조사\n\n  return {\n    noticeList: useMemo(() => noticeList[noticeId], [noticeList]),\n    addUser: useCallback((userId: string) => {\n      dispatch(addViewedUser({ noticeId, userId }));\n    }, []),\n  };\n};\n","import { createBottomTabNavigator } from \"@react-navigation/bottom-tabs\";\nimport { View } from \"react-native\";\nimport DummyComponent from \"../../../components/common/DummyComponent\";\nimport HomeNavBar from \"../../../components/navbars/HomeNavbar\";\nimport { HomeTabParamList } from \"../../../navigators/HomeNavigator\";\nimport PreferenceScreen from \"./PreferenceScreen/PreferenceScreen\";\nimport TimelineScreen from \"./TimelineScreen\";\n\n/** 홈 네비게이터 객체 */\nconst HomeTab = createBottomTabNavigator<HomeTabParamList>();\n\n/**\n * 어플리케이션 홈 스크린\n */\nfunction HomeScreen() {\n  return (\n    <View style={{ flex: 1 }}>\n      <HomeTab.Navigator\n        tabBar={(props) => <HomeNavBar {...props} />}\n        screenOptions={{ headerShown: false }}\n      >\n        <HomeTab.Screen\n          name=\"Timeline\"\n          component={TimelineScreen}\n          options={{ title: \"영상\" }}\n        />\n        <HomeTab.Screen name=\"Upload\" component={DummyComponent} />\n        <HomeTab.Screen\n          name=\"Preference\"\n          component={PreferenceScreen}\n          options={{ title: \"설정\" }}\n        />\n      </HomeTab.Navigator>\n    </View>\n  );\n}\nexport default HomeScreen;\n","import { useAssets } from \"expo-asset\";\nimport {\n  Image,\n  ImageSourcePropType,\n  SafeAreaView,\n  Text,\n  View,\n} from \"react-native\";\nimport { commonHeaderStyle } from \"./header.style\";\nimport { NativeStackHeaderProps } from \"@react-navigation/native-stack\";\nimport { HeaderBackButton } from \"@react-navigation/elements\";\nimport RoundedButton, { RoundedButtonProps } from \"../buttons/RoundedButton\";\n\nconst styles = commonHeaderStyle;\n\ntype CommonHeaderProps = NativeStackHeaderProps &\n  RoundedButtonProps & {\n    hideBackButton?: boolean;\n    hideButton?: boolean;\n    replaceTitleWithLogo?: boolean;\n  };\n\n/**\n * 홈 스크린 적용 헤더\n */\nfunction CommonHeader(props: CommonHeaderProps) {\n  const [assets, error] = useAssets([\n    require(\"../../assets/custom/logo-colored.png\"),\n  ]);\n\n  return (\n    <SafeAreaView style={styles.default} testID=\"commonHeader\">\n      <View style={styles.backButtonContainer}>\n        {/* TBD 혹시라도 뒤로 갈 수 없는 경우(canGoBack() 이 false인 경우 메인 화면으로 이동하기) */}\n        {props.hideBackButton ? null : (\n          <HeaderBackButton onPress={() => props.navigation.goBack()} />\n        )}\n      </View>\n      <View style={styles.titleContainer}>\n        {props.replaceTitleWithLogo && assets ? (\n          <Image\n            style={styles.titleLogo}\n            source={assets[0] as ImageSourcePropType}\n          />\n        ) : (\n          <Text style={styles.titleText}>{props.options.title}</Text>\n        )}\n      </View>\n      <View style={styles.roundedButtonContainer}>\n        {props.hideButton ? null : (\n          <RoundedButton\n            style={styles.roundedButton}\n            buttonType={props.buttonType}\n            onPress={props.onPress}\n          >\n            확인\n          </RoundedButton>\n        )}\n      </View>\n    </SafeAreaView>\n  );\n}\n\nexport default CommonHeader;\n","import { StyleSheet } from \"react-native\";\nimport { bColors, bFont, bSpace } from \"../../../styles/base\";\n\n/** 비디오 업로드 화면 네비게이션 내부 스타일 모음 */\nexport const uploadScreenStyle = StyleSheet.create({\n  // SelectTypeScreen\n  largeButtonsContainer: {\n    flex: 1,\n    width: \"100%\",\n    paddingHorizontal: bSpace.xlarge * 2,\n    paddingTop: bSpace.xlarge * 2,\n    paddingBottom: bSpace.xlarge * 6,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  warningText: {\n    textAlign: \"center\",\n    fontSize: bFont.middle,\n    color: bColors.primary,\n  },\n  largeButton: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    margin: bSpace.large,\n  },\n  largeButtonDisabled: {\n    opacity: 0.3,\n  },\n  largeButtonIcon: {\n    fontSize: bFont.xlarge * 10,\n  },\n  largeButtonText: {\n    fontSize: bFont.xlarge,\n  },\n  seperation: {\n    width: \"100%\",\n    height: 1,\n    backgroundColor: bColors.greySecondary,\n    marginTop: bSpace.xlarge,\n  },\n  // InputDataScreen\n  videoContainer: {\n    backgroundColor: bColors.black,\n    marginBottom: bSpace.xlarge,\n    // TBD 현재 기기 화면 너비 구해서 9:16 비율 맞추기, 화면 너비는 base에 저장하기\n    height: bSpace.xlarge * 15,\n  },\n  dataInputContainer: {\n    paddingTop: bSpace.xlarge,\n    paddingHorizontal: bSpace.xlarge,\n  },\n  dataInputLabel: {\n    marginBottom: bSpace.small,\n  },\n  dataInputField: {\n    marginBottom: bSpace.xlarge,\n    fontSize: bFont.xlarge,\n  },\n});\n","import { createContext, Dispatch, SetStateAction } from \"react\";\nimport SongType from \"../../../types/Song\";\nimport PlaceType from \"../../../types/Place\";\n\ntype UploadContextType = {\n  /** 상단 바 버튼 활성화 여부 */\n  buttonEnabled: boolean;\n  setButtonEnabled: Dispatch<SetStateAction<boolean>>;\n  /** 상단 바 버튼 표시 여부 */\n  buttonHidden: boolean;\n  setButtonHidden: Dispatch<SetStateAction<boolean>>;\n  /** 사용자가 업로드 하려는 영상의 메모리 상 경로 */\n  videoPath: string;\n  setVideoPath: Dispatch<SetStateAction<string>>;\n  /** 영상애서 추출한 썸네일의 메모리 상 경로 */\n  thumbnailPath: string;\n  setThumbnailPath: Dispatch<SetStateAction<string>>;\n  /** 영상 제목 */\n  videoTitle: string;\n  setVideoTitle: Dispatch<SetStateAction<string>>;\n  /** 영상 설명 */\n  videoDescription: string;\n  setVideoDescription: Dispatch<SetStateAction<string>>;\n  /** 영상 길이 */\n  videoLength: number;\n  setVideoLength: Dispatch<SetStateAction<number>>;\n  /** 노래 정보 */\n  songInfo: SongType;\n  setSongInfo: Dispatch<SetStateAction<SongType>>;\n  /** 장소 정보 */\n  placeInfo: PlaceType;\n  setPlaceInfo: Dispatch<SetStateAction<PlaceType>>;\n};\n\nconst defaultUploadContext: UploadContextType = {\n  buttonEnabled: false,\n  setButtonEnabled: function (value: SetStateAction<boolean>): void {\n    throw new Error(\"Function not implemented.\");\n  },\n  buttonHidden: false,\n  setButtonHidden: function (value: SetStateAction<boolean>): void {\n    throw new Error(\"Function not implemented.\");\n  },\n  videoTitle: \"\",\n  setVideoTitle: function (value: SetStateAction<string>): void {\n    throw new Error(\"Function not implemented.\");\n  },\n  videoDescription: \"\",\n  setVideoDescription: function (value: SetStateAction<string>): void {\n    throw new Error(\"Function not implemented.\");\n  },\n  songInfo: {},\n  setSongInfo: function (value: SetStateAction<SongType>): void {\n    throw new Error(\"Function not implemented.\");\n  },\n  placeInfo: {},\n  setPlaceInfo: function (value: SetStateAction<PlaceType>): void {\n    throw new Error(\"Function not implemented.\");\n  },\n  videoPath: \"\",\n  setVideoPath: function (value: SetStateAction<string>): void {\n    throw new Error(\"Function not implemented.\");\n  },\n  thumbnailPath: \"\",\n  setThumbnailPath: function (value: SetStateAction<string>): void {\n    throw new Error(\"Function not implemented.\");\n  },\n  videoLength: 0,\n  setVideoLength: function (value: SetStateAction<number>): void {\n    throw new Error(\"Function not implemented.\");\n  },\n};\n\n/**\n * 비디오 업로드 흐름에 한정되어 사용할 Context\n */\nexport const UploadContext =\n  createContext<UploadContextType>(defaultUploadContext);\n","import { StyleSheet } from \"react-native\";\nimport { bColors, bFont } from \"../../styles/base\";\n\nconst sharedStyle = {\n  minHeight: bFont.xlarge,\n  maxHeight: bFont.xlarge * 10,\n};\n\nconst commonTextInputStyles = StyleSheet.create({\n  default: {\n    borderBottomWidth: 2,\n    fontSize: bFont.xlarge,\n    color: bColors.black,\n    minHeight: sharedStyle.minHeight,\n    maxHeight: sharedStyle.maxHeight,\n  },\n  valid: {\n    borderColor: bColors.black,\n  },\n  invalid: {\n    borderColor: bColors.red,\n  },\n  disabled: {\n    borderColor: bColors.greyTetiary,\n    color: bColors.greyPrimary,\n  },\n});\n\nexport const multiLineStyles = (\n  contentHeight: string | number,\n  maxHeight?: string | number,\n  minHeight?: string | number\n) => {\n  minHeight = minHeight ? minHeight : sharedStyle.minHeight;\n  maxHeight = maxHeight ? maxHeight : sharedStyle.maxHeight;\n\n  contentHeight = contentHeight < maxHeight ? contentHeight : maxHeight;\n\n  if (typeof minHeight == \"number\" && typeof contentHeight == \"number\")\n    return StyleSheet.create({\n      calculated: { height: Math.max(minHeight, contentHeight) },\n    });\n  else {\n    return StyleSheet.create({\n      calculated: { height: contentHeight },\n    });\n  }\n};\n\nexport default commonTextInputStyles;\n","import { useCallback, useEffect, useRef, useState } from \"react\";\nimport { TextInput, TextInputProps, TextStyle } from \"react-native\";\nimport commonTextInputStyles, {\n  multiLineStyles,\n} from \"./CommonTextInput.style\";\n\nconst styles = commonTextInputStyles;\n\ninterface CommonTextInput extends TextInputProps {\n  disabled?: boolean;\n  invalid?: boolean;\n}\n\n/** 기본 텍스트 입력 폼 */\nfunction CommonTextInput(props: CommonTextInput) {\n  const [focused, setFocused] = useState(false);\n\n  const [contentHeight, setContentHeight] = useState<number>(0);\n\n  /** focus 처리 */\n  // useEffect(() => {}, [focused]);\n\n  return (\n    <TextInput\n      {...props}\n      scrollEnabled={false}\n      onFocus={(e) => {\n        setFocused(true);\n        if (props.onFocus) props.onFocus(e);\n      }}\n      onBlur={(e) => {\n        setFocused(false);\n        if (props.onBlur) props.onBlur(e);\n      }}\n      onContentSizeChange={(event) => {\n        setContentHeight(event.nativeEvent.contentSize.height);\n      }}\n      style={[\n        styles.default,\n        props.invalid ? styles.invalid : styles.valid,\n        props.disabled ? styles.disabled : {},\n        props.style,\n        props.multiline\n          ? multiLineStyles(\n              contentHeight,\n              (props.style as TextStyle).maxHeight,\n              (props.style as TextStyle).minHeight\n            ).calculated\n          : {},\n      ]}\n    >\n      {props.children}\n    </TextInput>\n  );\n}\n\n/** 기본 property */\nconst defaultProps: CommonTextInput = {\n  invalid: false,\n};\n\nCommonTextInput.defaultProps = defaultProps;\n\nexport default CommonTextInput;\n","import { Platform, StyleSheet, ViewStyle } from \"react-native\";\nimport { bColors, bDimensions, bFont, bSpace } from \"../../styles/base\";\n\nconst videoHeartIconSIze = bFont.xlarge;\n\nconst videoPlayerStyles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  videoCoreContainer: {\n    flex: 1,\n  },\n  videoCore: {\n    flex: 1,\n    justifyContent: \"center\",\n  },\n  videoControllerView: {\n    position: \"absolute\",\n    height: \"100%\",\n    width: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n  },\n  videoTransparentPressableArea: {\n    position: \"absolute\",\n    height: \"100%\",\n    width: \"100%\",\n    zIndex: 0,\n    elevation: 0,\n  },\n  videoDarkOverlay: {\n    position: \"absolute\",\n    height: \"100%\",\n    width: \"100%\",\n    backgroundColor: bColors.black + bColors.tpTetiary,\n    zIndex: 0,\n    elevation: 0,\n  },\n  videoUpperControllerContainer: {\n    position: \"absolute\",\n    top: 0,\n    width: \"100%\",\n    // TBD 그라데이션 오버레이\n  },\n  videoInfoContainer: {\n    padding: bSpace.xlarge,\n  },\n  videoInfoRow: {\n    flex: 1,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    marginBottom: bSpace.middle,\n  },\n  videoInfoColor: {\n    color: bColors.white + bColors.tpPrimary,\n  },\n  videoInfoText: {\n    fontSize: bFont.middle,\n  },\n  videoTitleText: {\n    fontSize: bFont.xlarge + bFont.middle,\n    maxWidth: bFont.xlarge * 8,\n  },\n  videoUploaderText: {\n    fontSize: bFont.large,\n    textAlignVertical: \"center\",\n  },\n  videoDescriptionContainer: {\n    height: bFont.middle * 8,\n  },\n  videoDescriptionText: {\n    fontSize: bFont.middle,\n  },\n  videoReactionContainer: {\n    flex: 1,\n    paddingTop: bSpace.middle,\n  },\n  videoReactionRow: {\n    flexDirection: \"row\",\n    justifyContent: \"flex-end\",\n    alignItems: \"center\",\n  },\n  videoReactionText: {\n    fontSize: bFont.middle,\n    minWidth: bFont.middle * 2,\n    textAlign: \"right\",\n  },\n  videoReactionItem: {\n    marginLeft: bSpace.middle,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  videoMiddleControllerContainer: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  videoBufferIndicator: {\n    fontSize: bFont.xlarge * 5,\n    color: bColors.white + bColors.tpPrimary,\n  },\n  videoBigButton: {\n    paddingTop: bFont.large,\n    height: bFont.xlarge * 6,\n    lineHeight: bFont.xlarge * 6, // 이모티콘이 중간에 오도록 만듭니다.\n  },\n  videoMiddleButtonContainer: {\n    flexDirection: \"row\",\n    paddingTop: bSpace.large * 5,\n  },\n  videoMiddleDummyArea: {\n    height: bSpace.xlarge * 8,\n  },\n  videoMiddleButtonSpace: {\n    width: bSpace.xlarge * 6,\n  },\n  videoMiddleButton: {\n    fontSize: bFont.large * 4,\n  },\n  videoMiddleButtonText: {\n    color: bColors.white + bColors.tpPrimary,\n    textAlign: \"center\",\n    fontSize: bFont.large,\n  },\n  videoBottomControllerContainer: {\n    flexDirection: \"row\",\n    width: \"100%\",\n    paddingBottom: bSpace.middle,\n    paddingHorizontal: bSpace.xlarge,\n    alignItems: \"flex-end\",\n    overflow: \"visible\",\n  },\n  videoSmallButton: {\n    height: bFont.xlarge,\n    lineHeight: bFont.xlarge, // 이모티콘이 중간에 오도록 만듭니다.\n  },\n  videoSliderContainer: {\n    flex: 1,\n    alignContent: \"center\",\n    justifyContent: \"flex-end\",\n    marginHorizontal: bSpace.middle,\n    overflow: \"visible\",\n  },\n  videoSlider: {\n    overflow: \"visible\",\n  },\n  videoHeartArea: {\n    height: bFont.xlarge * 1.5,\n    overflow: \"visible\",\n    width: \"100%\",\n  },\n  videoHeartIndicatorContainer: {\n    position: \"absolute\",\n    bottom: Platform.OS === \"web\" ? 0 : bSpace.small,\n    width: videoHeartIconSIze * 2,\n    height: videoHeartIconSIze * 2,\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    overflow: \"visible\",\n    zIndex: 100,\n    elevation: Platform.OS === \"android\" ? 50 : 0,\n  },\n  videoHeartIndicatorText: {\n    color: bColors.white + bColors.tpPrimary,\n    fontSize: bFont.small,\n    textAlign: \"center\",\n    justifyContent: \"flex-end\",\n    alignItems: \"flex-end\",\n    width: bFont.small * 4,\n    // height: bFont.small * 2,\n  },\n  videoHeartIndicatorIcon: {\n    color: bColors.red + bColors.tpPrimary,\n    fontSize: bFont.large,\n  },\n  videoHeartIndicatorEmpty: {\n    height: bSpace.large * 2,\n  },\n});\n\nexport default videoPlayerStyles;\n\n/**\n * 좋아요 위치, 영상 길이, 슬라이더 컴포넌트의 길이를 통해\n * 하트 모양 아이콘의 위치를 결정하는 함수\n */\nexport const heartPositionBuilder = (\n  likedPosition: number,\n  videoLength: number,\n  sliderWidth: number\n) => {\n  // 웹과 모바일 슬라이더 크기가 약간 다릅니다.\n  /** 하트 컴포넌트의 위치 계산 */\n  const heartPosition =\n    (Platform.OS === \"web\"\n      ? (likedPosition * (sliderWidth - videoHeartIconSIze)) / videoLength\n      : videoHeartIconSIze / 2.5 +\n        (likedPosition * (sliderWidth - videoHeartIconSIze * 2)) /\n          videoLength) -\n    videoHeartIconSIze / 2;\n\n  return StyleSheet.create({\n    style: {\n      left: heartPosition,\n    },\n  }).style;\n};\n\nexport const sliderStyle = StyleSheet.create({\n  default: {\n    color: bColors.secondary,\n    tintColor: bColors.primary,\n  },\n});\n\nexport const iconStyles = {\n  color: bColors.white + bColors.tpPrimary,\n  heartColor: bColors.red + bColors.tpPrimary,\n  sizeLarge: bFont.large,\n  sizeXlarge: bFont.xlarge,\n  sizeXXlarge: bFont.xlarge * 6,\n};\n","import React, { useCallback } from \"react\";\n\n/**\n * 일정 시간이 지나면 자동으로 값이 토글되는 타이머를 사용합니다.\n * @returns 호출 시 진행 중이던 타이머를 지웁니다.\n */\nexport const useToggleTimer = (\n  /** 토글할 state setter */\n  booleanStateSetter: (value: React.SetStateAction<boolean>) => void,\n  /** 유지되길 원하는 상태 (ex. true로 할당할 경우 일정 시간이 지났을 때 true로 해당 값을 바꿈) */\n  toState: boolean,\n  /** 타임아웃 시간, ms단위 */\n  timeout: number\n) => {\n  // ! state로 선언 시 정상 작동 하지 않음\n  let timerId: NodeJS.Timer | undefined = undefined;\n\n  return useCallback(\n    (option?: {\n      /** 타이머를 지운 후 새 타이머를 등록합니다. */\n      updateNewTimer?: boolean;\n    }) => {\n      if (timerId) {\n        clearTimeout(timerId);\n      }\n      if (option && option.updateNewTimer) {\n        timerId = setTimeout(() => {\n          booleanStateSetter(toState);\n        }, timeout);\n      }\n    },\n    [timerId]\n  );\n};\n","// VideoPlayer.subset.tsx\n/**\n * 비디오 플레이어에 공통적으로 사용되는 하위 컴포넌트들의 모음집입니다.\n */\n\nimport {\n  ActivityIndicator,\n  Animated,\n  LayoutChangeEvent,\n  Pressable,\n  Text,\n  TouchableWithoutFeedback,\n  View,\n} from \"react-native\";\nimport styles, {\n  heartPositionBuilder,\n  iconStyles,\n  sliderStyle,\n} from \"./VideoPlayer.style\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\nimport Slider from \"@react-native-community/slider\";\nimport VideoType from \"../../types/Video\";\nimport { useCallback, useEffect, useRef, useState } from \"react\";\nimport { HEART_COLOR_TIMER } from \"./VideoPlayer.global\";\nimport LikeType from \"../../types/Like\";\nimport { formatTimer } from \"../../utils/formatter\";\nimport MenuModal, { MenuModalItem } from \"../modals/MenuModal\";\nimport { useToggleTimer } from \"../../hooks/useTimer\";\n\n/** 비디오 플레이어 프로퍼티 타입 */\nexport interface VideoPlayerProps {\n  /** 이 프로퍼티에서는 비디오 메타 정보만 사용합니다. 비디오 원본 주소는 videoSource 프로퍼티로 전달해야 합니다. */\n  videoData: VideoType;\n  /** 비디오 원본 주소 입니다. */\n  videoSource: string;\n}\n\n/** 중앙 버튼 */\nexport function VideoMiddleController(props: {\n  isBuffering: boolean;\n  isControlHidden: boolean;\n  togglePlay: () => void;\n  isPlaying: boolean;\n  didJustFinish: boolean;\n}) {\n  return (\n    <>\n      {props.isBuffering ? (\n        <ActivityIndicator\n          size={styles.videoBufferIndicator.fontSize}\n          color={styles.videoBufferIndicator.color}\n          style={styles.videoBigButton}\n        />\n      ) : !props.isControlHidden ? (\n        <View>\n          <Pressable onPress={props.togglePlay}>\n            <MaterialIcons\n              style={styles.videoBigButton}\n              selectable={false}\n              color={iconStyles.color}\n              size={iconStyles.sizeXXlarge}\n              name={\n                props.isPlaying\n                  ? \"pause\"\n                  : props.didJustFinish\n                  ? \"replay\"\n                  : \"play-arrow\"\n              }\n            />\n          </Pressable>\n        </View>\n      ) : null}\n    </>\n  );\n}\n\n/** 애니메이션 적용 가능한 MaterialIcons 컴포넌트, 추후 코드 분리 필요 */\nconst AnimatedMaterialIcon = Animated.createAnimatedComponent(MaterialIcons);\n\ntype VideoLikeType =\n  | { useLikes?: false }\n  | {\n      /** 좋아요 기능 사용 여부 */\n      useLikes: true;\n      /** 좋아요 API 호출 */\n      onLike: () => Promise<void>;\n      /** 좋아요 취소 API 호출 */\n      onDislike: (likeData: LikeType) => Promise<void>;\n      /** 좋아요 데이터들 */\n      likesData: LikeType[];\n      /** 좋아요 개수 제한 도달 여부 */\n      noMoreLike?: boolean;\n    };\n\ntype VideoBottomControllerPropType = {\n  togglePlay: () => void;\n  isPlaying: boolean;\n  didJustFinish: boolean;\n  videoPosition: number;\n  videoLength: number;\n  seekVideo: (position: number) => void;\n} & VideoLikeType;\n\n/** 하단 재생바, 좋아요 기능 포함! */\nexport function VideoBottomController(props: VideoBottomControllerPropType) {\n  // TBD Web 대응 마우스 호버시에만 컨트롤러 표시되도록 만들기\n\n  /** 디바운싱을 위한 버튼 사용 가능 상태 */\n  const [likable, setLikable] = useState<boolean>(true);\n\n  /** 재생바의 너비 */\n  const [sliderWidth, setSliderWidth] = useState<number>(0);\n\n  /** 재생바의 너비 구하는 함수 (반응형) */\n  const getSliderWidth = useCallback((event: LayoutChangeEvent) => {\n    setSliderWidth(event.nativeEvent.layout.width);\n  }, []);\n\n  /** 버튼 색상 변경 애니메이션 재료들 */\n  const animation = useRef(new Animated.Value(0)).current;\n  const colorFadeInterpolation = animation.interpolate({\n    inputRange: [0, 1],\n    outputRange: [iconStyles.color, iconStyles.heartColor],\n  });\n\n  /** likable 디바운싱 타이머 */\n  const refreshLikableTimer = useToggleTimer(\n    setLikable,\n    true,\n    HEART_COLOR_TIMER * 2\n  );\n\n  /** 좋아요 개수 제한에 도달했을 경우 더 좋아요 요청할 수 없도록 하기 */\n  useEffect(() => {\n    if (props.useLikes) {\n      refreshLikableTimer();\n      setLikable(!props.noMoreLike);\n    }\n  }, [props.useLikes, props.useLikes ? props.noMoreLike : undefined]);\n\n  /** 좋아요 가능 여부에 따라 버튼 색상 변경 */\n  useEffect(() => {\n    if (likable) {\n      Animated.timing(animation, {\n        toValue: 0,\n        duration: HEART_COLOR_TIMER,\n        useNativeDriver: false,\n      }).start();\n    } else {\n      Animated.timing(animation, {\n        toValue: 1,\n        duration: HEART_COLOR_TIMER,\n        useNativeDriver: false,\n      }).start();\n    }\n  }, [likable, animation]);\n\n  /** 버튼 터치 시 색상 변경 fade 애니메이션 사용, 색상이 다 사라져야지 좋아요 할 수 있음 */\n  const handleButtonDebouncing = useCallback(() => {\n    setLikable(false);\n    refreshLikableTimer({ updateNewTimer: true });\n  }, []);\n\n  /** 우측 좋아요 버튼 눌렀을 때의 액션 설정, 디바운싱 처리됨 */\n  const handleLikeBottonPressed = useCallback(async () => {\n    if (likable && props.useLikes) {\n      handleButtonDebouncing();\n      await props.onLike();\n    } else if (props.useLikes && props.noMoreLike) {\n      // TBD 좋아요 개수 제한에 대해 설명하든 아니면 그냥 아무 리액션 하지 않든\n    }\n  }, [likable, props.useLikes, props.useLikes ? props.noMoreLike : undefined]);\n\n  /** 좋아요 위치 목록 */\n  let heartIndicators = null;\n  if (props.useLikes) {\n    heartIndicators = props.likesData.map((like, index) => {\n      // TBD index를 key로 사용하지 않도록 만들기 (likeId 등을 사용하던가 해서)\n      // https://robinpokorny.medium.com/index-as-a-key-is-an-anti-pattern-e0349aece318\n      return (\n        <SliderHeartIndicator\n          key={index}\n          isPlaying={props.isPlaying}\n          likeData={like}\n          sliderWidth={sliderWidth}\n          videoLength={props.videoLength}\n          onDislike={props.onDislike}\n        />\n      );\n    });\n  }\n\n  return (\n    <TouchableWithoutFeedback>\n      <View style={styles.videoBottomControllerContainer}>\n        <Pressable onPress={props.togglePlay}>\n          <MaterialIcons\n            style={styles.videoSmallButton}\n            selectable={false}\n            color={iconStyles.color}\n            size={iconStyles.sizeXlarge}\n            name={\n              props.isPlaying\n                ? \"pause\"\n                : props.didJustFinish\n                ? \"replay\"\n                : \"play-arrow\"\n            }\n          />\n        </Pressable>\n        <View onLayout={getSliderWidth} style={styles.videoSliderContainer}>\n          {props.useLikes ? (\n            <View style={styles.videoHeartArea}>\n              {/* 좋아요 표시 컴포넌트들 */}\n              {heartIndicators}\n            </View>\n          ) : null}\n          <Slider\n            style={styles.videoSlider}\n            minimumValue={0}\n            maximumValue={1}\n            minimumTrackTintColor={sliderStyle.default.color}\n            maximumTrackTintColor={sliderStyle.default.color}\n            thumbTintColor={sliderStyle.default.tintColor}\n            value={props.videoPosition / props.videoLength}\n            onSlidingComplete={props.seekVideo}\n          />\n        </View>\n        {props.useLikes ? (\n          <Pressable onPress={handleLikeBottonPressed}>\n            <AnimatedMaterialIcon\n              style={[\n                styles.videoSmallButton,\n                { color: colorFadeInterpolation },\n              ]}\n              size={iconStyles.sizeXlarge}\n              selectable={false}\n              name={\"favorite\"}\n            />\n          </Pressable>\n        ) : null}\n      </View>\n    </TouchableWithoutFeedback>\n  );\n}\n\n/** 영상 내부에서 좋아요 한 위치를 표시하는 컴포넌트 */\nfunction SliderHeartIndicator(props: {\n  likeData: LikeType;\n  videoLength: number;\n  sliderWidth: number;\n  isPlaying: boolean;\n  onDislike: (likeData: LikeType) => Promise<void>;\n}) {\n  /** 터치 문제 해결하기 전 까지 modal 사용 */\n  const [modalVisible, setModalVisible] = useState<boolean>(false);\n\n  const handleDislike = useCallback(async () => {\n    setModalVisible(false);\n    await props.onDislike(props.likeData);\n  }, [props.likeData]);\n\n  return (\n    <Pressable\n      style={[\n        styles.videoHeartIndicatorContainer,\n        heartPositionBuilder(\n          props.likeData.likePosition!,\n          props.videoLength,\n          props.sliderWidth\n        ),\n      ]}\n      onPress={() => {\n        setModalVisible(true);\n      }}\n    >\n      <MenuModal visible={modalVisible} setModalVisible={setModalVisible}>\n        <MenuModalItem\n          iconName=\"heart-dislike\"\n          menuText=\"좋아요 취소\"\n          onMenuPress={handleDislike}\n        />\n      </MenuModal>\n      {props.isPlaying ? (\n        <View style={styles.videoHeartIndicatorEmpty}></View>\n      ) : (\n        <Text\n          selectable={false}\n          numberOfLines={1}\n          style={styles.videoHeartIndicatorText}\n        >\n          {formatTimer(props.likeData.likePosition!)}\n        </Text>\n      )}\n      <MaterialIcons\n        selectable={false}\n        style={styles.videoHeartIndicatorIcon}\n        name=\"favorite\"\n      />\n    </Pressable>\n  );\n}\n","/** 조작하지 않을 시 컨트롤러 사라지는 시간 */\nexport const CONTROL_HIDE_TIMER = 2000;\n\n/** 영상 정보 사라지는 시간 */\nexport const INFO_HIDE_TIMER = 3500;\n\n/** 하트 색깔 사라지는 시간 */\nexport const HEART_COLOR_TIMER = 250;\n","import { AVPlaybackStatus, Video } from \"expo-av\";\nimport { useCallback, useEffect, useRef, useState } from \"react\";\nimport { Pressable, View } from \"react-native\";\nimport VideoType from \"../../types/Video\";\nimport styles from \"./VideoPlayer.style\";\nimport { CONTROL_HIDE_TIMER } from \"./VideoPlayer.global\";\nimport {\n  VideoBottomController,\n  VideoMiddleController,\n  VideoPlayerProps,\n} from \"./VideoPlayer.subset\";\nimport { useToggleTimer } from \"../../hooks/useTimer\";\n\n/** 간소화된 비디오 플레이어 컴포넌트 프로퍼티 타입 */\ninterface SimplifiedVideoPlayer {\n  /** 이 프로퍼티에서는 비디오 메타 정보만 사용합니다. 비디오 원본 주소는 videoSource 프로퍼티로 전달해야 합니다. */\n  videoData: VideoType;\n  /** 비디오 원본 주소 입니다. */\n  videoSource: string;\n}\n\n/**\n * 간소화된 비디오 플레이어 컴포넌트 입니다.\n * 화면의 전체를 덮지 않고 다른 UI 컴포넌트와 함께 사용될 필요가 있을 때 사용합니다.\n * TBD 전반적인 터치 액션 강화 (ex 10초 앞 뒤 건너뛰기)\n */\nfunction SimplifiedVideoPlayer(props: VideoPlayerProps) {\n  const videoPlayer = useRef<Video>(null);\n  const [isLoaded, setIsLoaded] = useState<boolean>(false);\n  const [isPlaying, setIsPlaying] = useState<boolean>(false);\n  const [didJustFinish, setDidJustFinish] = useState<boolean>(false);\n  const [isBuffering, setIsBuffering] = useState<boolean>(false);\n  const [videoPosition, setVideoPosition] = useState<number>(0);\n  const [videoLength, setVideoLength] = useState<number>(1);\n  const [isControlHidden, setIsControlHidden] = useState<boolean>(false);\n\n  /** 영상 재생 상태 변화에 따른 처리 */\n  const handleOnPlaybackStatusUpdate = useCallback(\n    (playbackStatus: AVPlaybackStatus) => {\n      if (!playbackStatus.isLoaded) {\n        if (playbackStatus.error) {\n          // TBD error 처리\n          console.error(playbackStatus.error);\n        }\n      } else {\n        setIsLoaded(playbackStatus.isLoaded);\n        setIsPlaying(playbackStatus.isPlaying);\n        setDidJustFinish(playbackStatus.didJustFinish);\n        setIsBuffering(playbackStatus.isBuffering);\n        setVideoPosition(playbackStatus.positionMillis);\n        if (playbackStatus.durationMillis)\n          setVideoLength(playbackStatus.durationMillis);\n      }\n    },\n    []\n  );\n\n  /** 영상이 끝나면 재생 버튼 표시하기 */\n  useEffect(() => {\n    if (didJustFinish) {\n      setIsControlHidden(false);\n    }\n  }, [didJustFinish]);\n\n  /** 영상 Seekbar 사용 함수 */\n  const seekVideo = useCallback(\n    (position) => {\n      if (isLoaded) {\n        videoPlayer.current?.setPositionAsync(videoLength * position);\n      }\n    },\n    [videoLength, isLoaded]\n  );\n\n  /** 오버레이 숨김 처리 타이머 활성화 / 비활성화 */\n  const refreshHidingControlTimer = useToggleTimer(\n    setIsControlHidden,\n    true,\n    CONTROL_HIDE_TIMER\n  );\n\n  /** 오버레이 표시 상태에서 오버레이 영역 터치 시 오버레이 지우기 */\n  const clearOverlay = useCallback(() => {\n    if (!isControlHidden) {\n      refreshHidingControlTimer();\n      setIsControlHidden(true);\n    }\n  }, [isControlHidden]);\n\n  /** 오버레이 비표시 상태에서 비디오 영역 터치 시 오버레이 표시하기 */\n  const displayOverlay = useCallback(() => {\n    if (isControlHidden) {\n      refreshHidingControlTimer({ updateNewTimer: isPlaying });\n      setIsControlHidden(false);\n    }\n  }, [isControlHidden, isPlaying]);\n\n  /** 재생 / 정지 토글 함수 */\n  const togglePlay = useCallback(() => {\n    // TBD Web에서 좀 더 우아하게 컨트롤 표시 처리하기\n    // 차라리 웹 전용 컴포넌트를 만드는게 더 유리할수도(장기계획)\n    if (isLoaded) {\n      if (isPlaying) {\n        videoPlayer.current?.pauseAsync();\n      } else {\n        if (didJustFinish) {\n          videoPlayer.current?.setPositionAsync(0);\n        }\n        videoPlayer.current?.playAsync();\n      }\n      refreshHidingControlTimer({ updateNewTimer: !isPlaying });\n    }\n  }, [isPlaying, didJustFinish, isLoaded, videoPlayer]);\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.videoCoreContainer}>\n        <Video\n          style={styles.videoCore}\n          source={{ uri: props.videoSource }}\n          ref={videoPlayer}\n          resizeMode=\"contain\"\n          onPlaybackStatusUpdate={handleOnPlaybackStatusUpdate}\n        />\n      </View>\n      {/* 비디오 영역 터치 대응 */}\n      <Pressable\n        onPress={displayOverlay}\n        style={styles.videoTransparentPressableArea}\n      />\n      {/* 어둡게 오버레이 */}\n      {!isControlHidden ? (\n        <Pressable onPress={clearOverlay} style={styles.videoDarkOverlay} />\n      ) : null}\n      <View style={styles.videoControllerView}>\n        {/* 상단 영역 */}\n        <></>\n        {/* 중단 영역 */}\n        <View style={styles.videoMiddleControllerContainer}>\n          <VideoMiddleController\n            isBuffering={isBuffering}\n            isControlHidden={isControlHidden}\n            togglePlay={togglePlay}\n            isPlaying={isPlaying}\n            didJustFinish={didJustFinish}\n          />\n        </View>\n        {/* 하단 영역 */}\n        <VideoBottomController\n          togglePlay={togglePlay}\n          isPlaying={isPlaying}\n          didJustFinish={didJustFinish}\n          videoPosition={videoPosition}\n          videoLength={videoLength}\n          seekVideo={seekVideo}\n        />\n      </View>\n    </View>\n  );\n}\n\nexport default SimplifiedVideoPlayer;\n","import React, { useContext, useEffect } from \"react\";\nimport { SafeAreaView, Text, View } from \"react-native\";\nimport screens from \"../../../styles/screens\";\nimport { uploadScreenStyle as styles } from \"./UploadScreen.style\";\nimport { UploadContext } from \"./UploadContext\";\nimport { ScrollView } from \"native-base\";\nimport CommonTextInput from \"../../../components/inputs/CommonTextInput\";\nimport SimplifiedVideoPlayer from \"../../../components/videoPlayers/SimplifiedVideoPlayer\";\nimport { useIsFocused } from \"@react-navigation/native\";\nimport VideoType from \"../../../types/Video\";\nimport SongType from \"../../../types/Song\";\nimport PlaceType from \"../../../types/Place\";\n\ntype InputDataScreenPropType =\n  | {\n      editMode?: false;\n    }\n  | {\n      editMode: true;\n      videoData: VideoType;\n    };\n\n/**\n * 2. 업로드한 영상에 대한 편집(일단 TBD) 및 메타 정보 입력 화면\n */\nfunction InputVideoDataScreen(props: InputDataScreenPropType) {\n  const isFocused = useIsFocused();\n\n  const {\n    setButtonHidden,\n    setButtonEnabled,\n    placeInfo,\n    setPlaceInfo,\n    songInfo,\n    setSongInfo,\n    videoDescription,\n    setVideoDescription,\n    videoTitle,\n    setVideoTitle,\n    videoPath,\n  } = useContext(UploadContext);\n\n  /** 첫 렌더링 시 버튼 숨김 해제 */\n  useEffect(() => {\n    if (isFocused) {\n      setButtonHidden(false);\n      setButtonEnabled(false);\n    }\n  }, [isFocused]);\n\n  /** 필요 데이터가 입력된 경우를 확인해 버튼 활성화하기 */\n  useEffect(() => {\n    // 장소, 설명은 optional 제목, 노래는 required\n    if (videoTitle.length >= 2 && !!songInfo.title) {\n      setButtonEnabled(true);\n    }\n  }, [videoTitle, songInfo.title]);\n\n  return (\n    <SafeAreaView style={screens.defaultScreenLayout}>\n      <VideoDataInputFieldSet\n        placeInfo={placeInfo}\n        setPlaceInfo={setPlaceInfo}\n        setSongInfo={setSongInfo}\n        videoPath={videoPath}\n        videoTitle={videoTitle}\n        setVideoTitle={setVideoTitle}\n        videoDescription={videoDescription}\n        setVideoDescription={setVideoDescription}\n        songInfo={songInfo}\n      />\n    </SafeAreaView>\n  );\n}\n\nexport default InputVideoDataScreen;\n\n/** 비디오 정보 입력 컴포넌트 분리 TBD 추후 컴포넌트 쪽 폴더로 옮기기 */\nexport function VideoDataInputFieldSet({\n  setVideoTitle,\n  videoPath,\n  videoTitle,\n  placeInfo,\n  setPlaceInfo,\n  setSongInfo,\n  setVideoDescription,\n  songInfo,\n  videoDescription,\n}: {\n  videoPath: string;\n  videoTitle: string;\n  setVideoTitle: (value: React.SetStateAction<string>) => void;\n  videoDescription: string;\n  setVideoDescription: (value: React.SetStateAction<string>) => void;\n  songInfo: SongType;\n  setSongInfo: (value: React.SetStateAction<SongType>) => void;\n  placeInfo: PlaceType;\n  setPlaceInfo: (value: React.SetStateAction<PlaceType>) => void;\n}) {\n  return (\n    <>\n      <View style={styles.videoContainer}>\n        <SimplifiedVideoPlayer\n          // 임시 데이터입니다.\n          videoData={{}}\n          videoSource={videoPath}\n        />\n      </View>\n      <ScrollView style={styles.dataInputContainer}>\n        <Text style={styles.dataInputLabel}>무대 제목</Text>\n        <CommonTextInput\n          accessibilityRole=\"text\"\n          textContentType=\"none\"\n          style={styles.dataInputField}\n          placeholder=\"무대 제목\"\n          onChangeText={(newStr) => setVideoTitle(newStr)}\n          value={videoTitle}\n        />\n        <Text style={styles.dataInputLabel}>무대 설명</Text>\n        <CommonTextInput\n          accessibilityRole=\"text\"\n          textContentType=\"none\"\n          multiline\n          style={styles.dataInputField}\n          placeholder=\"무대 설명\"\n          onChangeText={(newStr) => setVideoDescription(newStr)}\n          value={videoDescription}\n        />\n        <Text style={styles.dataInputLabel}>노래</Text>\n        <CommonTextInput\n          accessibilityRole=\"text\"\n          textContentType=\"none\"\n          style={styles.dataInputField}\n          placeholder=\"노래\"\n          onChangeText={(newStr) => setSongInfo({ title: newStr })}\n          value={songInfo.title}\n        />\n        <Text style={styles.dataInputLabel}>장소</Text>\n        <CommonTextInput\n          accessibilityRole=\"text\"\n          textContentType=\"none\"\n          style={styles.dataInputField}\n          placeholder=\"장소\"\n          onChangeText={(newStr) => setPlaceInfo({ name: newStr })}\n          value={placeInfo.name}\n        />\n      </ScrollView>\n    </>\n  );\n}\n","import * as FileSystem from \"expo-file-system\";\nimport { Platform } from \"react-native\";\nimport { formatTimer } from \"./formatter\";\n\n// TBD 테스트 코드 작성\n\n/**\n * 파일의 크기를 계산해 byte 단위로 반환합니다.\n * @param fileURI\n * @returns 파일 크기 byte\n */\nexport async function checkFileSize(fileURI: string) {\n  if (Platform.OS === \"web\") {\n    // Web 환경에서는 expo-file-system이 동작하지 않아서 다른 방식 사용\n    const blob = await (await fetch(fileURI)).blob();\n    return blob.size;\n  } else {\n    const fileSizeBytes = await FileSystem.getInfoAsync(fileURI);\n    return fileSizeBytes.size;\n  }\n}\n\n/**\n * Byte 파일 크기를 MB 단위로 변환해 제한 MB보다 작은지 판단합니다.\n * @param fileSize\n * @param limitMB\n * @returns\n */\nexport function checkSizeLimitMB(fileSize: number, limitMB: number) {\n  return fileSize / 1024 / 1024 <= limitMB;\n}\n\n/**\n * 영상의 전체 길이를 반환합니다.\n * 외부 라이브러리 등으로 영상 메타테이터를 읽어올 수 없을 때 사용합니다.\n * @param videoURI\n * @returns\n */\nexport async function checkVideoLengthManually(\n  videoURI: string\n): Promise<number> {\n  return new Promise<number>((resolve, reject) => {\n    const media = new Audio(videoURI);\n    media.onloadedmetadata = function () {\n      resolve(Math.ceil(media.duration * 1000));\n    };\n  });\n}\n","import {\n  Platform,\n  SafeAreaView,\n  Text,\n  ToastAndroid,\n  TouchableOpacity,\n  View,\n} from \"react-native\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\nimport screens from \"../../../styles/screens\";\nimport { uploadScreenStyle } from \"./UploadScreen.style\";\nimport { useIsFocused, useNavigation } from \"@react-navigation/native\";\nimport { UploadStackNavigationProp } from \"../../../navigators/UploadNavigator\";\nimport { useCallback, useContext, useEffect } from \"react\";\nimport { UploadContext } from \"./UploadContext\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport {\n  checkFileSize,\n  checkSizeLimitMB,\n  checkVideoLengthManually,\n} from \"../../../utils/file\";\nimport { useToast } from \"native-base\";\nimport { getThumbnails } from \"video-metadata-thumbnails\";\nimport * as VideoThumbnails from \"expo-video-thumbnails\";\nimport { blobToDataURL } from \"../../../utils/converter\";\nimport { useLoadingIndicator } from \"../../../hooks/useLoadingIndicator\";\nimport { useNotImplementedWarning } from \"../../../hooks/useWarning\";\n\nconst SIZE_LIMIT = 20; // MB\n\n/**\n * 1. 영상 업로드 유형 선택\n * 새 영상 촬영 기능의 경우 용량 문제도 있고 구현 범위 축소에 따라 TBD\n */\nfunction SelectTypeScreen() {\n  const uploadNavigator = useNavigation<UploadStackNavigationProp>();\n\n  const isFocused = useIsFocused();\n\n  const Toast = useToast();\n\n  /** Upload Context */\n  const { setButtonHidden, setThumbnailPath, setVideoPath, setVideoLength } =\n    useContext(UploadContext);\n\n  const { hideLoading, showLoading } = useLoadingIndicator();\n\n  /** 사용자가 이미 가지고 있는 영상을 업로드 하는 함수 */\n  const uploadExistingVideo = useCallback(async () => {\n    /** 갤러리 권한 요청 */\n    const permissionResult =\n      await ImagePicker.requestMediaLibraryPermissionsAsync();\n\n    /** 권한 요청 거부됨 */\n    if (permissionResult.granted === false) {\n      if (Platform.OS === \"android\")\n        // 어차피 Android 한정 코드라 다음 토스트 사용\n        ToastAndroid.show(\"권한이 필요합니다.\", ToastAndroid.SHORT);\n      else {\n        alert(\"권한이 필요합니다.\");\n      }\n\n      return;\n    }\n\n    /** 영상 가져오기 */\n    // https://github.com/expo/expo/issues/9374\n    // TBD 알려진 expo image picker의 오류로 인해 큰 파일 업로드 시 문제 발생함.\n    // 심지어 핸들링도 안됨.\n    const pickerResult = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Videos,\n    });\n\n    if (!pickerResult.cancelled) {\n      showLoading(`영상을 가져오는 중입니다.`);\n      const fileSize = await checkFileSize(pickerResult.uri);\n      if (!fileSize) {\n        // TBD 이런 경우 파악해서 에러 처리\n\n        hideLoading();\n        return;\n      }\n      if (!checkSizeLimitMB(fileSize, SIZE_LIMIT)) {\n        // 사이즈 제한보다 영상 크기가 작은지 파악\n        Toast.show({\n          description: `영상이 너무 큽니다! (크기 제한 : ${SIZE_LIMIT}MB)`,\n        });\n\n        hideLoading();\n        return;\n      }\n\n      /** 컨텍스트에 영상 경로 등록 */\n      setVideoPath(pickerResult.uri);\n      /** 컨텍스트에 영상 길이 등록 */\n      if (pickerResult.duration) {\n        setVideoLength(pickerResult.duration!);\n      } else {\n        // Web 환경에서는 duration이나 width 등의 정보가 제대로 로드되지 않음\n        // 직접 Audio 객체 사용해 media 메타정보 불러올 수 있음.\n        const duration = await checkVideoLengthManually(pickerResult.uri);\n        setVideoLength(duration);\n      }\n\n      let thumbnailUri = \"\";\n      /** 영상으로부터 썸네일 추출 */\n      if (Platform.OS === \"web\") {\n        const blobResult = (\n          await getThumbnails(pickerResult.uri, {\n            start: 0,\n            end: 1,\n          })\n        )[0].blob!;\n\n        thumbnailUri = await blobToDataURL(blobResult);\n      } else {\n        thumbnailUri = (\n          await VideoThumbnails.getThumbnailAsync(pickerResult.uri)\n        ).uri;\n      }\n\n      setThumbnailPath(thumbnailUri);\n\n      hideLoading();\n\n      /** 메타 정보 입력 화면으로 이동 */\n      uploadNavigator.navigate(\"InputData\");\n    }\n  }, []);\n\n  const notImplemented = useNotImplementedWarning();\n  /** 새 영상을 촬영하고 그 영상을 업로드 하는 함수 */\n  const recordThenUploadVideo = useCallback(async () => {\n    // TBD 영상 촬영 기능 및 uploadExistingVideo 함수와 겹치는 부분 분리하기\n    notImplemented();\n  }, []);\n\n  /** 버튼 숨기기 */\n  useEffect(() => {\n    if (isFocused) {\n      setButtonHidden(true);\n    }\n  }, [isFocused]);\n\n  return (\n    <SafeAreaView style={screens.defaultScreenLayout}>\n      <Text style={uploadScreenStyle.warningText}>\n        알파 버전 동안 영상의 크기가{`\\n`}\n        <Text style={{ fontWeight: \"bold\" }}>20MB</Text>로 제한됩니다.\n      </Text>\n      <View style={uploadScreenStyle.largeButtonsContainer}>\n        <TouchableOpacity\n          style={[uploadScreenStyle.largeButton]}\n          onPress={uploadExistingVideo}\n        >\n          <MaterialIcons\n            style={uploadScreenStyle.largeButtonIcon}\n            name=\"file-upload\"\n          />\n          <Text style={uploadScreenStyle.largeButtonText}>파일 업로드</Text>\n        </TouchableOpacity>\n        <View style={uploadScreenStyle.seperation} />\n        <TouchableOpacity\n          style={[uploadScreenStyle.largeButton]}\n          onPress={recordThenUploadVideo}\n        >\n          <MaterialIcons\n            style={[\n              uploadScreenStyle.largeButtonIcon,\n              uploadScreenStyle.largeButtonDisabled,\n            ]}\n            name=\"video-call\"\n          ></MaterialIcons>\n          <Text\n            style={[\n              uploadScreenStyle.largeButtonText,\n              uploadScreenStyle.largeButtonDisabled,\n            ]}\n          >\n            새 영상 촬영\n          </Text>\n        </TouchableOpacity>\n        {/* TBD 영상 사이즈 관련 안내 */}\n      </View>\n    </SafeAreaView>\n  );\n}\n\nexport default SelectTypeScreen;\n","import { useIsFocused, useNavigation } from \"@react-navigation/native\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { SafeAreaView } from \"react-native\";\nimport QueResourceClient from \"../../../api/QueResourceUtils\";\nimport CommonHeader from \"../../../components/headers/CommonHeader\";\nimport { useConfirm } from \"../../../hooks/useConfirm\";\nimport { useLoadingIndicator } from \"../../../hooks/useLoadingIndicator\";\nimport { MainStackNavigationProp } from \"../../../navigators/MainNavigator\";\nimport {\n  UploadStackNavigationProp,\n  UploadStackParamList,\n} from \"../../../navigators/UploadNavigator\";\nimport screens from \"../../../styles/screens\";\nimport PlaceType from \"../../../types/Place\";\nimport SongType from \"../../../types/Song\";\nimport VideoType from \"../../../types/Video\";\nimport InputVideoDataScreen from \"./InputDataScreen\";\nimport SelectTypeScreen from \"./SelectTypeScreen\";\nimport { UploadContext } from \"./UploadContext\";\n\nconst UploadStack = createNativeStackNavigator<UploadStackParamList>();\n\n/**\n * 영상 업로드 화면\n */\nfunction UploadScreen() {\n  // Context states\n  /** 확인 버튼 숨기기 */\n  const [buttonHidden, setButtonHidden] = useState<boolean>(true);\n  /** 확인 버튼 활성화하기 */\n  const [buttonEnabled, setButtonEnabled] = useState<boolean>(false);\n  const [videoPath, setVideoPath] = useState<string>(\"\");\n  const [thumbnailPath, setThumbnailPath] = useState<string>(\"\");\n  const [videoTitle, setVideoTitle] = useState<string>(\"\");\n  const [videoDescription, setVideoDescription] = useState<string>(\"\");\n  const [videoLength, setVideoLength] = useState<number>(0);\n  const [songInfo, setSongInfo] = useState<SongType>({ title: \"\" });\n  const [placeInfo, setPlaceInfo] = useState<PlaceType>({ name: \"\" });\n\n  const isFocused = useIsFocused();\n\n  const asyncAlert = useConfirm();\n\n  const mainNavigator = useNavigation<MainStackNavigationProp>();\n  const uploadNavigator = useNavigation<UploadStackNavigationProp>();\n\n  const { hideLoading, showLoading } = useLoadingIndicator();\n\n  /**\n   * 업로드 확인 버튼 눌렀을 때 실행되는 콜백함수\n   * !! 업로드 화면 핵심 기능 입니다. !!\n   */\n  const uploadAndPostVideo = useCallback(async () => {\n    // TBD 업로드 API 함수 호출 및 업로드 진행률 표시 방법론 구상\n    // TBD 업로드 하시겠습니까? 질문하기.\n    if (await asyncAlert(\"업로드 하시겠습니까?\")) {\n      showLoading(\n        `영상을 업로드 중입니다.\\n제발 종료하지 말아주세요...\\n로딩은 개선 예정입니다.`\n      );\n\n      const newVideoData: VideoType = {\n        title: videoTitle,\n        description: videoDescription,\n        song: songInfo,\n        place: placeInfo,\n        length: videoLength,\n        likeCount: 0,\n        starCount: 0,\n        viewCount: 0,\n      };\n\n      /** 영상 업로드! (특: 중요함) */\n      // TBD 로딩이 끔찍하게 깁니다.\n      // 현 상황(blaze 요금제)에서 진행상황을 효율적으로 표출할 수 있는 방법 알아보기\n      const uploadResult = await QueResourceClient.uploadVideo(\n        thumbnailPath,\n        videoPath,\n        newVideoData\n      );\n\n      if (uploadResult.success) {\n        alert(\"영상이 성공적으로 업로드됐습니다.\");\n        hideLoading();\n        mainNavigator.reset({ routes: [{ name: \"Home\" }] });\n      } else {\n        // TBD 좀 더 정교한 에러 처리\n        alert(\n          `영상을 업로드 하는 중 문제가 발생했습니다.\\n${uploadResult.errorType}`\n        );\n        hideLoading();\n      }\n    }\n  }, [\n    videoPath,\n    thumbnailPath,\n    videoTitle,\n    videoLength,\n    videoDescription,\n    songInfo,\n    placeInfo,\n  ]);\n\n  /**\n   * 업로드 화면 재진입시 네비게이션 순서가 초기화 될 수 있도록 설정\n   */\n  useEffect(() => {\n    if (!isFocused) {\n      uploadNavigator.navigate(\"SelectType\");\n    }\n  }, [isFocused]);\n\n  return (\n    <SafeAreaView style={screens.defaultScreenLayout}>\n      <UploadContext.Provider\n        value={{\n          buttonEnabled,\n          setButtonEnabled,\n          buttonHidden,\n          setButtonHidden,\n          placeInfo,\n          setPlaceInfo,\n          songInfo,\n          setSongInfo,\n          videoDescription,\n          setVideoDescription,\n          videoTitle,\n          setVideoTitle,\n          videoLength,\n          setVideoLength,\n          videoPath,\n          setVideoPath,\n          thumbnailPath,\n          setThumbnailPath,\n        }}\n      >\n        <UploadStack.Navigator\n          initialRouteName=\"SelectType\"\n          screenOptions={{\n            contentStyle: screens.defaultScreenLayout,\n            title: \"업로드\",\n            header: (props) => (\n              <CommonHeader\n                hideButton={buttonHidden}\n                buttonType={buttonEnabled ? \"primary\" : \"disabled\"}\n                onPress={uploadAndPostVideo}\n                {...props}\n              />\n            ),\n          }}\n        >\n          <UploadStack.Screen\n            options={{ headerShown: true }}\n            name=\"SelectType\"\n            component={SelectTypeScreen}\n          />\n          <UploadStack.Screen\n            options={{ headerShown: true }}\n            name=\"InputData\"\n            component={InputVideoDataScreen}\n          />\n          {/* TBD 음악 검색 시스템 개발하기 (장기계획) */}\n          {/* <UploadStack.Screen\n          options={{ headerShown: true }}\n          name=\"SearchSong\"\n          component={DummyComponent}\n        /> */}\n        </UploadStack.Navigator>\n      </UploadContext.Provider>\n    </SafeAreaView>\n  );\n}\n\nexport default UploadScreen;\n","import { useCallback, useEffect, useState } from \"react\";\nimport { StyleSheet, Text, View } from \"react-native\";\nimport QueResourceClient, {\n  getUserProfileData,\n} from \"../../api/QueResourceUtils\";\nimport MainScreenHeader from \"../../components/headers/MainScreenHeader\";\nimport VideoCardList from \"../../components/lists/VideoCardList\";\nimport { useLoadingIndicator } from \"../../hooks/useLoadingIndicator\";\nimport { MainStackScreenProp } from \"../../navigators/MainNavigator\";\nimport { bColors, bFont, bSpace } from \"../../styles/base\";\nimport screens from \"../../styles/screens\";\nimport UserType from \"../../types/User\";\nimport VideoType from \"../../types/Video\";\n\n/**\n * 사용자 프로필 화면, 스튜디오\n * TBD 임시로 최소 기능만 구현된 상태임. 추후 원래 기획대로 구현하기.\n */\nfunction UserPageScreen({\n  route,\n  navigation,\n}: MainStackScreenProp<\"UserPage\">) {\n  /** 사용자 정보 */\n  const [userData, setUserData] = useState<UserType>({});\n  /** 서버로부터 가저온 비디오 데이터 목록 */\n  const [videoDataList, setVideoDataList] = useState<VideoType[]>([]);\n  /** 가저올 비디오 데이터가 더 있는지 여부 */\n  const [noMoreData, setNoMoreData] = useState<boolean>(false);\n\n  /** 사용자 정보 가저오기 */\n  useEffect(() => {\n    async function getUserData() {\n      const userResult = await getUserProfileData(route.params.userId);\n\n      if (userResult.success) {\n        setUserData(userResult.payload!);\n      } else {\n        // 에러처리\n      }\n    }\n\n    getUserData();\n  }, [route.params.userId]);\n\n  /** 헤더 타이틀 설정 */\n  useEffect(() => {\n    navigation.setOptions({\n      header: (props) => {\n        return (\n          <MainScreenHeader\n            {...props}\n            back={{\n              title: userData.nickname + \"의 스튜디오\",\n            }}\n          />\n        );\n      },\n    });\n  }, [userData.nickname]);\n\n  const loading = useLoadingIndicator();\n\n  /** 영상 목록을 처음부터 불러옵니다. 화면 최초 렌더링 시, 리스트 새로고침 시 호출됩니다. */\n  const getInitialData = useCallback(async () => {\n    setNoMoreData(false);\n\n    const initialDataLength = 5;\n    const initialData = await QueResourceClient.getVideoCardDataByUserId(\n      route.params.userId,\n      initialDataLength,\n      0\n    );\n    setVideoDataList(initialData);\n\n    if (initialData.length < initialDataLength) {\n      setNoMoreData(true);\n    }\n  }, []);\n\n  /** 초기 데이터 설정 */\n  useEffect(() => {\n    if (route.params.userId) {\n      loading.showLoading();\n      getInitialData().finally(() => {\n        loading.hideLoading();\n      });\n    }\n  }, [route.params.userId]);\n\n  /** 스크롤 시 비디오 더 가져오기 */\n  const getMoreVideoData = useCallback(async () => {\n    const cardPerPage = 3;\n    const newDataset = await QueResourceClient.getVideoCardDataByUserId(\n      route.params.userId,\n      cardPerPage,\n      1\n    );\n    setVideoDataList((prev) => {\n      return [...prev, ...newDataset];\n    });\n\n    if (newDataset.length < cardPerPage) {\n      setNoMoreData(true);\n    }\n  }, [videoDataList, route.params.userId]);\n\n  return (\n    <View style={screens.defaultScreenLayout}>\n      <View style={userPageStyle.userPageUploadedVideoListContainer}>\n        <Text style={userPageStyle.labelText}>무대</Text>\n        {videoDataList.length === 0 ? (\n          <Text style={userPageStyle.noVideoText}>\n            아직 사용자가 업로드한 영상이 없습니다.\n          </Text>\n        ) : null}\n        <VideoCardList\n          videoData={videoDataList}\n          onScrollEnded={getMoreVideoData}\n          noMoreData={noMoreData}\n          hideNoMoreDataIndicator\n          onRefresh={getInitialData}\n        />\n      </View>\n    </View>\n  );\n}\n\n/** 임시 스타일 객체 */\nconst userPageStyle = StyleSheet.create({\n  userPageUploadedVideoListContainer: {\n    backgroundColor: bColors.white,\n    paddingTop: bSpace.xlarge,\n  },\n  labelText: {\n    fontSize: bFont.xlarge,\n    marginLeft: bSpace.middle,\n    paddingBottom: bSpace.middle,\n  },\n  noVideoText: {\n    fontSize: bFont.middle,\n    textAlign: \"center\",\n    marginVertical: bSpace.xlarge,\n  },\n});\n\nexport default UserPageScreen;\n","import React, {\n  useCallback,\n  useEffect,\n  useLayoutEffect,\n  useState,\n} from \"react\";\nimport { SafeAreaView, StyleSheet, View } from \"react-native\";\nimport QueResourceClient, {\n  getVideoDownloadURL,\n} from \"../../api/QueResourceUtils\";\nimport { useLoadingIndicator } from \"../../hooks/useLoadingIndicator\";\nimport { MainStackScreenProp } from \"../../navigators/MainNavigator\";\nimport screens from \"../../styles/screens\";\nimport CommonHeader from \"../../components/headers/CommonHeader\";\nimport { VideoDataInputFieldSet } from \"./UploadScreen/InputDataScreen\";\nimport SongType from \"../../types/Song\";\nimport PlaceType from \"../../types/Place\";\nimport RoundedButton from \"../../components/buttons/RoundedButton\";\nimport { bFont, bSpace } from \"../../styles/base\";\nimport { useConfirm } from \"../../hooks/useConfirm\";\nimport { Toast } from \"native-base\";\n\n/**\n * 비디오 재생 화면\n */\nconst VideoEditScreen = ({\n  route,\n  navigation,\n}: MainStackScreenProp<\"VideoEdit\">) => {\n  const [videoPath, setVideoPath] = useState<string>(\"\");\n  const [editVideoTitle, setEditVideoTitle] = useState<string>(\"\");\n  const [editVideoDescription, setEditVideoDescription] = useState<string>(\"\");\n  const [editSongInfo, setEditSongInfo] = useState<SongType>({});\n  const [editPlaceInfo, setEditPlaceInfo] = useState<PlaceType>({});\n  const [initVideoTitle, setInitVideoTitle] = useState<string>(\"\");\n  const [initVideoDescription, setInitVideoDescription] = useState<string>(\"\");\n  const [initSongInfo, setInitSongInfo] = useState<SongType>({});\n  const [initPlaceInfo, setInitPlaceInfo] = useState<PlaceType>({});\n\n  const [postable, setPostable] = useState<boolean>(false);\n\n  const asyncAlert = useConfirm();\n\n  const loading = useLoadingIndicator();\n\n  /** 수정 화면 로드 시 데이터 처리 */\n  useEffect(() => {\n    async function fetchVideo() {\n      loading.showLoading(\"영상을 불러오고 있습니다.\");\n\n      const prVideoData = route.params.videoData;\n      let httpDownloadUrl = \"\";\n      if (prVideoData.sourceUrl)\n        httpDownloadUrl = await getVideoDownloadURL(prVideoData.sourceUrl!);\n      setVideoPath(httpDownloadUrl);\n      // 수정할 데이터들 초기화\n      setEditVideoTitle(prVideoData.title!);\n      setEditVideoDescription(prVideoData.description!);\n      setEditSongInfo(prVideoData.song!);\n      setEditPlaceInfo(prVideoData.place!);\n      // 초기 데이터들 가져오기, 초기 데이터에서 변경점이 생겨야지 수정 등록 가능\n      setInitVideoTitle(prVideoData.title!);\n      setInitVideoDescription(prVideoData.description!);\n      setInitSongInfo(prVideoData.song!);\n      setInitPlaceInfo(prVideoData.place!);\n      loading.hideLoading();\n    }\n\n    if (route.params.videoData.videoId) fetchVideo();\n  }, [route.params.videoData]);\n\n  useEffect(() => {\n    // 바뀐게 없으면 수정하게 두지 말기\n    if (\n      editVideoTitle === initVideoTitle &&\n      editVideoDescription === initVideoDescription &&\n      editSongInfo.title === initSongInfo.title &&\n      editSongInfo.singer === initSongInfo.singer &&\n      editPlaceInfo.name === initPlaceInfo.name\n    ) {\n      setPostable(false);\n    }\n    // 장소, 설명은 optional 제목, 노래는 required\n    else if (editVideoTitle.length < 2 || !editSongInfo.title) {\n      setPostable(false);\n    } else {\n      setPostable(true);\n    }\n  }, [\n    editVideoTitle,\n    editVideoDescription,\n    editSongInfo,\n    editPlaceInfo,\n    initPlaceInfo,\n    initSongInfo,\n    initVideoDescription,\n    initVideoTitle,\n  ]);\n\n  /** 수정버튼 눌렀을 때의 처리 */\n  const handleOnEditPressed = useCallback(async () => {\n    const answer = await asyncAlert(\"수정하시겠습니까?\");\n\n    if (answer) {\n      if (postable) {\n        loading.showLoading(\"영상 정보를 수정하고 있습니다.\");\n\n        const result = await QueResourceClient.updateVideoData(\n          route.params.videoData.videoId!,\n          {\n            title: editVideoTitle,\n            description: editVideoDescription,\n            song: editSongInfo,\n            place: editPlaceInfo,\n          }\n        );\n\n        if (result.success) {\n          alert(\"수정이 완료되었습니다.\");\n        } else {\n          alert(\"수정에 실패했습니다.\");\n        }\n        loading.hideLoading();\n\n        if (result.success) navigation.navigate(\"Home\");\n      } else {\n        Toast.show({\n          description: \"수정에 실패했습니다. 입력을 확인해주세요.\",\n        });\n      }\n    }\n  }, [\n    editVideoTitle,\n    editVideoDescription,\n    editSongInfo,\n    editPlaceInfo,\n    postable,\n    route.params.videoData.videoId,\n  ]);\n\n  /** 삭제버튼 눌렀을 때의 처리 */\n  const handleOnDeletePressed = useCallback(async () => {\n    const answer = await asyncAlert(\n      \"정말 삭제하시겠습니까?\",\n      \"삭제는 되돌릴 수 없습니다!\"\n    );\n\n    // 개발 중 auto reload 시 버그로 인해 추가합니다.\n    if (videoPath) {\n      if (answer) {\n        // OK\n        loading.showLoading(\"영상을 삭제하고 있습니다.\");\n\n        const result = await QueResourceClient.deleteVideo(\n          route.params.videoData.videoId!\n        );\n\n        if (result.success) {\n          alert(\"삭제가 완료되었습니다.\");\n        } else {\n          alert(\"삭제에 실패했습니다.\");\n        }\n        loading.hideLoading();\n\n        navigation.navigate(\"Home\");\n      } else {\n        // NO, do nothing\n      }\n    }\n  }, [videoPath, route.params.videoData.videoId]);\n\n  /** 헤더 설정 */\n  useLayoutEffect(() => {\n    navigation.setOptions({\n      header: (props) => (\n        <CommonHeader\n          {...props}\n          buttonType={postable ? \"enabledBorder\" : \"disabled\"}\n          onPress={handleOnEditPressed}\n        />\n      ),\n      headerShown: true,\n    });\n  }, [postable, handleOnEditPressed, navigation]);\n\n  return (\n    <SafeAreaView style={screens.defaultScreenLayout}>\n      <VideoDataInputFieldSet\n        videoPath={videoPath}\n        videoTitle={editVideoTitle}\n        setVideoTitle={setEditVideoTitle}\n        videoDescription={editVideoDescription}\n        setVideoDescription={setEditVideoDescription}\n        songInfo={editSongInfo}\n        setSongInfo={setEditSongInfo}\n        placeInfo={editPlaceInfo}\n        setPlaceInfo={setEditPlaceInfo}\n      />\n      <View style={styles.bottomDangerZone}>\n        <RoundedButton\n          style={styles.roundedButton}\n          buttonType=\"danger\"\n          onPress={handleOnDeletePressed}\n        >\n          영상 삭제\n        </RoundedButton>\n      </View>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  bottomDangerZone: {\n    paddingBottom: bSpace.middle,\n    alignItems: \"flex-end\",\n  },\n  roundedButton: {\n    width: bSpace.large * 6,\n    height: bFont.large * 2,\n    fontSize: bFont.large,\n    marginRight: bSpace.middle,\n  },\n});\n\nexport default VideoEditScreen;\n","import { AVPlaybackStatus, Video } from \"expo-av\";\nimport { useCallback, useEffect, useRef, useState } from \"react\";\nimport { Pressable, ScrollView, Text, View } from \"react-native\";\nimport styles, { iconStyles } from \"./VideoPlayer.style\";\nimport {\n  VideoBottomController,\n  VideoMiddleController,\n  VideoPlayerProps,\n} from \"./VideoPlayer.subset\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\nimport { useToggleTimer } from \"../../hooks/useTimer\";\nimport { INFO_HIDE_TIMER } from \"./VideoPlayer.global\";\nimport { formatCount, formatDate } from \"../../utils/formatter\";\nimport QueResourceClient from \"../../api/QueResourceUtils\";\nimport LikeType from \"../../types/Like\";\nimport { MAX_VIDEO_LIKE_LIMIT } from \"../../api/interfaces\";\nimport { useToast } from \"native-base\";\nimport UserType from \"../../types/User\";\nimport { useNotImplementedWarning } from \"../../hooks/useWarning\";\nimport { useAuth } from \"../../hooks/useAuth\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { MainStackNavigationProp } from \"../../navigators/MainNavigator\";\n\n/** 조작하지 않을 시 컨트롤러 사라지는 시간 */\nconst CONTROL_HIDE_TIMER = 2000;\n\n/**\n * 간소화된 비디오 플레이어 컴포넌트 입니다.\n * 화면의 전체를 덮지 않고 다른 UI 컴포넌트와 함께 사용될 필요가 있을 때 사용합니다.\n * TBD 전반적인 터치 액션 강화 (ex 10초 앞 뒤 건너뛰기)\n */\nfunction MainVideoPlayer(props: VideoPlayerProps) {\n  // TBD SimplifiedVideoPlayer와 공통 코드 분리\n  const videoPlayer = useRef<Video>(null);\n  const [isLoaded, setIsLoaded] = useState<boolean>(false);\n  const [isPlaying, setIsPlaying] = useState<boolean>(false);\n  const [didJustFinish, setDidJustFinish] = useState<boolean>(false);\n  const [isBuffering, setIsBuffering] = useState<boolean>(false);\n  const [videoPosition, setVideoPosition] = useState<number>(0);\n  const [videoLength, setVideoLength] = useState<number>(1);\n  // const [videoPlayableBuffer, setVideoPlayableBuffer] = useState<number>(0);\n  const [isControlHidden, setIsControlHidden] = useState<boolean>(false);\n  const [isInfoHidden, setIsInfoHidden] = useState<boolean>(false);\n\n  /** 현재 로그인한 사용자의 영상인지 확인 */\n  const [isMyVideo, setIsMyVideo] = useState<boolean>(false);\n  const { user } = useAuth();\n  useEffect(() => {\n    if (user.userId === (props.videoData.uploader as UserType).userId) {\n      setIsMyVideo(true);\n    } else {\n      setIsMyVideo(false);\n    }\n  }, [user.userId, props.videoData.uploader]);\n\n  /** 에러 표시용 */\n  const toast = useToast();\n\n  /** 영상이 끝나면 재생 버튼 표시하기 */\n  useEffect(() => {\n    if (didJustFinish) {\n      setIsControlHidden(false);\n      setIsInfoHidden(false);\n    }\n  }, [didJustFinish]);\n\n  /** 영상 재생 상태 변화에 따른 처리 */\n  const handleOnPlaybackStatusUpdate = useCallback(\n    (playbackStatus: AVPlaybackStatus) => {\n      if (!playbackStatus.isLoaded) {\n        if (playbackStatus.error) {\n          // TBD error 처리\n          console.error(playbackStatus.error);\n        }\n      } else {\n        setIsLoaded(playbackStatus.isLoaded);\n        setIsPlaying(playbackStatus.isPlaying);\n        setDidJustFinish(playbackStatus.didJustFinish);\n        setIsBuffering(playbackStatus.isBuffering);\n        setVideoPosition(playbackStatus.positionMillis);\n        if (playbackStatus.durationMillis)\n          setVideoLength(playbackStatus.durationMillis);\n        // if (playbackStatus.playableDurationMillis) {\n        //   // TBD 버퍼링 정도도 보여줄 수 있는 slider 구현\n        //   setVideoPlayableBuffer(playbackStatus.playableDurationMillis);\n        // }\n      }\n    },\n    []\n  );\n\n  /** 영상 Seekbar 사용 함수 */\n  const seekVideo = useCallback(\n    (position) => {\n      if (isLoaded) {\n        videoPlayer.current?.setPositionAsync(videoLength * position);\n      }\n    },\n    [videoLength, isLoaded]\n  );\n\n  /** 오버레이 숨김 처리 타이머 활성화 / 비활성화 함수 */\n  const refreshHidingControlTimer = useToggleTimer(\n    setIsControlHidden,\n    true,\n    CONTROL_HIDE_TIMER\n  );\n\n  /** 영상 설명 숨김 처리 타이머 할성화 / 비활성화 함수 */\n  const refreshHidingInfoTimer = useToggleTimer(\n    setIsInfoHidden,\n    true,\n    INFO_HIDE_TIMER\n  );\n\n  /** 오버레이 표시 상태에서 오버레이 영역 터치 시 오버레이 지우기 */\n  const clearOverlay = useCallback(() => {\n    if (!isControlHidden) {\n      refreshHidingControlTimer();\n      refreshHidingInfoTimer();\n      setIsControlHidden(true);\n      setIsInfoHidden(true);\n    }\n  }, [isControlHidden]);\n\n  /** 오버레이 비표시 상태에서 비디오 영역 터치 시 오버레이 표시하기 */\n  const displayOverlay = useCallback(() => {\n    if (isControlHidden) {\n      refreshHidingControlTimer({ updateNewTimer: isPlaying });\n      refreshHidingInfoTimer({ updateNewTimer: isPlaying });\n      setIsControlHidden(false);\n      setIsInfoHidden(false);\n    }\n  }, [isControlHidden, isPlaying]);\n\n  /** 재생 / 정지 토글 함수 */\n  const togglePlay = useCallback(() => {\n    // TBD Web에서 좀 더 우아하게 컨트롤 표시 처리하기\n    // 차라리 웹 전용 컴포넌트를 만드는게 더 유리할수도(장기계획)\n    if (isLoaded) {\n      refreshHidingControlTimer({ updateNewTimer: !isPlaying });\n      refreshHidingInfoTimer({ updateNewTimer: !isPlaying });\n      if (isPlaying) {\n        videoPlayer.current?.pauseAsync();\n      } else {\n        if (didJustFinish) {\n          videoPlayer.current?.setPositionAsync(0);\n        }\n        videoPlayer.current?.playAsync();\n      }\n    }\n  }, [isPlaying, isLoaded, didJustFinish, videoPlayer]);\n\n  /** 영상 정보 표시 영역의 표시를 계속 유지한다. */\n  const sustainInfoView = useCallback(() => {\n    if (isPlaying) {\n      refreshHidingInfoTimer({ updateNewTimer: true });\n    }\n  }, [isPlaying]);\n\n  // 좋아요 관련 기능 영역\n\n  /** 좋아요 데이터 묶음 */\n  const [likeDataArray, setLikeDataArray] = useState<LikeType[]>([]);\n  /** 좋아요 추가 가능 여부 */\n  const [noMoreLike, setNoMoreLike] = useState<boolean>(false);\n\n  // 영상 수정 관련 기능 영역\n  /** 네비게이션 객체 사용 */\n  const navigation = useNavigation<MainStackNavigationProp>();\n  const handleOnEditPressed = useCallback(() => {\n    navigation.navigate(\"VideoEdit\", { videoData: props.videoData });\n  }, [props.videoData]);\n\n  // 아직 미구현 표시\n  const notImplemented = useNotImplementedWarning();\n\n  /** 좋아요 버튼 터치 시 API 호출 함수 */\n  // TBD 좋아요 / 좋아요 취소 시 화면상의 좋아요 개수 반영하기, (숫자 증감, 좋아요 개수를 state로 만들기)\n  const likeThisVideo = useCallback(async () => {\n    if (props.videoData.videoId && !noMoreLike) {\n      // videoPosition status를 사용하면 즉각적으로 위치가 업데이트 되지 않습니다.\n      // 따라서 videoPlayer ref를 사용해서 데이터를 가져옵니다.\n      // 성능을 일부 포기하고 기능을 구현했다고 생각하면 될듯합니다.\n      const videoStatus = await videoPlayer.current?.getStatusAsync();\n      const likePosition = videoStatus?.isLoaded\n        ? videoStatus.positionMillis\n        : 0;\n      const result = await QueResourceClient.likeVideo(\n        props.videoData.videoId,\n        likePosition\n      );\n\n      if (result.success && result.payload) {\n        setLikeDataArray(result.payload);\n      } else {\n        toast.show({\n          description: `좋아요 중 문제가 발생했습니다. ${result.errorType}`,\n        });\n      }\n    }\n  }, [videoPosition, props.videoData, videoPlayer, noMoreLike]);\n\n  /** 좋아요 버튼 취소 API 호출 함수 */\n  const dislikeThisVideo = useCallback(async (likeData: LikeType) => {\n    const result = await QueResourceClient.dislikeVideo(\n      likeData.targetId!,\n      likeData.likeId!\n    );\n\n    if (result.success) {\n      setLikeDataArray(result.payload!);\n    } else {\n      toast.show({\n        description: `좋아요 취소 중 문제가 발생했습니다. ${result.errorType}`,\n      });\n    }\n  }, []);\n\n  /** 화면 최초 로드 시 영상 데이터 불러오기 */\n  useEffect(() => {\n    const getLikes = async () => {\n      const rt = await QueResourceClient.getMyLikeReactions(\n        \"video\",\n        props.videoData.videoId!\n      );\n\n      if (rt.success) setLikeDataArray(rt.payload!);\n      else {\n        console.error(rt.errorType);\n      }\n    };\n\n    getLikes();\n  }, []);\n\n  /** 좋아요 개수 제한 */\n  useEffect(() => {\n    if (likeDataArray.length >= MAX_VIDEO_LIKE_LIMIT) {\n      setNoMoreLike(true);\n    } else {\n      setNoMoreLike(false);\n    }\n  }, [likeDataArray]);\n\n  // 렌더링 영역\n  return (\n    <View style={styles.container}>\n      <View style={styles.videoCoreContainer}>\n        <Video\n          style={styles.videoCore}\n          source={{ uri: props.videoSource }}\n          ref={videoPlayer}\n          resizeMode=\"contain\"\n          onPlaybackStatusUpdate={handleOnPlaybackStatusUpdate}\n        />\n      </View>\n      {/* 비디오 영역 터치 대응 */}\n      <Pressable\n        onPress={displayOverlay}\n        style={styles.videoTransparentPressableArea}\n      />\n      {/* 어둡게 오버레이 */}\n      {!isControlHidden ? (\n        <Pressable onPress={clearOverlay} style={styles.videoDarkOverlay} />\n      ) : null}\n      <View onTouchStart={sustainInfoView} style={styles.videoControllerView}>\n        {/* 상단 영역 (영상 정보) */}\n        {!isInfoHidden ? (\n          <View style={styles.videoUpperControllerContainer}>\n            <View style={styles.videoInfoContainer}>\n              <View style={styles.videoInfoRow}>\n                <Text\n                  numberOfLines={1}\n                  style={[styles.videoTitleText, styles.videoInfoColor]}\n                >\n                  {props.videoData.title ? props.videoData.title : \"Untitled\"}\n                </Text>\n                <View style={styles.videoReactionContainer}>\n                  <View style={styles.videoReactionRow}>\n                    <View style={styles.videoReactionItem}>\n                      <MaterialIcons\n                        name=\"favorite-border\"\n                        color={iconStyles.color}\n                        size={iconStyles.sizeLarge}\n                        style={styles.videoReactionItem}\n                      />\n                      <Text\n                        style={[\n                          styles.videoReactionText,\n                          styles.videoInfoColor,\n                          styles.videoReactionItem,\n                        ]}\n                      >\n                        {props.videoData.likeCount\n                          ? formatCount(props.videoData.likeCount)\n                          : 0}\n                      </Text>\n                    </View>\n                    <View style={styles.videoReactionItem}>\n                      <MaterialIcons\n                        name=\"star-border\"\n                        color={iconStyles.color}\n                        size={\n                          iconStyles.sizeLarge +\n                          2 /** 이 아이콘만 묘하게 크기가 작아요 */\n                        }\n                        style={styles.videoReactionItem}\n                      />\n                      <Text\n                        style={[\n                          styles.videoReactionText,\n                          styles.videoInfoColor,\n                          styles.videoReactionItem,\n                        ]}\n                      >\n                        {props.videoData.starCount\n                          ? formatCount(props.videoData.starCount)\n                          : 0}\n                      </Text>\n                    </View>\n                  </View>\n                  <View style={styles.videoReactionRow}>\n                    <Text\n                      style={[\n                        styles.videoReactionText,\n                        styles.videoInfoColor,\n                        styles.videoReactionItem,\n                      ]}\n                    >\n                      Views\n                    </Text>\n                    <Text\n                      style={[\n                        styles.videoReactionText,\n                        styles.videoInfoColor,\n                        styles.videoReactionItem,\n                      ]}\n                    >\n                      {props.videoData.viewCount\n                        ? formatCount(props.videoData.viewCount)\n                        : 0}\n                    </Text>\n                  </View>\n                </View>\n              </View>\n              <View style={styles.videoInfoRow}>\n                <Text style={[styles.videoInfoText, styles.videoInfoColor]}>\n                  {props.videoData.song\n                    ? props.videoData.song.title\n                    : \"곡 정보 없음\"}\n                </Text>\n                <Text style={[styles.videoInfoText, styles.videoInfoColor]}>\n                  {props.videoData.uploadedAt\n                    ? formatDate(props.videoData.uploadedAt)\n                    : \"0000-00-00\"}\n                </Text>\n              </View>\n              <View style={styles.videoInfoRow}>\n                <Text style={[styles.videoUploaderText, styles.videoInfoColor]}>\n                  {(props.videoData.uploader as UserType).nickname\n                    ? (props.videoData.uploader as UserType).nickname\n                    : \"placeholderUser\"}\n                </Text>\n                {isMyVideo ? (\n                  <Pressable onPress={handleOnEditPressed}>\n                    <MaterialIcons\n                      selectable={false}\n                      name=\"create\"\n                      color={iconStyles.color}\n                      size={iconStyles.sizeXlarge}\n                    />\n                  </Pressable>\n                ) : (\n                  <Pressable\n                    onPress={() => {\n                      // TBD 팔로우 기능\n                      notImplemented();\n                    }}\n                  >\n                    <MaterialIcons\n                      selectable={false}\n                      name=\"person-add\"\n                      color={iconStyles.color}\n                      size={iconStyles.sizeXlarge}\n                    />\n                  </Pressable>\n                )}\n              </View>\n              <View style={styles.videoInfoRow}>\n                {/* {TBD 더보기 누르면 description 표시} */}\n                <ScrollView\n                  style={styles.videoDescriptionContainer}\n                  onScroll={sustainInfoView}\n                >\n                  <Text\n                    style={[styles.videoDescriptionText, styles.videoInfoColor]}\n                  >\n                    {props.videoData.description}\n                  </Text>\n                </ScrollView>\n              </View>\n            </View>\n          </View>\n        ) : null}\n        {/* 중단 영역 */}\n        <View style={styles.videoMiddleControllerContainer}>\n          <View style={styles.videoMiddleDummyArea} />\n          <VideoMiddleController\n            isBuffering={isBuffering}\n            isControlHidden={isControlHidden}\n            togglePlay={togglePlay}\n            isPlaying={isPlaying}\n            didJustFinish={didJustFinish}\n          />\n          {!isControlHidden ? (\n            <View style={styles.videoMiddleButtonContainer}>\n              <Pressable onPress={likeThisVideo}>\n                <MaterialIcons\n                  selectable={false}\n                  style={styles.videoMiddleButton}\n                  color={noMoreLike ? iconStyles.heartColor : iconStyles.color}\n                  name={\"favorite\"}\n                />\n                <Text selectable={false} style={styles.videoMiddleButtonText}>\n                  좋아요\n                </Text>\n              </Pressable>\n              <View style={styles.videoMiddleButtonSpace} />\n              <Pressable\n                onPress={() => {\n                  /** TBD 평가하기 */\n                  notImplemented();\n                }}\n              >\n                <MaterialIcons\n                  selectable={false}\n                  style={styles.videoMiddleButton}\n                  color={iconStyles.color}\n                  name={\"star\"}\n                />\n                <Text selectable={false} style={styles.videoMiddleButtonText}>\n                  평가하기\n                </Text>\n              </Pressable>\n            </View>\n          ) : null}\n        </View>\n        {/* 하단 영역 */}\n        <VideoBottomController\n          togglePlay={togglePlay}\n          isPlaying={isPlaying}\n          didJustFinish={didJustFinish}\n          videoPosition={videoPosition}\n          videoLength={videoLength}\n          seekVideo={seekVideo}\n          useLikes\n          onLike={likeThisVideo}\n          onDislike={dislikeThisVideo}\n          likesData={likeDataArray}\n          noMoreLike={noMoreLike}\n        />\n      </View>\n    </View>\n  );\n}\n\nexport default MainVideoPlayer;\n","import { Video } from \"expo-av\";\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { Button, StyleSheet, View } from \"react-native\";\nimport QueResourceClient, {\n  getVideoDownloadURL,\n} from \"../../api/QueResourceUtils\";\nimport MainVideoPlayer from \"../../components/videoPlayers/MainVideoPlayer\";\nimport { useLoadingIndicator } from \"../../hooks/useLoadingIndicator\";\nimport { useViewList } from \"../../hooks/useViewList\";\nimport { MainStackScreenProp } from \"../../navigators/MainNavigator\";\nimport { bColors } from \"../../styles/base\";\nimport VideoType from \"../../types/Video\";\n\n/**\n * 비디오 재생 화면\n */\nconst VideoScreen = ({ route, navigation }: MainStackScreenProp<\"Video\">) => {\n  const [targetVideoData, setTargetVideoData] = useState<VideoType>({});\n  const [videoUrl, setVideoUrl] = useState<string>(\"\");\n\n  /** 비디오에 대한 시청 수를 올리는 커스텀 훅 Callback */\n  const increaseViewCount = useViewList();\n\n  const loading = useLoadingIndicator();\n\n  /** 비디오 화면 최초 렌더링 시 로딩 표시 우선 */\n  useEffect(() => {\n    loading.showLoading();\n  }, []);\n\n  /** 비디오 다운로드 가능한 주소 반환 */\n  useEffect(() => {\n    async function fetchVideo(videoUrl: string) {\n      const httpDownloadUrl = await getVideoDownloadURL(videoUrl);\n      setVideoUrl(httpDownloadUrl);\n      loading.hideLoading();\n    }\n\n    if (targetVideoData.sourceUrl) fetchVideo(targetVideoData.sourceUrl);\n  }, [targetVideoData.sourceUrl]);\n\n  useEffect(() => {\n    /** 비디오 정보를 서버로부터 가져옴 */\n    async function fetchVideoInfo(videoId: string) {\n      const result = await QueResourceClient.getVideoData(videoId);\n\n      if (result.success) {\n        setTargetVideoData(result.payload!);\n      } else {\n        // TBD 에러 처리\n        console.error(result.errorType);\n      }\n    }\n\n    if (route.params.videoId) {\n      increaseViewCount(route.params.videoId);\n      fetchVideoInfo(route.params.videoId);\n    } else {\n      // TBD VideoId 제공되지 않았음을 알리는 컴포넌트 표출\n    }\n  }, [route.params.videoId]);\n\n  return (\n    <View style={styles.container}>\n      {!targetVideoData.videoId ? null : (\n        <MainVideoPlayer videoData={targetVideoData} videoSource={videoUrl} />\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: bColors.black,\n  },\n});\n\nexport default VideoScreen;\n","import { useCallback } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport QueResourceClient from \"../api/QueResourceUtils\";\nimport { selectViewList } from \"../reducers/authReducer\";\nimport { useAppDispatch } from \"./useAppDispatch\";\nimport { addViewedVideo } from \"../reducers/authReducer\";\n\n/** 로그인 한 사용자가 시청한 목록을 저장해 중복을 방지하면서 시청 수 증가를 하는 함수를 반환합니다. */\nexport const useViewList = () => {\n  const dispatch = useAppDispatch();\n\n  const viewList = useSelector(selectViewList);\n\n  return useCallback(\n    async (videoId: string) => {\n      if (viewList[videoId]) {\n        // 이미 시청함\n        // do nothing\n        return;\n      } else {\n        // 시청 수 상승\n        try {\n          const result = await QueResourceClient.increaseVideoViewCount(\n            videoId\n          );\n          if (result.success) dispatch(addViewedVideo({ videoId: videoId }));\n        } catch (error) {\n          console.error(error);\n          return;\n        }\n      }\n    },\n    [viewList]\n  );\n};\n","import { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport { SafeAreaView } from \"react-native\";\nimport DummyComponent from \"../../components/common/DummyComponent\";\nimport MainScreenHeader from \"../../components/headers/MainScreenHeader\";\nimport { MainStackParamList } from \"../../navigators/MainNavigator\";\nimport screens from \"../../styles/screens\";\nimport HomeScreen from \"./HomeScreen/HomeScreen\";\nimport UploadScreen from \"./UploadScreen/UploadScreen\";\nimport UserPageScreen from \"./UserPageScreen\";\nimport VideoEditScreen from \"./VideoEditScreen\";\nimport VideoScreen from \"./VideoScreen\";\n\n/** 메인 스택 네비게이터 컴포넌트 */\nconst MainStack = createNativeStackNavigator<MainStackParamList>();\n\n/**\n * 어플리케이션 메인 스크린\n */\nfunction MainScreen() {\n  return (\n    <SafeAreaView style={screens.defaultScreenLayout}>\n      <MainStack.Navigator\n        screenOptions={{\n          header: (props) => <MainScreenHeader {...props} />,\n        }}\n      >\n        <MainStack.Screen name=\"Home\" component={HomeScreen} />\n        <MainStack.Screen\n          name=\"Upload\"\n          options={{ headerShown: false }}\n          component={UploadScreen}\n        />\n        <MainStack.Screen\n          name=\"Video\"\n          options={{ headerShown: false }}\n          component={VideoScreen}\n        />\n        <MainStack.Screen name=\"UserPage\" component={UserPageScreen} />\n        <MainStack.Screen name=\"Notification\" component={DummyComponent} />\n        <MainStack.Screen name=\"Search\" component={DummyComponent} />\n        <MainStack.Screen\n          name=\"VideoEdit\"\n          options={{ headerShown: false }}\n          component={VideoEditScreen}\n        />\n      </MainStack.Navigator>\n    </SafeAreaView>\n  );\n}\n\nexport default MainScreen;\n","import { StyleSheet, TextStyle } from \"react-native\";\nimport { bColors, bFont, bSpace } from \"../../styles/base\";\nimport { Platform } from \"react-native\";\n\nconst sharedShadow = {\n  shadowOpacity: 0.5,\n  shadowRadius: 3,\n  shadowOffset: {\n    height: 1,\n    width: 1,\n  },\n};\n\nconst socialLoginButtonStyles = StyleSheet.create({\n  buttonContainer: {\n    height: bFont.xlarge,\n    width: bFont.xlarge,\n    borderRadius: bFont.xlarge,\n    ...Platform.select({\n      web: sharedShadow,\n      ios: sharedShadow,\n    }),\n    ...Platform.select({\n      android: {\n        elevation: 3,\n      },\n    }),\n  },\n  buttonPressable: {\n    borderRadius: bFont.xlarge,\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    overflow: \"hidden\",\n  },\n  buttonImage: {\n    flex: 1,\n    resizeMode: \"contain\",\n  },\n});\n\nexport default socialLoginButtonStyles;\n","import { useAssets } from \"expo-asset\";\nimport { useEffect, useState } from \"react\";\nimport {\n  GestureResponderEvent,\n  Image,\n  ImageSourcePropType,\n  Pressable,\n  PressableProps,\n  View,\n  ViewProps,\n} from \"react-native\";\nimport socialLoginButtonStyles from \"./SocialLoginButton.style\";\n\nconst styles = socialLoginButtonStyles;\n\nexport type SocialButtonType = \"default\" | \"google\" | \"kakao\" | \"naver\";\n\n/**\n * 버튼 컴포넌트 프로퍼티\n */\nexport interface SocialLoginButtonProps extends ViewProps {\n  buttonType?: SocialButtonType;\n  size?: number;\n  onPress?: ((event: GestureResponderEvent) => void) | null | undefined;\n}\n\n/**\n * Que 어플리케이션에서 기본적으로 자주 사용하게 될 끝이 둥근 네모난 버튼 컴포넌트\n * <Text> 처럼 사용할 수 있습니다.\n */\nfunction SocialLoginButton(props: SocialLoginButtonProps) {\n  const [imgNumber, setImgNumber] = useState<number>(0);\n\n  const [assets, error] = useAssets([\n    require(\"../../assets/favicon.png\"),\n    require(\"../../assets/socials/google-small.png\"),\n    require(\"../../assets/socials/naver-small.png\"),\n    require(\"../../assets/socials/kakao-small.png\"),\n  ]);\n\n  useEffect(() => {\n    switch (props.buttonType) {\n      case \"google\":\n        setImgNumber(1);\n        break;\n      case \"naver\":\n        setImgNumber(2);\n        break;\n      case \"kakao\":\n        setImgNumber(3);\n        break;\n      default:\n        setImgNumber(0);\n    }\n  }, [props.buttonType]);\n\n  return (\n    <View testID={props.testID} style={[styles.buttonContainer, props.style]}>\n      <Pressable\n        testID=\"socialLoginButtonPressable\"\n        style={styles.buttonPressable}\n        onPress={props.onPress}\n      >\n        {assets ? (\n          <Image\n            style={styles.buttonImage}\n            source={assets[imgNumber] as ImageSourcePropType}\n          />\n        ) : null}\n      </Pressable>\n    </View>\n  );\n}\n\nexport default SocialLoginButton;\n","import { GestureResponderEvent, View, ViewProps } from \"react-native\";\nimport navBarStyle from \"./navbar.style\";\nimport RoundedButton from \"../buttons/RoundedButton\";\n\n/** 스타일 객체 */\nconst styles = navBarStyle;\n\ninterface WizardNavBarProps extends ViewProps {\n  hideSkipButton: boolean;\n  enableNextButton: boolean;\n  onSkip?: (event: GestureResponderEvent) => void;\n  onNext?: (event: GestureResponderEvent) => void;\n  nextButtonText: string;\n}\n\n/**\n * 위자드 형식의 입력 시퀀스에서 사용 가능한 NavBar\n * \"다음\" 버튼과 \"건너뛰기\" 버튼으로 이루어짐.\n */\nfunction WizardNavBar(props: WizardNavBarProps) {\n  return (\n    <View style={[styles.default, styles.wizardNavBarContainer]}>\n      <View style={styles.wizardButtonContainer}>\n        {props.hideSkipButton ? null : (\n          <RoundedButton\n            style={{\n              ...styles.wizardButton,\n              ...styles.skipButton,\n            }}\n            onPress={props.onSkip}\n          >\n            건너뛰기\n          </RoundedButton>\n        )}\n      </View>\n      <View style={styles.wizardButtonContainer}>\n        <RoundedButton\n          buttonType={props.enableNextButton ? \"enabledDark\" : \"disabled\"}\n          style={{ ...styles.wizardButton, ...styles.nextButton }}\n          onPress={props.onNext}\n        >\n          {props.nextButtonText}\n        </RoundedButton>\n      </View>\n    </View>\n  );\n}\n\nWizardNavBar.defaultProps = {\n  nextButtonText: \"다음\",\n};\n\nexport default WizardNavBar;\n","/**\n * 문자열을 입력받아 그것이 email 주소의 형태를 가지고 있는 지 판명하는 함수.\n * @param mailAddress 검증하려는 메일 주소\n * @returns 검증 통과 여부\n */\nexport function validateEmail(mailAddress: string) {\n  const mailRegex = /^\\S+@\\S+\\.\\S+$/;\n\n  const result = new RegExp(mailRegex).test(mailAddress);\n\n  return result;\n}\n\nexport type ValidatePasswordReasons =\n  | \"pass\"\n  | \"short\"\n  | \"number\"\n  | \"letter\"\n  | \"space\"\n  | \"special\";\n\n/**\n * 문자열을 입력받아 그것이 비밀번호 규칙을 준수하는지 판명하는 함수.\n * @param password\n * @returns [준수여부, 미준수 사유]\n */\nexport function validatePassword(\n  password: string\n): [boolean, ValidatePasswordReasons] {\n  const SPECIALS = /^[\\w !\"#$%&'()*+,\\-.\\/:;<=>?@[\\]\\^_`{\\|}~\\\\]+$/;\n  if (password.length < 8) return [false, \"short\"];\n  if (!/\\d/.test(password)) return [false, \"number\"];\n  if (!/[a-zA-Z]/.test(password)) return [false, \"letter\"];\n  if (password[0] === \" \" || password[password.length - 1] === \" \")\n    return [false, \"space\"];\n  if (!SPECIALS.test(password)) return [false, \"special\"];\n  return [true, \"pass\"];\n}\n\n/**\n * 문자열을 입력받아 이름 규칙을 준수하는지 판명하는 함수.\n */\nexport function validateNickname(nickname: string): boolean {\n  if (nickname.length < 2 || nickname.length > 12) return false;\n  return /^[가-힣|\\w]+$/.test(nickname);\n}\n","import { StyleSheet } from \"react-native\";\nimport { bColors, bFont, bSpace } from \"../../../styles/base\";\n\nexport const signInScreenStyle = StyleSheet.create({\n  titleContainer: {\n    flex: 0.7,\n    justifyContent: \"flex-end\",\n    alignItems: \"center\",\n    marginBottom: bSpace.xlarge,\n  },\n  titleLogo: { resizeMode: \"contain\", maxHeight: 72 },\n  bottomContainer: {\n    flex: 1,\n    marginHorizontal: bSpace.xlarge * 2,\n    marginTop: bSpace.xlarge,\n  },\n  textInput: {\n    fontSize: bFont.large,\n    marginBottom: bSpace.large + bSpace.middle,\n  },\n});\n","import { useAssets } from \"expo-asset\";\nimport { StatusBar } from \"expo-status-bar\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport {\n  Image,\n  ImageSourcePropType,\n  NativeSyntheticEvent,\n  SafeAreaView,\n  TextInputKeyPressEventData,\n  View,\n} from \"react-native\";\nimport SocialLoginButton from \"../../../components/buttons/SocialLoginButton\";\nimport CommonTextInput from \"../../../components/inputs/CommonTextInput\";\nimport WizardNavBar from \"../../../components/navbars/WizardNavBar\";\nimport screens from \"../../../styles/screens\";\nimport { validateEmail } from \"../../../utils/validator\";\nimport { signInScreenStyle } from \"./SignInScreen.style\";\n\nimport * as WebBrowser from \"expo-web-browser\";\nimport { useSignInWithQue, useSignWithGoogle } from \"../../../hooks/useSign\";\n\nconst styles = signInScreenStyle;\n\nWebBrowser.maybeCompleteAuthSession();\n\n/**\n * 사용자 로그인 화면\n */\nfunction SignInScreen() {\n  const [userEmail, setUserEmail] = useState<string>(\"\");\n  const [password, setPassword] = useState<string>(\"\");\n\n  /** 로그인 버튼 활성화 여부 */\n  const [isTriable, setIsTriable] = useState<boolean>(false);\n\n  /** 로고 표시용 에셋 */\n  const [assets, error] = useAssets([\n    require(\"../../../assets/custom/logo-big.png\"),\n  ]);\n\n  /** 이메일과 비밀번호를 통해 로그인 진행 */\n  const loginWithQue = useSignInWithQue(true);\n\n  /**\n   * Google Auth를 통한 계정 인증\n   * 이미 등록된 Google 계정이 있으면 로그인 진행 후 main 화면으로\n   * 등록된 Google 계정이 없으면 회원 가입 화면으로\n   */\n  const signWithGoogle = useSignWithGoogle();\n\n  /** 이메일과 비밀번호가 입력되었으면 버튼 활성화 */\n  useEffect(() => {\n    setIsTriable(validateEmail(userEmail) && password.length >= 8);\n  }, [userEmail, password]);\n\n  const handleOnEnterPressed = useCallback(\n    async (event: NativeSyntheticEvent<TextInputKeyPressEventData>) => {\n      if (event.nativeEvent.key == \"Enter\" && isTriable) {\n        await loginWithQue(userEmail, password);\n      } else {\n        // do nothing\n      }\n    },\n    [userEmail, password, isTriable]\n  );\n\n  const handleOnNextButtonPressed = useCallback(async () => {\n    await loginWithQue(userEmail, password);\n  }, [userEmail, password]);\n\n  return (\n    <SafeAreaView style={screens.defaultScreenLayout}>\n      <StatusBar translucent={false} />\n      <View style={styles.titleContainer}>\n        {assets ? (\n          <Image\n            style={styles.titleLogo}\n            source={assets[0] as ImageSourcePropType}\n          />\n        ) : null}\n      </View>\n\n      <View style={styles.bottomContainer}>\n        <CommonTextInput\n          style={styles.textInput}\n          autoFocus\n          accessibilityRole=\"text\"\n          textContentType=\"emailAddress\"\n          keyboardType=\"email-address\"\n          placeholder=\"이메일\"\n          onChangeText={(newStr) => setUserEmail(newStr)}\n          value={userEmail}\n          onKeyPress={(event) => {}}\n        />\n        <CommonTextInput\n          style={styles.textInput}\n          /** TBD : textinput의 버튼을 누르면 비밀번호 드러내기 */\n          secureTextEntry={true}\n          accessibilityRole=\"text\"\n          textContentType=\"password\"\n          placeholder=\"비밀번호\"\n          onChangeText={(newStr) => setPassword(newStr)}\n          value={password}\n          onKeyPress={handleOnEnterPressed}\n        />\n        <View>\n          <SocialLoginButton\n            buttonType=\"google\"\n            onPress={signWithGoogle}\n          ></SocialLoginButton>\n        </View>\n      </View>\n      <WizardNavBar\n        enableNextButton={isTriable}\n        hideSkipButton={true}\n        onNext={handleOnNextButtonPressed}\n      ></WizardNavBar>\n    </SafeAreaView>\n  );\n}\n\nexport default SignInScreen;\n","import { createContext, Dispatch, SetStateAction } from \"react\";\nimport { SignUpStackNavigationProp } from \"../../../navigators/OnBoardingNavigator\";\nimport UserType from \"../../../types/User\";\n\ntype SignUpContextType = {\n  signUpNavigator: SignUpStackNavigationProp | undefined;\n  buttonEnabled: boolean;\n  setButtonEnabled: Dispatch<SetStateAction<boolean>>;\n  hideButton: boolean;\n  setHideButton: Dispatch<SetStateAction<boolean>>;\n  buttonAction: { action: () => void }; // function을 바로 쓰지 않고 객체로 wrapping 해야 변경 가능합니다.\n  setButtonAction: Dispatch<SetStateAction<{ action: () => void }>>;\n  newUserProfile: UserType;\n  setNewUserProfile: Dispatch<SetStateAction<UserType>>;\n};\nconst defaultSignUpContext: SignUpContextType = {\n  signUpNavigator: undefined,\n  buttonEnabled: false,\n  setButtonEnabled: function (): void {\n    throw new Error(\"Function not implemented.\");\n  },\n  buttonAction: {\n    action: function (): void {\n      throw new Error(\"Function not implemented.\");\n    },\n  },\n  setButtonAction: function (): void {\n    throw new Error(\"Function not implemented.\");\n  },\n  hideButton: false,\n  setHideButton: function (value: SetStateAction<boolean>): void {\n    throw new Error(\"Function not implemented.\");\n  },\n  newUserProfile: {},\n  setNewUserProfile: function (value: SetStateAction<UserType>): void {\n    throw new Error(\"Function not implemented.\");\n  },\n};\n\n/**\n * 회원가입 흐름에 한정되어 사용할 Context\n */\nexport const SignUpContext =\n  createContext<SignUpContextType>(defaultSignUpContext);\n","import { StyleSheet } from \"react-native\";\nimport { bColors, bFont, bSpace } from \"../../../styles/base\";\n\nexport const signUpScreenStyle = StyleSheet.create({\n  titleContainer: {\n    flex: 1,\n    justifyContent: \"flex-end\",\n    alignItems: \"center\",\n  },\n  titleLogo: { resizeMode: \"contain\", maxHeight: 72 },\n  titleText: {\n    fontWeight: \"bold\",\n    fontSize: bFont.xlarge,\n    marginTop: bSpace.middle,\n    marginBottom: bSpace.xlarge,\n  },\n  bottomContainer: {\n    flex: 1,\n    marginTop: bSpace.middle,\n    marginHorizontal: bSpace.xlarge * 2,\n  },\n  upperContainer: {\n    flex: 1,\n    marginHorizontal: bSpace.xlarge * 2,\n  },\n  textInput: {\n    fontSize: bFont.large,\n    marginTop: bSpace.large * 2,\n  },\n  textInputUpper: {\n    fontSize: bFont.large,\n    marginTop: bSpace.large,\n  },\n  textInputNickname: {\n    marginTop: bSpace.xlarge,\n    fontSize: bFont.xlarge,\n    textAlign: \"center\",\n  },\n  messageText: {\n    marginTop: bSpace.middle,\n    fontSize: bFont.middle,\n    color: bColors.black,\n  },\n  errorMessageText: {\n    color: bColors.red,\n  },\n  messageTextButton: {\n    color: bColors.primary,\n  },\n  textAlignCenter: {\n    textAlign: \"center\",\n  },\n  textAlignRight: {\n    textAlign: \"right\",\n  },\n  profileUploadButtonInside: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  uploadButtonContainer: {\n    width: bFont.xlarge * 12,\n    height: bFont.xlarge * 12,\n    borderRadius: bFont.xlarge * 12,\n    borderWidth: bFont.small,\n    borderStyle: \"dashed\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  withImage: {\n    borderColor: bColors.greyPrimary,\n    borderWidth: 1,\n    borderStyle: \"solid\",\n  },\n  uploadButtonIcon: {\n    fontSize: bFont.xlarge * 8,\n  },\n  uploadButtonMessage: {\n    fontSize: bFont.middle,\n    marginTop: -bSpace.xlarge - bSpace.large,\n  },\n  uploadedImage: {\n    resizeMode: \"cover\",\n    height: bFont.xlarge * 12,\n    width: bFont.xlarge * 12,\n    borderRadius: bFont.xlarge * 12,\n  },\n});\n","import { useCallback, useContext, useEffect, useState } from \"react\";\nimport { SafeAreaView, StyleSheet, Text, View } from \"react-native\";\nimport { QueAuthResponse } from \"../../../api/interfaces\";\nimport authClient from \"../../../api/QueAuthUtils\";\nimport CommonTextInput from \"../../../components/inputs/CommonTextInput\";\nimport { useLoadingIndicator } from \"../../../hooks/useLoadingIndicator\";\nimport { useSignInWithQue } from \"../../../hooks/useSign\";\nimport { SignUpStackScreenProp } from \"../../../navigators/OnBoardingNavigator\";\nimport screens from \"../../../styles/screens\";\nimport {\n  validatePassword,\n  ValidatePasswordReasons,\n} from \"../../../utils/validator\";\nimport { SignUpContext } from \"./SignUpContext\";\nimport { signUpScreenStyle } from \"./SignUpScreen.style\";\n\nconst styles = signUpScreenStyle;\n\nconst guidanceTextSet: { [key in ValidatePasswordReasons]: string } = {\n  short: `비밀번호는 숫자와 영문자를 포함해야 하며,\\n8자리 이상이어야 합니다.`,\n  number: \"숫자를 포함해야 합니다.\",\n  pass: \"\",\n  letter: \"영문자를 포함해야 합니다.\",\n  space: \"비밀번호의 시작과 끝은 공백일 수 없습니다.\",\n  special: `다음 특수기호만 포함할 수 있습니다.\\n! \" # $ % & ' ( ) * + , - . / : ; < = > ? @ [ ] ^ _ \\` { | } ~ \\\\`,\n};\n\n/**\n * Step 2. 비밀번호 설정 화면\n * @returns\n */\nexport default function SetPasswordScreen({\n  route,\n  navigation,\n}: SignUpStackScreenProp<\"SetPassword\">) {\n  /** 사용자 입력 비밀번호 데이터 */\n  const [password, setPassword] = useState<string>(\"\");\n  /** 사용자 입력 비밀번호 검증 */\n  const [isValidPassword, setIsValidPassword] = useState<boolean>(false);\n  /** 검증 과정에서 경고 여부 */\n  const [isWarningGuide, setIsWarningGuide] = useState<boolean>(false);\n  /** 사용자 입력 확인용 비밀번호 데이터 */\n  const [confirmPassword, setConfirmPassword] = useState<string>(\"\");\n\n  /** 비밀번호 안내문구 */\n  const [guidance, setGuidance] = useState<string>(guidanceTextSet.short);\n\n  /** SignUp 컨텍스트 사용 */\n  const {\n    buttonEnabled,\n    setButtonEnabled,\n    setHideButton,\n    buttonAction,\n    setButtonAction,\n    signUpNavigator,\n  } = useContext(SignUpContext);\n\n  const { hideLoading, showLoading } = useLoadingIndicator();\n\n  const signIn = useSignInWithQue();\n\n  /** 사용자의 비밀번호를 서버에 등록, 회원가입 요청 수행됨 */\n  const postUserPassword = useCallback(async () => {\n    showLoading();\n    try {\n      // 회원가입 요청\n      const reqResult = await authClient.signUpWithQueSelfManaged(\n        route.params.userEmail,\n        password\n      );\n\n      if (reqResult === QueAuthResponse.Created) {\n        // 회원 가입 성공함\n\n        // 회원 가입에 사용한 정보를 통해 로그인\n        await signIn(route.params.userEmail, password);\n\n        // 다음 화면으로 이동\n        signUpNavigator!.navigate(\"SetUserProfile\");\n      } else {\n        alert(\n          `비밀번호 설정 과정에서 에러가 발생했습니다. : 에러 코드 ${reqResult}`\n        );\n      }\n    } catch (error) {\n      alert(`비밀번호 설정 과정에서 에러가 발생했습니다. : ` + error);\n    }\n    hideLoading();\n  }, [route.params.userEmail, password]);\n\n  /** 첫 렌더링 시 입력 데이터 초기화 */\n  useEffect(() => {\n    setPassword(\"\");\n    setConfirmPassword(\"\");\n    setHideButton(true);\n  }, []);\n\n  /** 사용 가능한 비밀번호인지 검증 */\n  useEffect(() => {\n    const validation = validatePassword(password);\n\n    // 비밀번호 변경되면 미리 입력되어있던 비밀번호 확인 입력은 초기화\n    setConfirmPassword(\"\");\n\n    setIsValidPassword(validation[0]);\n\n    setGuidance(guidanceTextSet[validation[1]]);\n\n    // 길이가 짧은 경우엔 경고X\n    validation[1] === \"short\" || validation[1] === \"pass\"\n      ? setIsWarningGuide(false)\n      : setIsWarningGuide(true);\n  }, [password]);\n\n  /** 비밀번호 확인 */\n  useEffect(() => {\n    if (isValidPassword && password == confirmPassword) {\n      setButtonAction({ action: postUserPassword });\n      setButtonEnabled(true);\n    } else {\n      setButtonEnabled(false);\n    }\n  }, [password, confirmPassword]);\n\n  return (\n    <SafeAreaView style={screens.defaultScreenLayout}>\n      <View style={styles.upperContainer}>\n        <CommonTextInput\n          style={styles.textInputUpper}\n          autoFocus\n          /** TBD : textinput의 버튼을 누르면 비밀번호 드러내기 */\n          secureTextEntry={true}\n          invalid={isWarningGuide}\n          accessibilityRole=\"text\"\n          textContentType=\"password\"\n          placeholder=\"비밀번호를 입력해주세요.\"\n          onChangeText={(newStr) => setPassword(newStr)}\n          value={password}\n        />\n        <Text\n          style={[\n            styles.messageText,\n            isWarningGuide ? styles.errorMessageText : styles.messageText,\n          ]}\n        >\n          {guidance}\n        </Text>\n        {isValidPassword ? (\n          <CommonTextInput\n            style={styles.textInputUpper}\n            secureTextEntry={true}\n            invalid={confirmPassword.length != 0 && !buttonEnabled}\n            accessibilityRole=\"text\"\n            textContentType=\"password\"\n            placeholder=\"한 번 더 입력해주세요.\"\n            onChangeText={(newStr) => setConfirmPassword(newStr)}\n            value={confirmPassword}\n            onKeyPress={(event) => {\n              if (event.nativeEvent.key == \"Enter\" && buttonEnabled) {\n                buttonAction.action();\n              } else {\n                // do nothing\n              }\n            }}\n          />\n        ) : null}\n      </View>\n    </SafeAreaView>\n  );\n}\n","import { useNavigation } from \"@react-navigation/native\";\nimport { useCallback, useContext, useEffect, useState } from \"react\";\nimport { SafeAreaView, Text, View } from \"react-native\";\nimport { updateUserProfile } from \"../../../api/QueResourceUtils\";\nimport CommonTextInput from \"../../../components/inputs/CommonTextInput\";\nimport { OnBoardingStackNavigationProp } from \"../../../navigators/OnBoardingNavigator\";\nimport screens from \"../../../styles/screens\";\nimport { SignUpContext } from \"./SignUpContext\";\nimport { signUpScreenStyle } from \"./SignUpScreen.style\";\nimport { useAppDispatch } from \"../../../hooks/useAppDispatch\";\nimport { setCredential } from \"../../../reducers/authReducer\";\nimport { useAuth } from \"../../../hooks/useAuth\";\nimport { useConfirm } from \"../../../hooks/useConfirm\";\nimport { useLoadingIndicator } from \"../../../hooks/useLoadingIndicator\";\n\nconst styles = signUpScreenStyle;\n\nconst maxLength = 140;\n\n/**\n * 4. 사용자 자기소개 화면\n * @returns\n */\nexport default function SetUserDescriptionScreen() {\n  /** 자기소개 입력 정보 */\n  const [description, setDescription] = useState<string>(\"\");\n  /** 길이 초과 여부 */\n  const [isLengthOver, setIsLengthOver] = useState<boolean>(false);\n\n  /** 업데이트 된 프로필을 store에 적용하기 위한 dispatcher */\n  const dispatch = useAppDispatch();\n  const { user: currentUser, isSigned } = useAuth(); // API 호출 대신 이걸 사용\n\n  /** 대기 가능 alert창 사용 */\n  const asyncAlert = useConfirm();\n\n  const onBoardingNavigator = useNavigation<OnBoardingStackNavigationProp>();\n\n  /** SignUp 컨텍스트 */\n  const { setButtonAction, setButtonEnabled, setHideButton, newUserProfile } =\n    useContext(SignUpContext);\n\n  const { hideLoading, showLoading } = useLoadingIndicator();\n\n  /** Description 길이 제한 */\n  const updateDescriptionInput = useCallback(\n    (newStr: string) => {\n      if (newStr.length <= maxLength) {\n        setDescription(newStr);\n        setIsLengthOver(newStr.length === maxLength);\n      }\n    },\n    [description]\n  );\n\n  /** 버튼 액션, 자기소개를 서버에 등록하기 */\n  const postUserDescription = useCallback(async () => {\n    showLoading();\n\n    if (\n      !description.length &&\n      !(await asyncAlert(\n        \"자기소개 없이 진행하시겠습니까?\",\n        \"프로필 변경 기능은 개발 중입니다.\"\n      ))\n    ) {\n      hideLoading();\n      return;\n    }\n\n    const result = await updateUserProfile({\n      description: description,\n    });\n\n    if (result.success) {\n      hideLoading();\n      // 업데이트한 프로필을 클라이언트에도 적용\n      dispatch(\n        setCredential({\n          user: {\n            ...currentUser,\n            ...newUserProfile,\n            description: description,\n          },\n        })\n      );\n      // 온보딩 화면 처음으로 이동 -> 해당 화면에서 로그인 여부 판단 -> 메인화면으로 이동\n      onBoardingNavigator.navigate(\"CatchPhrase\");\n    } else {\n      hideLoading();\n      // TBD 업데이트 과정 에러 처리\n      alert(`프로필 등록 과정에서 에러가 발생했습니다. : ` + result.errorType);\n    }\n  }, [newUserProfile.nickname, newUserProfile.profilePictureUrl, description]);\n\n  /** 화면 초기화 */\n  useEffect(() => {\n    setHideButton(false);\n    setButtonEnabled(true);\n    setDescription(\"\");\n  }, []);\n\n  /** 버튼 액션 설정 */\n  useEffect(() => {\n    setButtonAction({ action: postUserDescription });\n  }, [description]);\n\n  return (\n    <SafeAreaView style={screens.defaultScreenLayout}>\n      <View style={styles.upperContainer}>\n        <CommonTextInput\n          style={styles.textInputUpper}\n          autoFocus\n          multiline\n          placeholder=\"자기소개를 작성해주세요.\"\n          accessibilityRole=\"text\"\n          textContentType=\"none\"\n          onChangeText={updateDescriptionInput}\n          value={description}\n        />\n        <Text\n          style={[\n            styles.messageText,\n            styles.textAlignRight,\n            isLengthOver ? styles.errorMessageText : {},\n          ]}\n        >{`${description.length}/${maxLength}`}</Text>\n      </View>\n    </SafeAreaView>\n  );\n}\n","import { useCallback, useContext, useEffect, useState } from \"react\";\nimport {\n  Image,\n  Platform,\n  Pressable,\n  SafeAreaView,\n  Text,\n  ToastAndroid,\n  View,\n} from \"react-native\";\nimport CommonTextInput from \"../../../components/inputs/CommonTextInput\";\nimport screens from \"../../../styles/screens\";\nimport { SignUpContext } from \"./SignUpContext\";\nimport { signUpScreenStyle } from \"./SignUpScreen.style\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\nimport { validateNickname } from \"../../../utils/validator\";\n\nimport * as ImagePicker from \"expo-image-picker\";\nimport { Toast } from \"native-base\";\nimport { useAuth } from \"../../../hooks/useAuth\";\nimport { useIsFocused } from \"@react-navigation/native\";\nimport QueResourceClient from \"../../../api/QueResourceUtils\";\nimport { useConfirm } from \"../../../hooks/useConfirm\";\nimport { setCredential } from \"../../../reducers/authReducer\";\nimport { useAppDispatch } from \"../../../hooks/useAppDispatch\";\nimport { useLoadingIndicator } from \"../../../hooks/useLoadingIndicator\";\n\nconst styles = signUpScreenStyle;\n\nconst SIZE_LIMIT = 180;\n\n/**\n * 3. 사용자 프로필 설정 화면\n * @returns\n */\nexport default function SetUserProfileScreen() {\n  // TBD 뒤로가기 버튼 캐치해서 메인 화면으로 보내기\n  // 이전 단게에서 사용자 로그인은 됐다는 것을 상정하고.\n\n  /** 사용자가 업로드한 프로필 사진 정보 */\n  const [profileLocalURL, setProfileLocalURL] = useState<string>(\"\");\n  /** 사용자가 입력한 이름 */\n  const [userNickname, setUserNickname] = useState<string>(\"\");\n  /** 이름 유효성 검사 */\n  const [isValidName, setIsValidName] = useState<boolean>(false);\n\n  /** 업데이트 된 프로필을 store에 적용하기 위한 dispatcher */\n  const dispatch = useAppDispatch();\n  /** OAuth Provider 통한 계정 생성 시 미리 설정된 닉네임 불러오기 용도 */\n  const { user: currentUser } = useAuth();\n\n  /** 화면 포커스 여부 */\n  const isFocused = useIsFocused();\n\n  /** 대기 가능 alert창 사용 */\n  const asyncAlert = useConfirm();\n\n  /** SignUp context */\n  const {\n    buttonAction,\n    setButtonAction,\n    buttonEnabled,\n    setButtonEnabled,\n    signUpNavigator,\n    setHideButton,\n    setNewUserProfile,\n  } = useContext(SignUpContext);\n\n  const { hideLoading, showLoading } = useLoadingIndicator();\n\n  /** 프로필 업로드를 위한 이미지 픽커를 실행하는 함수 */\n  const openImagePickerAsync = useCallback(async () => {\n    const permissionResult =\n      await ImagePicker.requestMediaLibraryPermissionsAsync();\n\n    if (permissionResult.granted === false) {\n      if (Platform.OS === \"android\")\n        ToastAndroid.show(\"권한이 필요합니다.\", ToastAndroid.SHORT);\n      else {\n        alert(\"권한이 필요합니다.\");\n      }\n      return;\n    }\n\n    const pickerResult = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsMultipleSelection: false,\n      allowsEditing: true,\n    });\n\n    if (!pickerResult.cancelled) {\n      if (pickerResult.height > SIZE_LIMIT || pickerResult.width > SIZE_LIMIT) {\n        Toast.show({\n          description: `사진이 너무 큽니다! (크기 제한 : ${SIZE_LIMIT}*${SIZE_LIMIT})`,\n        });\n        return;\n      }\n\n      setProfileLocalURL(pickerResult.uri);\n    }\n  }, []);\n\n  /** 사용자가 입력한 프로필 정보를 컨텍스트에 저장하는 함수 */\n  const saveUserProfile = useCallback(async () => {\n    showLoading();\n    if (\n      !profileLocalURL &&\n      !(await asyncAlert(\n        \"프로필 사진 없이 진행하시겠습니까?\",\n        \"프로필 변경 기능은 개발 중입니다.\"\n      ))\n    ) {\n      hideLoading();\n      return;\n    }\n\n    const updateData = {\n      // 프로필 사진 경로는 고정\n      profilePictureUrl: !profileLocalURL\n        ? \"\"\n        : `users/${currentUser.userId}/images/profilePic`,\n      nickname: userNickname,\n    };\n\n    // 프로필 사진과 닉네임 등록하기\n    if (profileLocalURL) {\n      const imageUploadResult = await QueResourceClient.uploadUserProfileImage(\n        profileLocalURL\n      );\n      if (!imageUploadResult.success) {\n        alert(\n          `프로필 사진 업로드 중 문제가 발생했습니다.\\n${imageUploadResult.errorType}`\n        );\n      }\n    }\n    //\n    const updateResult = await QueResourceClient.updateUserProfile(updateData);\n\n    /** 회원가입 과정 중 context 변화 */\n    setNewUserProfile(updateData);\n\n    hideLoading();\n\n    if (updateResult.success) {\n      dispatch(\n        setCredential({\n          user: {\n            ...currentUser,\n            ...updateData,\n          },\n        })\n      );\n      signUpNavigator!.navigate(\"SetUserDescription\");\n    } else {\n      alert(\n        `프로필 정보 업데이트 중 문제가 발생했습니다.\\n${updateResult.errorType}`\n      );\n    }\n  }, [profileLocalURL, userNickname]);\n\n  /** 화면 초기화 */\n  useEffect(() => {\n    setHideButton(false);\n    setUserNickname(\"\");\n    setProfileLocalURL(\"\");\n  }, []);\n\n  /** 화면 포커스 될 때 유저 정보 불러와서 입력 폼 미리 설정 */\n  useEffect(() => {\n    const getUser = async () => {\n      const saved = await QueResourceClient.getUserProfileData(\n        currentUser.userId!\n      );\n      if (saved.success) {\n        setUserNickname(saved.payload!.nickname ? saved.payload!.nickname : \"\");\n      }\n    };\n    if (isFocused) {\n      getUser();\n    }\n  }, [isFocused, currentUser.userId]);\n\n  /** 닉네임 유효성 검증 */\n  useEffect(() => {\n    const valid = userNickname.length != 0 && validateNickname(userNickname);\n    setIsValidName(valid);\n  }, [userNickname]);\n\n  /** 다음 버튼 활성화 및 액션 등록 */\n  useEffect(() => {\n    setButtonEnabled(isValidName);\n\n    if (isValidName) {\n      setButtonAction({ action: saveUserProfile });\n    }\n  }, [isValidName, profileLocalURL, userNickname]);\n\n  return (\n    <SafeAreaView style={screens.defaultScreenLayout}>\n      <View style={styles.titleContainer}>\n        <Pressable\n          style={[\n            styles.uploadButtonContainer,\n            profileLocalURL ? styles.withImage : {},\n          ]}\n          onPress={openImagePickerAsync}\n        >\n          {profileLocalURL ? (\n            <Image\n              style={styles.uploadedImage}\n              source={{ uri: profileLocalURL }}\n            ></Image>\n          ) : (\n            <View style={styles.profileUploadButtonInside}>\n              <MaterialIcons\n                selectable={false}\n                name=\"add\"\n                style={styles.uploadButtonIcon}\n              />\n              <Text\n                selectable={false}\n                style={[styles.uploadButtonMessage, styles.textAlignCenter]}\n              >\n                {`${SIZE_LIMIT}*${SIZE_LIMIT}px`}\n              </Text>\n            </View>\n          )}\n        </Pressable>\n      </View>\n      <View style={styles.bottomContainer}>\n        <CommonTextInput\n          style={[styles.textInputNickname]}\n          autoFocus\n          selectTextOnFocus\n          placeholder=\"당신의 이름은?\"\n          textContentType=\"name\"\n          accessibilityRole=\"text\"\n          invalid={!(isValidName || userNickname.length == 0)}\n          onChangeText={(newStr) => setUserNickname(newStr)}\n          value={userNickname}\n          onKeyPress={(event) => {\n            if (event.nativeEvent.key == \"Enter\" && buttonEnabled) {\n              buttonAction.action();\n            } else {\n              // do nothing\n            }\n          }}\n        />\n        <Text style={[styles.messageText, styles.textAlignCenter]}>\n          {`다른 사람들에게 보여질 이름입니다.\\n한글, 영문자, 숫자를 사용할 수 있으며,\\n이름의 길이는 2~12글자 사이여야 합니다.`}\n        </Text>\n      </View>\n    </SafeAreaView>\n  );\n}\n","import { useAssets } from \"expo-asset\";\nimport React, { useCallback, useContext, useEffect, useState } from \"react\";\nimport {\n  Image,\n  ImageSourcePropType,\n  SafeAreaView,\n  Text,\n  View,\n} from \"react-native\";\nimport { Toast } from \"native-base\";\nimport { QueAuthResponse } from \"../../../api/interfaces\";\nimport authClient from \"../../../api/QueAuthUtils\";\nimport CommonTextInput from \"../../../components/inputs/CommonTextInput\";\nimport screens from \"../../../styles/screens\";\nimport { validateEmail } from \"../../../utils/validator\";\nimport { SignUpContext } from \"./SignUpContext\";\nimport { signUpScreenStyle } from \"./SignUpScreen.style\";\nimport { useLoadingIndicator } from \"../../../hooks/useLoadingIndicator\";\n\n/** 메일 입력 후 오류 안내 메세지 */\nconst failMessages: {\n  [key in QueAuthResponse | \"default\"]?: string;\n} = {\n  \"429\":\n    \"해당 메일로 너무 많은 요청이 들어왔습니다. \\n나중에 다시 시도해주세요.\",\n  \"409\": \"해당 메일로 이미 가입한 사용자가 존재합니다.\",\n  default: `인증 메일을 전송하는 과정에서 오류가 발생했습니다.\\n메일 주소를 다시 확인해주세요.`,\n};\n\n/** 인증번호 입력 후 오류 안내 메세지 */\nconst codeMatchingMessages: {\n  [key in QueAuthResponse | \"default\"]?: string;\n} = {\n  \"429\": `너무 많이 틀렸습니다!\\n인증 번호를 다시 요청해주세요.`,\n  \"408\": `입력 시간을 초과했습니다.\\n인증 번호를 다시 요청해주세요`,\n  \"403\": `잘못된 인증번호입니다. 다시 입력해주세요.`,\n  default: `인증 과정에서 오류가 발생했습니다.`,\n};\n\n/**\n * Step 1. 이메일 확인\n * @returns\n */\nexport default function VerifyMailScreen() {\n  /** 사용자가 입력한 email 주소 */\n  const [userEmail, setUserEmail] = useState<string>(\"\");\n  /** 메일 주소 검증, 메일 전송 실패 시 시각적 표시 용도 */\n  const [isMailInvalid, setIsMailInvalid] = useState<boolean>(false);\n  /** 매일 전송 실패 시 메세지 설정 */\n  const [failMessage, setFailMessage] = useState<string | undefined>(\n    failMessages.default\n  );\n  /** 인증 코드 입력 데이터 */\n  const [verifyingCode, setVerifyingCode] = useState<string>(\"\");\n  /** 인증 코드 검증 성공 여부, 실패 시 시각적 표시 용도 */\n  const [isCodeMatching, setIsCodeMatching] = useState<boolean>(true);\n  /** 인증 코드 입력 실패 시 메세지 설정  */\n  const [codeMatchingMessage, setCodeMatchingMessage] = useState<\n    string | undefined\n  >(codeMatchingMessages.default);\n  /** 메일 발송 요청 여부 */\n  const [sentMail, setSentMail] = useState<boolean>(false);\n  /** 인증 가능 잔여 시간 표시 */\n  const [timer, setTimer] = useState<number>(0);\n\n  /** 로고 표시용 에셋 접근 */\n  const [assets, error] = useAssets([\n    require(\"../../../assets/custom/logo-big.png\"),\n  ]);\n\n  /** SignUp 컨텍스트 사용 */\n  const {\n    buttonEnabled,\n    setButtonEnabled,\n    setHideButton,\n    buttonAction,\n    setButtonAction,\n    signUpNavigator,\n  } = useContext(SignUpContext);\n\n  const { hideLoading, showLoading } = useLoadingIndicator();\n\n  /** TBD: In RN w/ typescript, using ref for custom functional component. To autofocus on second textinput */\n  // ref 사용방법 갈구하란 의미입니다.\n  // const textInputEmail = useRef();\n  // const textInputCode = useRef();\n\n  /** 메일을 전송하고 전송 여부에 따라 인증 코드 입력 UI를 활성화합니다. */\n  const sendVerificationMail = useCallback(async () => {\n    showLoading();\n    try {\n      // 메일 요청\n      const mailReqResult = await authClient.requestVerificationCodeMail(\n        userEmail\n      );\n\n      if (mailReqResult === QueAuthResponse.OK) {\n        // 메일 전송 성공에 따라 다음 UI 활성화\n        setIsMailInvalid(false);\n        setSentMail(true);\n        setVerifyingCode(\"\");\n        setButtonEnabled(false);\n        setTimer(300);\n      } else if (mailReqResult === QueAuthResponse.AlreadyPassed) {\n        // 메일 인증 이미 성공한 계정\n        // 코드 인증 생략하고 비밀번호 설정 화면으로\n        Toast.show({ description: `저장된 인증 정보를 확인했습니다.` });\n        signUpNavigator!.navigate(\"SetPassword\", { userEmail: userEmail });\n      } else {\n        // 메일 전송 실패\n        setIsMailInvalid(true);\n\n        const strStatusCode = mailReqResult;\n        if (strStatusCode in failMessages) {\n          setFailMessage(failMessages[strStatusCode]);\n        } else {\n          setFailMessage(failMessages.default);\n        }\n      }\n    } catch (error) {\n      setIsMailInvalid(true);\n      setFailMessage(failMessages.default);\n      alert(\"메일 전송 요청 과정에서 에러가 발생했습니다 : \" + error);\n    }\n    hideLoading();\n  }, [userEmail]);\n\n  /** 사용자가 입력한 코드를 검증한 다음 결과에 따라 다음 단계로 넘어갑니다. */\n  const verifyWithCode = useCallback(async () => {\n    hideLoading();\n    try {\n      // 코드 인증 요청\n      const reqResult = await authClient.sendVerificationCode(\n        userEmail,\n        verifyingCode\n      );\n\n      const succeeded = reqResult === QueAuthResponse.OK;\n\n      if (succeeded) {\n        setIsCodeMatching(true);\n        // 다음 화면 이동\n        signUpNavigator!.navigate(\"SetPassword\", { userEmail: userEmail });\n      } else {\n        // 에러 표시\n        setIsCodeMatching(false);\n\n        const strStatusCode = reqResult;\n        if (strStatusCode in codeMatchingMessages) {\n          setCodeMatchingMessage(codeMatchingMessages[strStatusCode]);\n        } else {\n          setCodeMatchingMessage(codeMatchingMessages.default);\n        }\n      }\n    } catch (error) {\n      setIsCodeMatching(false);\n      setCodeMatchingMessage(codeMatchingMessages.default);\n      alert(`인증 과정에서 에러가 발생했습니다 : ${error}`);\n    }\n    hideLoading();\n  }, [userEmail, verifyingCode]);\n\n  /** 첫 렌더링 시 입력 데이터 초기화 */\n  useEffect(() => {\n    setVerifyingCode(\"\");\n    setHideButton(true);\n  }, []);\n\n  /** 진행 여부에 따라 navbar 버튼 활성화 로직 지정 */\n  useEffect(() => {\n    if (!sentMail) setButtonEnabled(validateEmail(userEmail));\n    if (sentMail && verifyingCode.length >= 6) setButtonEnabled(true);\n  }, [userEmail, verifyingCode, sentMail]);\n\n  /** 인증 가능 시간 타이머 설정 */\n  useEffect(() => {\n    const countdown = setInterval(() => {\n      if (timer > 0) {\n        setTimer(timer - 1);\n      } else if (timer === 0) {\n        clearInterval(countdown); // 타이머 종료\n      }\n    }, 1000);\n\n    return () => clearInterval(countdown); // useEffect 콜백의 return은 컴포넌트가 unmount 될 때의 동작을 의미\n  }, [timer]);\n\n  /**  진행 여부에 따라 navbar button의 onPress 행동 결정 */\n  useEffect(() => {\n    if (sentMail) {\n      setButtonAction({ action: verifyWithCode });\n    } else {\n      setButtonAction({ action: sendVerificationMail });\n    }\n  }, [sentMail, userEmail, verifyingCode]); // Warning, 할당하려는 함수의 dependency도 고려해야함\n\n  return (\n    <SafeAreaView style={screens.defaultScreenLayout}>\n      <View\n        style={signUpScreenStyle.titleContainer}\n        testID=\"signUpTitleContainer\"\n      >\n        {assets ? (\n          <Image\n            style={signUpScreenStyle.titleLogo}\n            source={assets[0] as ImageSourcePropType}\n          />\n        ) : null}\n        <Text style={signUpScreenStyle.titleText}>회원가입</Text>\n      </View>\n\n      <View style={signUpScreenStyle.bottomContainer}>\n        <View>\n          <CommonTextInput\n            style={signUpScreenStyle.textInput}\n            autoFocus\n            invalid={isMailInvalid}\n            accessibilityRole=\"text\"\n            textContentType=\"emailAddress\"\n            keyboardType=\"email-address\"\n            placeholder=\"이메일 주소를 입력해주세요.\"\n            onChangeText={(newStr) => setUserEmail(newStr)}\n            value={userEmail}\n            onKeyPress={(event) => {\n              if (event.nativeEvent.key == \"Enter\" && buttonEnabled) {\n                if (!sentMail) {\n                  buttonAction.action();\n                }\n              } else {\n                // do nothing\n              }\n            }}\n          />\n        </View>\n        {isMailInvalid ? (\n          <View>\n            <Text\n              style={[\n                signUpScreenStyle.messageText,\n                signUpScreenStyle.errorMessageText,\n              ]}\n            >\n              {failMessage}\n            </Text>\n          </View>\n        ) : null}\n        {sentMail ? (\n          <View>\n            <CommonTextInput\n              style={signUpScreenStyle.textInput}\n              autoFocus\n              invalid={!isCodeMatching}\n              textContentType=\"oneTimeCode\"\n              keyboardType=\"default\"\n              accessibilityRole=\"text\"\n              placeholder=\"인증번호\"\n              onChangeText={(newStr) => setVerifyingCode(newStr)}\n              value={verifyingCode}\n              onKeyPress={(event) => {\n                if (event.nativeEvent.key == \"Enter\" && buttonEnabled) {\n                  if (sentMail) {\n                    buttonAction.action();\n                  }\n                } else {\n                  // do nothing\n                }\n              }}\n            />\n            {isCodeMatching ? null : (\n              <Text\n                style={[\n                  signUpScreenStyle.messageText,\n                  signUpScreenStyle.errorMessageText,\n                ]}\n              >\n                {codeMatchingMessage}\n              </Text>\n            )}\n            <Text style={signUpScreenStyle.messageText}>\n              {`입력하신 이메일로 인증번호를 전송했습니다.\\n인증번호는 ${timer}초 이후 만료됩니다.`}\n              <Text\n                style={signUpScreenStyle.messageTextButton}\n                onPress={sendVerificationMail}\n                accessibilityRole=\"button\"\n              >\n                {` 재전송 `}\n              </Text>\n            </Text>\n          </View>\n        ) : null}\n      </View>\n    </SafeAreaView>\n  );\n}\n","import { useIsFocused, useNavigation } from \"@react-navigation/native\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport { StatusBar } from \"expo-status-bar\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { SafeAreaView, Alert } from \"react-native\";\nimport ScreenCoverLoadingSpinner from \"../../../components/common/ScreenCoverLoadingIndicator\";\nimport CommonHeader from \"../../../components/headers/CommonHeader\";\nimport WizardNavBar from \"../../../components/navbars/WizardNavBar\";\nimport { useConfirm } from \"../../../hooks/useConfirm\";\nimport {\n  OnBoardingStackNavigationProp,\n  OnBoardingStackScreenProp,\n  SignUpStackNavigationProp,\n  SignUpStackParamList,\n} from \"../../../navigators/OnBoardingNavigator\";\nimport screens from \"../../../styles/screens\";\nimport UserType from \"../../../types/User\";\nimport SetPasswordScreen from \"./SetPasswordScreen\";\nimport SetUserDescriptionScreen from \"./SetUserDescriptionScreen\";\nimport SetUserProfileScreen from \"./SetUserProfileScreen\";\nimport { SignUpContext } from \"./SignUpContext\";\nimport VerifyMailScreen from \"./VerifyMailScreen\";\n\nconst SignUpStack = createNativeStackNavigator<SignUpStackParamList>();\n\n/**\n * 회원 가입 화면\n */\nfunction SignUpScreen({\n  route,\n  navigation,\n}: OnBoardingStackScreenProp<\"SignUp\">) {\n  // Context states\n  const [buttonEnabled, setButtonEnabled] = useState<boolean>(false);\n  const [hideButton, setHideButton] = useState<boolean>(true);\n  const [buttonAction, setButtonAction] = useState<{ action: () => void }>({\n    action: useCallback(() => {}, []),\n  });\n  const [newUserProfile, setNewUserProfile] = useState<UserType>({});\n\n  /** 건너뛰기 질문용도 */\n  const asyncAlert = useConfirm();\n\n  /** 다음 화면으로 이동하기 위한 네비게이터 */\n  const signUpNavigator = useNavigation<SignUpStackNavigationProp>();\n  /** 건너뛰기를 위한 네비게이터 */\n  const onBoardingNavigator = useNavigation<OnBoardingStackNavigationProp>();\n\n  const isFocused = useIsFocused();\n\n  useEffect(() => {\n    if (!isFocused) {\n      if (!route.params.hasProvider) {\n        signUpNavigator.navigate(\"VerifyMail\");\n      } else {\n        signUpNavigator.navigate(\"SetUserProfile\");\n      }\n    }\n  }, [route.params.hasProvider, isFocused]);\n\n  return (\n    <SafeAreaView style={screens.defaultScreenLayout}>\n      <StatusBar translucent={false} />\n      <SignUpContext.Provider\n        value={{\n          buttonEnabled,\n          setButtonEnabled,\n          hideButton,\n          setHideButton,\n          buttonAction,\n          setButtonAction,\n          signUpNavigator,\n          newUserProfile,\n          setNewUserProfile,\n        }}\n      >\n        <SignUpStack.Navigator\n          initialRouteName={\n            route.params.hasProvider ? \"SetUserProfile\" : \"VerifyMail\"\n          }\n          screenOptions={{\n            contentStyle: screens.defaultScreenLayout,\n            header: (props) => (\n              <CommonHeader replaceTitleWithLogo hideButton={true} {...props} />\n            ),\n          }}\n        >\n          <SignUpStack.Group>\n            <SignUpStack.Screen\n              options={{\n                header: (props) => <CommonHeader hideButton {...props} />,\n                title: \"\",\n              }}\n              name=\"VerifyMail\"\n              component={VerifyMailScreen}\n            />\n            <SignUpStack.Screen\n              name=\"SetPassword\"\n              component={SetPasswordScreen}\n            />\n          </SignUpStack.Group>\n          <SignUpStack.Group>\n            <SignUpStack.Screen\n              options={{\n                header: (props) => (\n                  <CommonHeader hideBackButton hideButton {...props} />\n                ),\n              }}\n              name=\"SetUserProfile\"\n              component={SetUserProfileScreen}\n            />\n            <SignUpStack.Screen\n              name=\"SetUserDescription\"\n              component={SetUserDescriptionScreen}\n            />\n          </SignUpStack.Group>\n        </SignUpStack.Navigator>\n        <SignUpContext.Consumer>\n          {({ buttonEnabled, buttonAction, hideButton }) => (\n            <WizardNavBar\n              hideSkipButton={hideButton}\n              enableNextButton={buttonEnabled}\n              onSkip={async () => {\n                if (\n                  await asyncAlert(\n                    \"다음에 하시겠습니까?\",\n                    \"하지만 프로필 변경 기능은 아직 구현 중입니다.\"\n                  )\n                ) {\n                  onBoardingNavigator.navigate(\"CatchPhrase\");\n                }\n              }}\n              onNext={buttonAction.action}\n            />\n          )}\n        </SignUpContext.Consumer>\n      </SignUpContext.Provider>\n    </SafeAreaView>\n  );\n}\n\n/**\n * TBD: 추가 개인화 화면 기획 & 개발, 장기계획\n */\n\nexport default SignUpScreen;\n","import { StyleSheet } from \"react-native\";\nimport { bColors, bFont, bSpace } from \"../../styles/base\";\n\nexport const styles = StyleSheet.create({\n  contextContainer: {\n    flexGrow: 0.1,\n    marginHorizontal: bSpace.xlarge * 2,\n  },\n  catchPhraseContainer: {\n    paddingTop: bSpace.large,\n  },\n  catchPhraseText: {\n    fontWeight: \"bold\",\n    fontSize: bFont.xlarge + bFont.middle,\n    color: bColors.white,\n  },\n  buttonContainer: {\n    paddingTop: bSpace.xlarge + bSpace.middle,\n  },\n  signInSuggestionText: { color: bColors.white, fontSize: bFont.middle },\n  signInButtonText: { color: bColors.primary },\n});\n","import { useIsFocused, useNavigation } from \"@react-navigation/native\";\nimport { useAssets } from \"expo-asset\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport { StatusBar } from \"expo-status-bar\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport {\n  Image,\n  ImageBackground,\n  ImageSourcePropType,\n  SafeAreaView,\n  Text,\n  View,\n} from \"react-native\";\nimport RoundedButton from \"../../components/buttons/RoundedButton\";\nimport { OnBoardingStackNavigationProp } from \"../../navigators/OnBoardingNavigator\";\nimport { RootStackNavigationProp } from \"../../navigators/RootNavigator\";\nimport { bColors, bFont, bSpace } from \"../../styles/base\";\nimport screens from \"../../styles/screens\";\nimport * as WebBrowser from \"expo-web-browser\";\nimport { styles } from \"./OnBoardingScreen.style\";\nimport { useSignWithGoogle } from \"../../hooks/useSign\";\nimport { useAuth } from \"../../hooks/useAuth\";\nimport { Toast } from \"native-base\";\n\nWebBrowser.maybeCompleteAuthSession();\n\n/**\n * 캐치프레이즈 & 회원가입 권유\n * 백그라운드에 휘황찬란한 GIF\n * @returns\n */\nexport function CatchPhraseScreen() {\n  /** 로그인 여부 */\n  const [signed, setSigned] = useState<boolean>(false);\n\n  /** TBD: 영상 교체하기 */\n  const mockingVideoSrc = \"https://i.postimg.cc/mgdFtJd5/welcome.gif\";\n\n  const onBoardingNavigator = useNavigation<OnBoardingStackNavigationProp>();\n  const rootNavigator = useNavigation<RootStackNavigationProp>();\n\n  /** 사용자 로그인 여부 파악 */\n  const { user } = useAuth();\n\n  const [assets, error] = useAssets([\n    require(\"../../assets/custom/logo-colored.png\"),\n    require(\"../../assets/custom/google-icon.png\"),\n    require(\"../../assets/custom/que-icon.png\"),\n  ]);\n\n  /** 화면이 뒤로가기 버튼을 통해 표시되더라도 useEffect 발동시키기 */\n  const isFocused = useIsFocused();\n\n  /** 로그인 여부 저장 */\n  useEffect(() => {\n    if (isFocused) {\n      setSigned(!!user.userId);\n    }\n  }, [isFocused, user.userId]);\n\n  /** 로그인 여부 파악 완료되면 화면 전환 */\n  useEffect(() => {\n    if (isFocused && signed && !!user.userId) {\n      // Toast.show({ description: `안녕하세요. ${user.nickname}님.` });\n      // 로그인 되어 있다면 메인 화면으로\n      rootNavigator.reset({ routes: [{ name: \"Main\" }] });\n    }\n  }, [isFocused, signed, user.userId]);\n\n  /**\n   * Google Auth를 통한 계정 인증\n   * 이미 등록된 Google 계정이 있으면 로그인 진행 후 main 화면으로\n   * 등록된 Google 계정이 없으면 회원 가입 화면으로\n   */\n  const signWithGoogle = useSignWithGoogle();\n\n  const signUpNewQueUser = useCallback(() => {\n    onBoardingNavigator.navigate(\"SignUp\", {});\n  }, []);\n\n  return (\n    <SafeAreaView style={[screens.defaultScreenLayout]}>\n      <StatusBar translucent={true} />\n      <ImageBackground\n        testID=\"serviceMockingVideo\"\n        source={{ uri: mockingVideoSrc }}\n        style={{ flex: 1 }}\n        resizeMode=\"cover\"\n      >\n        <View testID=\"emptySpace\" style={{ flex: 1 }}></View>\n        <LinearGradient\n          testID=\"darkOverlay\"\n          colors={[\"transparent\", bColors.black]}\n          start={{ x: 0, y: -1 }}\n          style={{\n            position: \"absolute\",\n            width: \"100%\",\n            height: \"100%\",\n          }}\n        />\n        <View\n          testID=\"onBoardingContextContainer\"\n          style={styles.contextContainer}\n        >\n          <View testID=\"logoContainer\">\n            {assets ? (\n              <Image source={assets[0] as ImageSourcePropType}></Image>\n            ) : null}\n          </View>\n          <View\n            testID=\"catchPhraseContainer\"\n            style={styles.catchPhraseContainer}\n          >\n            <Text style={styles.catchPhraseText}>\n              당신의 콘서트를{\"\\n\"}\n              시작하세요.\n            </Text>\n          </View>\n          <View testID=\"signUpButtonContainer\" style={styles.buttonContainer}>\n            <RoundedButton\n              testID=\"googleSignButton\"\n              buttonType=\"white\"\n              style={{\n                height: bFont.xlarge + bFont.large,\n                marginBottom: bSpace.xlarge,\n                fontSize: bFont.large,\n              }}\n              bold={true}\n              iconData={{\n                iconType: \"image\",\n                withText: true,\n                iconSize: bFont.xlarge,\n                imageSrc: assets ? (assets[1] as ImageSourcePropType) : {},\n              }}\n              onPress={signWithGoogle}\n            >\n              Google 계정으로 계속하기\n            </RoundedButton>\n            <RoundedButton\n              testID=\"queSignUpButton\"\n              buttonType=\"primary\"\n              bold={true}\n              style={{\n                height: bFont.xlarge + bFont.large,\n                marginBottom: bSpace.xlarge,\n                fontSize: bFont.large,\n              }}\n              iconData={{\n                iconType: \"image\",\n                withText: true,\n                iconSize: bFont.xlarge,\n                imageSrc: assets ? (assets[2] as ImageSourcePropType) : {},\n              }}\n              onPress={signUpNewQueUser}\n            >\n              QUE 계정 만들기\n            </RoundedButton>\n          </View>\n          <View testID=\"signInTextContainer\">\n            <Text style={styles.signInSuggestionText}>이미 계정이 있다면</Text>\n            <Text>\n              {/** 이 Text 컴포넌트를 통한 Wrapping은 하위 컴포넌트의 크기가 텍스트의 길이에 맞춰지도록 만듭니다. */}\n              <Text\n                style={[styles.signInSuggestionText, styles.signInButtonText]}\n                onPress={() => {\n                  onBoardingNavigator.navigate(\"SignIn\");\n                }}\n                accessibilityRole=\"button\"\n              >\n                로그인\n              </Text>\n            </Text>\n          </View>\n        </View>\n      </ImageBackground>\n    </SafeAreaView>\n  );\n}\n","import { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport { SafeAreaView } from \"react-native\";\nimport CommonHeader from \"../../components/headers/CommonHeader\";\nimport { OnBoardingStackParamList } from \"../../navigators/OnBoardingNavigator\";\nimport screens from \"../../styles/screens\";\nimport SignInScreen from \"./SignInScreen/SignInScreen\";\nimport SignUpScreen from \"./SignUpScreen/SignUpScreen\";\n\nimport { CatchPhraseScreen } from \"./CatchPhraseScreen\";\n\nconst OnBoardingStack = createNativeStackNavigator<OnBoardingStackParamList>();\n\n/**\n * 회원가입 OR 로그인 권유 온보딩 화면, 네비게이션으로 이루어짐\n */\nfunction OnBoardingScreen() {\n  return (\n    <SafeAreaView style={screens.defaultScreenLayout}>\n      <OnBoardingStack.Navigator screenOptions={{ headerShown: false }}>\n        <OnBoardingStack.Screen\n          name=\"CatchPhrase\"\n          component={CatchPhraseScreen}\n        />\n        <OnBoardingStack.Screen\n          options={{\n            headerShown: true,\n            header: (props) => <CommonHeader hideButton {...props} />,\n          }}\n          name=\"SignIn\"\n          component={SignInScreen}\n        />\n        <OnBoardingStack.Screen\n          name=\"SignUp\"\n          component={SignUpScreen}\n          initialParams={{}}\n        />\n      </OnBoardingStack.Navigator>\n    </SafeAreaView>\n  );\n}\n\nexport default OnBoardingScreen;\n","import { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport { SafeAreaView } from \"react-native\";\nimport screens from \"../styles/screens\";\nimport { RootStackParamList } from \"../navigators/RootNavigator\";\nimport MainScreen from \"./MainScreen/MainScreen\";\nimport OnBoardingScreen from \"./OnBoardingScreen/OnBoardingScreen\";\n\n/** 최상단 네비게이터 */\nconst RootStack = createNativeStackNavigator<RootStackParamList>();\n\n/**\n * 최상단 네비게이터가 담길 화면\n * 메인 서비스 화면들과 가입&로그인 화면들 사이에서\n * 사용자의 로그인 여부에 따라 표현할 화면을 결정한다.\n */\nfunction RootScreen(props: { isSigned: boolean }) {\n  return (\n    <SafeAreaView style={screens.defaultScreenLayout}>\n      <RootStack.Navigator\n        initialRouteName={props.isSigned ? \"Main\" : \"OnBoarding\"}\n        screenOptions={{ headerShown: false }}\n      >\n        <RootStack.Screen name=\"OnBoarding\" component={OnBoardingScreen} />\n        <RootStack.Screen name=\"Main\" component={MainScreen} />\n      </RootStack.Navigator>\n    </SafeAreaView>\n  );\n}\n\nexport default RootScreen;\n","import { StatusBar } from \"expo-status-bar\";\nimport { StyleSheet, LogBox, SafeAreaView, Platform } from \"react-native\";\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport { Entypo } from \"@expo/vector-icons\";\nimport * as SplashScreen from \"expo-splash-screen\";\nimport * as Font from \"expo-font\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { bColors } from \"./styles/base\";\nimport RootScreen from \"./screens/RootScreen\";\nimport { useAuth } from \"./hooks/useAuth\";\nimport QueAuthClient from \"./api/QueAuthUtils\";\nimport { useNotice } from \"./hooks/useNotice\";\nimport { useAppDispatch } from \"./hooks/useAppDispatch\";\nimport { useSelector } from \"react-redux\";\nimport {\n  initializeNoticeList,\n  selectNoticeList,\n} from \"./reducers/noticeReducer\";\n\n/**\n * 어플리케이션 프로그램 최상단 컴포넌트, 엔트리 포인트\n * TBD: 최소한의 로직만 남겨두기\n */\nexport default function AppContainer() {\n  const [appIsReady, setAppIsReady] = useState(false);\n  /** 저장된 계정 정보가 있는지 확인 용도 */\n  const { isSigned } = useAuth();\n\n  const dispatch = useAppDispatch();\n\n  /**\n   * 빈 배열을 전달한 useEffect는 최초 렌더링에서만 실행된다.\n   */\n  useEffect(() => {\n    /**\n     * Splash screen 함수\n     */\n    async function prepare() {\n      try {\n        /** 리소스를 fetch하는 동안 splash를 보이게 하기 */\n        await SplashScreen.preventAutoHideAsync();\n\n        // 여기다가 원하는 API콜을 만들 수 있음\n        /** 폰트 미리 로드 */\n        await Font.loadAsync(Entypo.font);\n\n        dispatch(initializeNoticeList({ noticeId: \"ALPHA01\" }));\n\n        /** 자동 로그인 */\n        if (isSigned) {\n          await QueAuthClient.refreshUser();\n        }\n      } catch (e) {\n        console.warn(e);\n      } finally {\n        // 어플리케이션에게 준비됐다고 말하기\n        setAppIsReady(true);\n      }\n    }\n\n    // 함수 호출\n    prepare();\n  }, []);\n\n  const onLayoutRootView = useCallback(async () => {\n    if (appIsReady) {\n      // 이 코드는 스플래시 화면이 바로 사라지게 만듬\n      // 우리가 'setAppIsReady' 다음 호출하면\n      // 앱이 미처 렌더링 되기 전의 빈 화면을 볼 수도 있음.\n      // 그러니까 root view가 layout을 생성한 것을 인식한 다음 사라지게 하는게 좋다.\n      await SplashScreen.hideAsync();\n    }\n  }, [appIsReady]);\n\n  if (!appIsReady) {\n    return null;\n  }\n\n  return (\n    <SafeAreaView onLayout={onLayoutRootView} style={styles.rootContainer}>\n      <NavigationContainer\n        linking={{\n          enabled: true,\n          prefixes: [\n            \"https://localhost\",\n            \"https://anteater333.github.io/Que-web\",\n            \"que://\",\n          ],\n        }}\n      >\n        <RootScreen isSigned={isSigned} />\n      </NavigationContainer>\n      <StatusBar\n        translucent={false}\n        style=\"auto\"\n        backgroundColor={bColors.transparent}\n      />\n    </SafeAreaView>\n  );\n}\n\n/**\n * 최상위 컴포넌트에 대한 스타일\n */\nconst styles = StyleSheet.create({\n  rootContainer: {\n    width: \"100%\",\n    flex: 1,\n    maxWidth: Platform.OS === \"web\" ? 720 : undefined,\n    shadowColor: bColors.black,\n    shadowOffset: {\n      width: 0,\n      height: 0,\n    },\n    shadowOpacity: 0.5,\n    shadowRadius: 50,\n    elevation: 5,\n  },\n});\n","import { StyleSheet, LogBox } from \"react-native\";\nimport React from \"react\";\nimport { bColors } from \"./app/styles/base\";\nimport { SafeAreaProvider } from \"react-native-safe-area-context\";\nimport { NativeBaseProvider } from \"native-base\";\nimport { Provider } from \"react-redux\";\nimport store, { persistor } from \"./app/store\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport AppContainer from \"./app/AppContainer\";\nimport { LoadingIndicatorProvider } from \"./app/hooks/useLoadingIndicator\";\n\n// 타이머 경고 무효\nLogBox.ignoreLogs([\"Setting a timer\"]);\n\n/**\n * 어플리케이션 프로그램 최상단 컴포넌트, 엔트리 포인트\n */\nexport default function App() {\n  return (\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <NativeBaseProvider>\n          <SafeAreaProvider style={styles.rootBackground}>\n            <LoadingIndicatorProvider>\n              <AppContainer />\n            </LoadingIndicatorProvider>\n          </SafeAreaProvider>\n        </NativeBaseProvider>\n      </PersistGate>\n    </Provider>\n  );\n}\n\n/**\n * 최상위 컴포넌트에 대한 스타일\n */\nconst styles = StyleSheet.create({\n  rootBackground: {\n    flex: 1,\n    backgroundColor: bColors.white,\n    alignItems: \"center\",\n  },\n});\n","module.exports = __webpack_public_path__ + \"static/media/upload.45d521d6.png\";","module.exports = __webpack_public_path__ + \"static/media/profile.264005b9.jpg\";","module.exports = __webpack_public_path__ + \"static/media/graph.5db6cc54.png\";","module.exports = __webpack_public_path__ + \"static/media/github-small.bf4e9d58.png\";","module.exports = __webpack_public_path__ + \"static/media/sylye.617ee605.jpg\";","module.exports = __webpack_public_path__ + \"static/media/notice01.dc844383.png\";","module.exports = __webpack_public_path__ + \"static/media/notice02.da0bbfe3.png\";","module.exports = __webpack_public_path__ + \"static/media/notice03.8ec32101.png\";","module.exports = __webpack_public_path__ + \"static/media/notice04.8c4c25d6.png\";","module.exports = __webpack_public_path__ + \"static/media/notice05.c4799713.png\";","module.exports = __webpack_public_path__ + \"static/media/favicon.fa4783d1.png\";","module.exports = __webpack_public_path__ + \"static/media/google-small.46b16cf5.png\";","module.exports = __webpack_public_path__ + \"static/media/naver-small.eca76a3c.png\";","module.exports = __webpack_public_path__ + \"static/media/kakao-small.d081f6fa.png\";","module.exports = __webpack_public_path__ + \"static/media/google-icon.76d40c96.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB/UlEQVRoge2Z7W2DMBCG76r+LxuQTtBsQDaoOkHVCTJC2gkYgRE6QrJB6ASkE0AneCs3jhSl5Dj8AVTlkaJEAdv3mrN9dxDNzMzMzHjAFBgACRGlRLQ8+7uxnw9mNt/TAkAGYAOgQjd7ADkAI3J0wxcAtnCnGE0IgDXCsR7aeDNzodkMZbzx31hsYhtvFqqW2i7qyv4e151wXLAao43IRUv7pdL16igLW7Hb7DUD24no2m63MfZ5icoeYNr+EoWILKSArkefRnDJPKQAaREWkXa0eij3cV5wOC5sifN4qpUbxThSJyUzf5IjzFwS0UG4JQshYCVc25E/O+Har+3YRYC0u0izp6X86wK+xhQgDa6ldhxbLSA2jU9jXwEhYpZ7HxfVCJA6UYcPAnc+jX0FdC4y33OGAggoHc+IEAIOXY1vPQWYUCC5LJXYfKAtRjow88vFfUuh/w/yxYa+dd80UMjecmWUW3kbrxzoagYlJEGPinC6CCkgU2RjSY/s65QvS6STSCkV4uPOfk9DzKw+XwpxKIKlwQU4llW29snUU6oNFYhHHtX4yCLeBzHe0Z0wWkErcnndq74UDAAr61aaFxyVLadcu7cY+xWTiW3MLJo45+QSpnLR2CrGT4AG4EGIs16Z+Y2mDuTzIRvlCfQFx32/LSxvmPlpBJNm/hffi1brmsGg+hIAAAAASUVORK5CYII=\""],"sourceRoot":""}