(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{226:function(e,t,n){e.exports=n.p+"static/media/haeder-logo.20e0a5ce.png"},231:function(e,t,n){e.exports=n.p+"static/media/logo-colored.66d4facc.png"},233:function(e,t,n){e.exports=n.p+"static/media/logo-big.3b6037d0.png"},288:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ga}));var r=n(6),a=n(165),o=n(0),i=n(24),c=n(9),s=(i.a.get("window").height,i.a.get("window").width,"#0073F5"),l="#52A5FF",u="#0DF9FA",d="#FFFFFF",b="#000000",j="#787878",f="#C4C4C4",p="#E5E5E5",x="CC",O="66",h="#00000000",g="#DD3730",y=4,m=8,v=12,w=16,C="web"===c.a.OS?{small:12,middle:16,large:20,xlarge:24}:{small:8,middle:12,large:16,xlarge:24},S=n(299),I=n(418),P=n(69),k=n(128),T=n(51),D=Object(k.b)({name:"auth",initialState:{user:{},isSigned:!1,viewList:{}},reducers:{setCredential:function(e,t){var n={profilePictureUrl:t.payload.user.profilePictureUrl,nickname:t.payload.user.nickname,level:t.payload.user.level,userId:t.payload.user.userId,email:t.payload.user.email,description:t.payload.user.description};e.user=n,e.isSigned=!0},clearCredential:function(e){e.user={},e.isSigned=!1,e.viewList={}},addViewedVideo:function(e,t){e.viewList[t.payload.videoId]=!0}},extraReducers:{}}),B=D.actions,L=D.reducer,E=B.setCredential,z=B.clearCredential,M=B.addViewedVideo,A=function(e){return e.auth.user},V=function(e){return e.auth.isSigned},R=function(e){return e.auth.viewList},U=L,F=Object(k.b)({name:"notice",initialState:{noticeList:{}},reducers:{initializeNoticeList:function(e,t){var n=t.payload.noticeId;e.noticeList[n]||(e.noticeList[n]={})},addViewedUser:function(e,t){var n=t.payload,r=n.noticeId,a=n.userId;e.noticeList[r]||(e.noticeList[r]={}),e.noticeList[r][a]=!0}},extraReducers:{}}),N=F.actions,H=F.reducer,W=N.addViewedUser,q=N.initializeNoticeList,G=function(e){return e.notice.noticeList},J=H,Q=Object(T.b)({auth:U,notice:J}),K=n(91),X={key:"root",version:1,storage:n(291).a},Y=Object(K.g)(X,Q),_=Object(k.a)({reducer:Y,middleware:function(e){return e({serializableCheck:{ignoredActionPaths:["payload.user"],ignoredActions:[K.a,K.f,K.b,K.c,K.d,K.e]}})},devTools:!1}),Z=_,$=Object(K.h)(_),ee=n(239),te=n(3),ne=n.n(te),re=n(1),ae=n.n(re),oe=n(102),ie=n(27),ce=n(406),se=n(211),le=n(413),ue=n(407),de=n(419),be=r.a.create({defaultScreenLayout:{flex:1,backgroundColor:d}}),je=n(5),fe=n.n(je);var pe=function(){return null},xe=n(401),Oe=n(17),he=n(11),ge=n(47),ye=n(4),me=C.xlarge,ve=r.a.create({default:{flexDirection:"row",height:56,backgroundColor:d,alignItems:"center",justifyContent:"center"},titleContainer:{flexDirection:"row",flex:1,alignItems:"center",justifyContent:"flex-start",marginLeft:w,marginVertical:m},titleText:{fontSize:C.large,paddingVertical:m,flex:1},titleLogo:{height:me,width:Math.ceil(187*me/75),resizeMode:"contain"},buttonsContainer:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",marginRight:w},headerButtonView:{marginLeft:w},headerButtonIcon:{fontSize:me},headerProfilePicSize:{fontSize:me+C.small}}),we=r.a.create({default:{backgroundColor:d,height:56,flexDirection:"row",justifyContent:"space-between",alignItems:"center"},backButtonContainer:{flex:1,alignItems:"flex-start"},titleContainer:{flex:1,alignItems:"center",justifyContent:"center"},titleLogo:{height:2*C.large,resizeMode:"contain"},titleText:{fontSize:me},roundedButtonContainer:{flex:1,alignItems:"flex-end"},roundedButton:{width:6*v,height:2*C.large,fontSize:C.large,marginRight:m}}),Ce=n(269),Se=n(40),Ie=n(294),Pe=n(70),ke={VERIFICATION_SERVER:{PROTOCOL:"http",HOST:"118.67.131.12",PORT:18080,PREFIX:"/api/v1"},FIREBASE:{apiKey:"AIzaSyCOz2G9IfEWv2oWkJkn6oKSm1CkZ9KwxDM",authDomain:"que-production.firebaseapp.com",projectId:"que-production",storageBucket:"que-production.appspot.com",messagingSenderId:"1092820632181",appId:"1:1092820632181:web:6fea9e37c52b5c5ccc6e3c",measurementId:"G-34J4MB0M1L"}};function Te(){return ke}var De=Te().FIREBASE,Be=n(59);function Le(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(e){return t(r.result)},r.onerror=function(e){return n(r.error)},r.onabort=function(e){return n(new Error("Read aborted"))},r.readAsDataURL(e)}))}function Ee(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.onload=function(){t(r.response)},r.onerror=function(e){console.error(e),n(new TypeError("Network request failed"))},r.responseType="blob",r.open("GET",e,!0),r.send(null)}))}var ze,Me;!function(e){e.BadBody="400",e.AlreadyExist="409",e.TooManyRequest="429",e.Wrong="403",e.NotFound="404",e.Timeout="408",e.SignInRequired="401",e.Gone="410",e.UndefinedError="500"}(ze||(ze={})),function(e){e.BadBody="400",e.AlreadyExist="409",e.TooManyRequest="429",e.Wrong="403",e.NotFound="404",e.Timeout="408",e.SignInRequired="401",e.Gone="410",e.ServerError="500",e.OK="200",e.Created="201",e.AlreadyPassed="208"}(Me||(Me={}));var Ae=n(48),Ve=n(13),Re=n.n(Ve),Ue=n(20);Object(Pe.a)().length||Object(Pe.b)(De);var Fe,Ne=function(e){var t=Object(Ue.g)();return Object(Ue.a)(t,e)},He=Ne("videos"),We=Ne("users");function qe(){var e=(new Date).getTime();return Array.from(Array(10),(function(){return Math.floor(36*Math.random()).toString(36)})).join("")+e}function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){fe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ke(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xe(e,t,n){var r,a,o,i,c,s,l,u,d,b,j;return ae.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:return r=[Object(Ue.j)("uploadedAt","desc"),Object(Ue.i)(t)],1==n&&r.push(Object(Ue.m)(Fe)),e&&(a=Object(Ue.d)(We,e),r.push(Object(Ue.o)("uploader","==",a))),o=Ue.k.apply(void 0,[He].concat(r)),f.prev=4,f.next=7,ae.a.awrap(Object(Ue.f)(o));case 7:(i=f.sent).docs.length&&(Fe=i.docs[i.docs.length-1]),c=[],s=Qe(i.docs);case 11:if((l=s()).done){f.next=25;break}if(u=l.value,d=u.data(),(b=Je(Je({},u.data()),{},{uploadedAt:nt(d.uploadedAt)})).videoId=u.id,!b.uploader){f.next=22;break}return f.next=19,ae.a.awrap(Object(Ue.e)(b.uploader));case 19:j=f.sent,b.uploader=j.data(),b.uploader.userId=j.id;case 22:c.push(b);case 23:f.next=11;break;case 25:return f.abrupt("return",c);case 28:return f.prev=28,f.t0=f.catch(4),console.error(f.t0),f.abrupt("return",[]);case 32:case"end":return f.stop()}}),null,null,[[4,28]],Promise)}function Ye(e){var t;return ae.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ae.a.awrap(Object(Ue.e)(Object(Ue.d)(We,e)));case 3:if((t=n.sent).exists()){n.next=8;break}return n.abrupt("return",{success:!1,errorType:ze.NotFound});case 8:return n.abrupt("return",{success:!0,payload:Je({userId:e},t.data())});case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),console.error(n.t0),n.abrupt("return",{success:!1,errorType:ze.UndefinedError});case 15:case"end":return n.stop()}}),null,null,[[0,11]],Promise)}function _e(e,t,n,r){return ae.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ae.a.awrap(Object(Ue.l)(Object(Ue.d)(We,e),{email:t,registeredAt:new Date(n),nickname:r||""}));case 3:a.next=9;break;case 5:throw a.prev=5,a.t0=a.catch(0),console.error(a.t0),a.t0;case 9:case"end":return a.stop()}}),null,null,[[0,5]],Promise)}function Ze(e,t){var n,r,a,o,i;return ae.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(c.prev=0,t){c.next=11;break}return n=at(),r=Object(Ue.d)(He),a=r.id,o="gs://"+De.storageBucket+"/",c.next=8,ae.a.awrap(Object(Ue.l)(r,Je(Je({},e),{},{sourceUrl:o+"users/"+n+"/videos/"+a+"/video",thumbnailUrl:o+"users/"+n+"/videos/"+a+"/thumbnail",uploadedAt:new Date,uploadDone:!1,uploader:Object(Ue.d)(We,n)})));case 8:return c.abrupt("return",r.id);case 11:return i=Object(Ue.d)(He,t),c.next=14,ae.a.awrap(Object(Ue.l)(i,e,{merge:!0}));case 14:return c.abrupt("return",i.id);case 15:c.next=21;break;case 17:throw c.prev=17,c.t0=c.catch(0),console.error(c.t0),c.t0;case 21:case"end":return c.stop()}}),null,null,[[0,17]],Promise)}function $e(e){var t,n,r,a,o;return ae.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=Object(Ue.d)(He,e),i.next=4,ae.a.awrap(Object(Ue.e)(t));case 4:if((n=i.sent).exists()){i.next=7;break}return i.abrupt("return",{success:!1,errorType:ze.NotFound});case 7:if(r=n.data(),a=at()){i.next=11;break}return i.abrupt("return",{success:!1,errorType:ze.SignInRequired});case 11:return i.next=13,ae.a.awrap(Object(Ue.e)(r.uploader));case 13:if(o=i.sent,a===o.id){i.next=16;break}return i.abrupt("return",{success:!1,errorType:ze.Wrong});case 16:return i.next=18,ae.a.awrap(Object(Ue.b)(t));case 18:return i.abrupt("return",{success:!0});case 21:throw i.prev=21,i.t0=i.catch(0),i.t0;case 24:case"end":return i.stop()}}),null,null,[[0,21]],Promise)}function et(e,t){return ae.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ae.a.awrap(Object(Ue.n)(Object(Ue.d)(He,e),{uploadDone:t}));case 3:n.next=8;break;case 5:throw n.prev=5,n.t0=n.catch(0),n.t0;case 8:case"end":return n.stop()}}),null,null,[[0,5]],Promise)}function tt(e,t){var n,r,a,o,i,c;return ae.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,n=at()){s.next=4;break}return s.abrupt("return",{success:!1,errorType:ze.SignInRequired});case 4:return r=Object(Ue.d)(We,n),s.next=7,ae.a.awrap(Object(Ue.e)(r));case 7:if(a=s.sent,o=a.get("reactions.likes."+e+"."+t)){s.next=11;break}return s.abrupt("return",{success:!0,payload:[]});case 11:for(c in i=[],o)i.push(Je({likeType:"video",userId:n,targetId:t,likeId:c},o[c]));return s.abrupt("return",{success:!0,payload:i});case 16:throw s.prev=16,s.t0=s.catch(0),console.error(s.t0),s.t0;case 20:case"end":return s.stop()}}),null,null,[[0,16]],Promise)}function nt(e){return new Date(e.toDate())}function rt(e){var t;return ae.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ae.a.awrap(fetch("https://www.googleapis.com/oauth2/v3/userinfo",{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer "+e,"Content-Type":"application/json"}}));case 2:return t=n.sent,n.next=5,ae.a.awrap(t.json());case 5:return n.abrupt("return",n.sent.email);case 6:case"end":return n.stop()}}),null,null,null,Promise)}function at(){var e;return Object(Ae.d)().currentUser?null==(e=Object(Ae.d)().currentUser)?void 0:e.uid:void 0}function ot(e){var t,n;return ae.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=Object(Be.c)(),n=Object(Be.d)(t,e),r.next=4,ae.a.awrap(Object(Be.b)(n));case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}),null,null,null,Promise)}function it(e,t,n){var r,a,o,i,c,s,l,u,d;return ae.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:if(r={videoOk:!1,thumbnailOk:!1},a=at()){b.next=4;break}return b.abrupt("return",r);case 4:return o=Object(Be.c)(),b.prev=5,i="users/"+a+"/videos/"+n+"/video",b.next=9,ae.a.awrap(Ee(t));case 9:return c=b.sent,s=Object(Be.d)(o,i),b.next=13,ae.a.awrap(Object(Be.e)(s,c));case 13:b.sent,r.videoOk=!0,b.next=21;break;case 17:return b.prev=17,b.t0=b.catch(5),console.error(b.t0),b.abrupt("return",r);case 21:return b.prev=21,l="users/"+a+"/videos/"+n+"/thumbnail",b.next=25,ae.a.awrap(Ee(e));case 25:return u=b.sent,d=Object(Be.d)(o,l),b.next=29,ae.a.awrap(Object(Be.e)(d,u));case 29:b.sent,r.thumbnailOk=!0,b.next=37;break;case 33:return b.prev=33,b.t1=b.catch(21),console.error(b.t1),b.abrupt("return",r);case 37:return b.abrupt("return",r);case 38:case"end":return b.stop()}}),null,null,[[5,17],[21,33]],Promise)}function ct(e){var t,n,r,a;return ae.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,t=at()){o.next=4;break}return o.abrupt("return",{success:!1,errorType:ze.SignInRequired});case 4:return n=Object(Be.c)(),r="users/"+t+"/videos/"+e+"/video",a=Object(Be.d)(n,r),o.next=9,ae.a.awrap(Object(Be.a)(a));case 9:return o.abrupt("return",{success:!0});case 12:throw o.prev=12,o.t0=o.catch(0),o.t0;case 15:case"end":return o.stop()}}),null,null,[[0,12]],Promise)}Object(Pe.a)().length||Object(Pe.b)(De),Object(Pe.a)().length||Object(Pe.b)(De),Object(Pe.a)().length||Object(Pe.b)(De);var st,lt={getVideoDownloadURL:ot,getImageDownloadURL:ot,getVideoCardData:function(e,t){return ae.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ae.a.awrap(Xe("",e,t));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),null,null,null,Promise)},getVideoCardDataByUserId:Xe,getVideoData:function(e){var t,n,r,a,o,i;return ae.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,ae.a.awrap(Object(Ue.e)(Object(Ue.d)(He,e)));case 3:if((t=c.sent).exists()){c.next=8;break}return c.abrupt("return",{success:!1,errorType:ze.NotFound});case 8:return n=t.data(),c.next=11,ae.a.awrap(Object(Ue.e)(n.uploader));case 11:return r=c.sent,a=r.data(),o=nt(n.uploadedAt),i=Je(Je({videoId:e},n),{},{uploadedAt:o,uploader:{userId:r.id,nickname:null==a?void 0:a.nickname,profilePictureUrl:null==a?void 0:a.profilePictureUrl}}),c.abrupt("return",{success:!0,payload:i});case 16:c.next=22;break;case 18:return c.prev=18,c.t0=c.catch(0),console.error(c.t0),c.abrupt("return",{success:!1,errorType:ze.UndefinedError});case 22:case"end":return c.stop()}}),null,null,[[0,18]],Promise)},getUserProfileData:Ye,getUserProfilePicture:function(e){var t,n;return ae.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t="gs://"+De.storageBucket+"/users/"+e+"/images/profilePic",r.prev=1,r.next=4,ae.a.awrap(ot(t));case 4:return n=r.sent,r.abrupt("return",{success:!0,payload:n});case 8:return r.prev=8,r.t0=r.catch(1),"storage/object-not-found"===r.t0.code||console.error(r.t0),r.abrupt("return",{success:!1});case 12:case"end":return r.stop()}}),null,null,[[1,8]],Promise)},updateUserProfile:function(e){var t,n,r;return ae.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=at()){a.next=3;break}return a.abrupt("return",{success:!1,errorType:ze.SignInRequired});case 3:if(a.prev=3,n={},e.description&&e.nickname&&e.profilePictureUrl){a.next=10;break}return a.next=8,ae.a.awrap(Ye(t));case 8:r=a.sent,n=r.payload?r.payload:{};case 10:return a.next=12,ae.a.awrap(Object(Ue.n)(Object(Ue.d)(We,t),{description:e.description?e.description:n.description?n.description:"",nickname:e.nickname?e.nickname:n.nickname?n.nickname:"",profilePictureUrl:e.profilePictureUrl?e.profilePictureUrl:n.profilePictureUrl?n.profilePictureUrl:""}));case 12:a.next=18;break;case 14:return a.prev=14,a.t0=a.catch(3),console.error(a.t0),a.abrupt("return",{success:!1,errorType:ze.UndefinedError});case 18:return a.abrupt("return",{success:!0});case 19:case"end":return a.stop()}}),null,null,[[3,14]],Promise)},uploadUserProfileImage:function(e){var t,n,r,a;return ae.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=at()){o.next=3;break}return o.abrupt("return",{success:!1,errorType:ze.SignInRequired});case 3:return n="users/"+t+"/images/profilePic",o.prev=4,o.next=7,ae.a.awrap(Ee(e));case 7:return r=o.sent,a=Object(Be.d)(Object(Be.c)(),n),o.next=11,ae.a.awrap(Object(Be.e)(a,r));case 11:return o.sent,o.abrupt("return",{success:!0});case 15:return o.prev=15,o.t0=o.catch(4),console.error(o.t0),o.abrupt("return",{success:!1,errorType:ze.UndefinedError});case 19:case"end":return o.stop()}}),null,null,[[4,15]],Promise)},getMyLikeReactions:tt,dislikeVideo:function(e,t){var n,r,a,o,i,c,s,l;return ae.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(n=at()){u.next=3;break}return u.abrupt("return",{success:!1,errorType:ze.SignInRequired});case 3:return r=Object(Ue.d)(He,e),u.next=6,ae.a.awrap(Object(Ue.e)(r));case 6:if((a=u.sent).exists()){u.next=9;break}return u.abrupt("return",{success:!1,errorType:ze.NotFound});case 9:if((o=a.data()).likedList&&o.likedList[n]&&o.likedList[n][t]){u.next=14;break}return u.abrupt("return",{success:!1,errorType:ze.NotFound});case 14:if(u.prev=14,i=Object(Ue.d)(We,n),!(c=1==Object.keys(o.likedList[n]).length)){u.next=22;break}return u.next=20,ae.a.awrap(Object(Ue.l)(i,{reactions:{likes:{video:fe()({},e,Object(Ue.c)())}}},{merge:!0}));case 20:u.next=24;break;case 22:return u.next=24,ae.a.awrap(Object(Ue.l)(i,{reactions:{likes:{video:fe()({},e,fe()({},t,Object(Ue.c)()))}}},{merge:!0}));case 24:if(!c){u.next=29;break}return u.next=27,ae.a.awrap(Object(Ue.l)(r,{likeCount:Object(Ue.h)(-1),likedList:fe()({},n,Object(Ue.c)())},{merge:!0}));case 27:u.next=31;break;case 29:return u.next=31,ae.a.awrap(Object(Ue.l)(r,{likeCount:Object(Ue.h)(-1),likedList:fe()({},n,fe()({},t,Object(Ue.c)()))},{merge:!0}));case 31:for(l in s=[],o.likedList[n])l===t||s.push(o.likedList[n][l]);return u.abrupt("return",{success:!0,payload:s});case 36:throw u.prev=36,u.t0=u.catch(14),console.error(u.t0),u.t0;case 40:case"end":return u.stop()}}),null,null,[[14,36]],Promise)},increaseVideoViewCount:function(e){var t;return ae.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ae.a.awrap(Object(Ue.e)(Object(Ue.d)(He,e)));case 2:if((t=n.sent).exists()){n.next=5;break}return n.abrupt("return",{success:!1,errorType:ze.NotFound});case 5:return n.next=7,ae.a.awrap(Object(Ue.n)(t.ref,{viewCount:Object(Ue.h)(1)}));case 7:return n.abrupt("return",{success:!0});case 8:case"end":return n.stop()}}),null,null,null,Promise)},likeVideo:function(e,t){var n,r,a,o,i,c,s,l,u,d;return ae.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:if(n=at()){b.next=3;break}return b.abrupt("return",{success:!1,errorType:ze.SignInRequired});case 3:return b.next=5,ae.a.awrap(tt("video",e));case 5:if((r=b.sent).success){b.next=8;break}return b.abrupt("return",{success:!1,errorType:r.errorType});case 8:if(!((a=r.payload).length>=3)){b.next=11;break}return b.abrupt("return",{success:!1,errorType:ze.TooManyRequest});case 11:return b.prev=11,o=qe(),i={likeType:"video",likeId:o,targetId:e,userId:n,likePosition:t,likedAt:new Date},(c={})[e]={},c[e][o]=i,s=Object(Ue.d)(We,n),b.next=20,ae.a.awrap(Object(Ue.l)(s,{reactions:{likes:{video:c}}},{merge:!0}));case 20:return(l={})[n]={},l[n][o]=i,u=Object(Ue.d)(He,e),b.next=26,ae.a.awrap(Object(Ue.l)(u,{likeCount:Object(Ue.h)(1),likedList:l},{merge:!0}));case 26:return d=[].concat(Re()(a),[i]),b.abrupt("return",{success:!0,payload:d});case 30:throw b.prev=30,b.t0=b.catch(11),console.error(b.t0),b.t0;case 34:case"end":return b.stop()}}),null,null,[[11,30]],Promise)},updateVideoData:function(e,t){return ae.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(at()){n.next=3;break}return n.abrupt("return",{success:!1,errorType:ze.SignInRequired});case 3:return n.prev=3,n.next=6,ae.a.awrap(Ze(t,e));case 6:return n.abrupt("return",{success:!0});case 9:return n.prev=9,n.t0=n.catch(3),console.error(n.t0),n.abrupt("return",{success:!1,errorType:ze.UndefinedError});case 13:case"end":return n.stop()}}),null,null,[[3,9]],Promise)},uploadVideo:function(e,t,n){var r,a;return ae.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,ae.a.awrap(Ze(n));case 2:return r=o.sent,o.next=5,ae.a.awrap(it(e,t,r));case 5:if(!(a=o.sent).thumbnailOk||!a.videoOk){o.next=12;break}return o.next=9,ae.a.awrap(et(r,!0));case 9:return o.abrupt("return",{success:!0});case 12:return o.abrupt("return",{success:!1,errorType:ze.UndefinedError});case 13:case"end":return o.stop()}}),null,null,null,Promise)},deleteVideo:function(e){var t,n;return ae.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,ae.a.awrap($e(e));case 3:if((t=r.sent).success){r.next=6;break}return r.abrupt("return",t);case 6:return r.next=8,ae.a.awrap(ct(e));case 8:if((n=r.sent).success){r.next=11;break}return r.abrupt("return",n);case 11:return r.abrupt("return",{success:!0});case 14:return r.prev=14,r.t0=r.catch(0),console.error(r.t0),r.abrupt("return",{success:!1,errorType:ze.UndefinedError});case 18:case"end":return r.stop()}}),null,null,[[0,14]],Promise)}},ut={signInWithGoogle:function(e){var t,n,r,a,o,i,c,s,l,u;return ae.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return t=Object(Ae.d)(),n=Ae.b.credential(void 0,e),d.prev=2,d.next=5,ae.a.awrap(rt(e));case 5:return r=d.sent,d.next=8,ae.a.awrap(Object(Ae.c)(t,r));case 8:if((a=d.sent).length){d.next=20;break}return d.next=12,ae.a.awrap(Object(Ae.e)(t,n));case 12:return o=d.sent,i=o.user,c={userId:i.uid,nickname:i.displayName},d.next=17,ae.a.awrap(_e(i.uid,r,i.metadata.creationTime,i.displayName));case 17:return d.abrupt("return",{status:Me.Created,user:c});case 20:if(!a.includes("google.com")){d.next=30;break}return d.next=23,ae.a.awrap(Object(Ae.e)(t,n));case 23:return s=d.sent,d.next=26,ae.a.awrap(Ye(s.user.uid));case 26:return l=d.sent.payload,d.abrupt("return",{status:Me.OK,user:l});case 30:return console.error("no google account"),d.abrupt("return",{status:Me.AlreadyExist});case 32:d.next=58;break;case 34:if(d.prev=34,d.t0=d.catch(2),!d.t0.code){d.next=57;break}if((u=d.t0.code)!==Ae.a.INVALID_PASSWORD){d.next=42;break}return d.abrupt("return",{status:Me.Wrong});case 42:if(u!==Ae.a.USER_DELETED){d.next=46;break}return d.abrupt("return",{status:Me.NotFound});case 46:if(u!==Ae.a.USER_DISABLED){d.next=50;break}return d.abrupt("return",{status:Me.Gone});case 50:if(u!==Ae.a.INVALID_EMAIL){d.next=54;break}return d.abrupt("return",{status:Me.BadBody});case 54:throw d.t0;case 55:d.next=58;break;case 57:throw d.t0;case 58:case"end":return d.stop()}}),null,null,[[2,34]],Promise)},signInWithQueSelfManaged:function(e,t){var n,r,a,o;return ae.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=Object(Ae.d)(),i.prev=1,i.next=4,ae.a.awrap(Object(Ae.f)(n,e,t));case 4:return r=i.sent,i.next=7,ae.a.awrap(Ye(r.user.uid));case 7:return a=i.sent.payload,i.abrupt("return",{status:Me.OK,user:a});case 11:if(i.prev=11,i.t0=i.catch(1),!i.t0.code){i.next=34;break}if((o=i.t0.code)!==Ae.a.INVALID_PASSWORD){i.next=19;break}return i.abrupt("return",{status:Me.Wrong});case 19:if(o!==Ae.a.USER_DELETED){i.next=23;break}return i.abrupt("return",{status:Me.NotFound});case 23:if(o!==Ae.a.USER_DISABLED){i.next=27;break}return i.abrupt("return",{status:Me.Gone});case 27:if(o!==Ae.a.INVALID_EMAIL){i.next=31;break}return i.abrupt("return",{status:Me.BadBody});case 31:throw i.t0;case 32:i.next=35;break;case 34:throw i.t0;case 35:case"end":return i.stop()}}),null,null,[[1,11]],Promise)},signOut:function(){return ae.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.a.awrap(Object(Ae.d)().signOut());case 2:case"end":return e.stop()}}),null,null,null,Promise)},refreshUser:function(){return ae.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:Object(Ae.d)().currentUser;case 1:case"end":return e.stop()}}),null,null,null,Promise)}},dt=(new Date("2021-12-17T03:24:00"),new Date,new Date,new Date,new Date,new Date,new Date,new Date,new Date,new Date,new Date,new Date,st=lt),bt=st,jt=bt.getImageDownloadURL,ft=bt.getUserProfileData,pt=(bt.getVideoCardData,bt.getVideoDownloadURL),xt=bt.updateUserProfile,Ot=(bt.deleteVideo,bt.dislikeVideo,bt.getMyLikeReactions,bt.getUserProfilePicture,bt.getVideoData,bt.increaseVideoViewCount,bt.likeVideo,bt.updateVideoData,bt.uploadUserProfileImage,bt.uploadVideo,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:24;return r.a.create({default:{alignSelf:"center",width:e,height:e,borderRadius:e/2,backgroundColor:b,overflow:"hidden"},profilePic:{alignSelf:"center",width:e,height:e,flex:1,justifyContent:"center",alignItems:"center",resizeMode:"contain"}})}),ht=n(2);function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){fe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mt,vt=function(e){var t=Object(Se.q)(),n=Object(o.useState)(""),a=ne()(n,2),i=a[0],c=a[1],s=Object(o.useState)(!0),l=ne()(s,2),u=l[0],d=l[1];Object(o.useEffect)((function(){!function(){var t;ae.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(d(!0),!e.userId){n.next=8;break}return n.next=4,ae.a.awrap(dt.getUserProfilePicture(e.userId));case 4:(t=n.sent).success?c(t.payload):c(""),n.next=9;break;case 8:c("");case 9:d(!1);case 10:case"end":return n.stop()}}),null,null,null,Promise)}()}),[e.userId]);var b=Object(o.useCallback)((function(){return ae.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t.navigate("UserPage",{userId:e.userId});case 1:case"end":return n.stop()}}),null,null,null,Promise)}),[]),j=e.style?r.a.flatten(e.style).fontSize:void 0,f=Ot(e.size?e.size:j||void 0);return Object(ht.jsx)(ge.a,yt(yt({},e),{},{testID:e.testID?e.testID:"profileButton",onPress:b,style:[e.style,f.default],children:u?null:i?Object(ht.jsx)(Oe.a,{style:[f.profilePic],source:{uri:i}}):Object(ht.jsx)(ye.a,{style:[f.profilePic],children:Object(ht.jsx)(Ie.a,{value:e.userId,style:"shape"})})}))},wt=n(410),Ct=n(289),St=Te().VERIFICATION_SERVER,It=St.PROTOCOL+"://"+St.HOST+":"+St.PORT+St.PREFIX,Pt={requestVerificationCodeMail:function(e){var t,n,r;return ae.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=It+"/verification?mail="+e,a.next=4,ae.a.awrap(fetch(t));case 4:if(n=a.sent,r=n.status.toString(),!Object.values(Me).includes(r)){a.next=10;break}return a.abrupt("return",r);case 10:throw new Error("Undefined error code : "+n.status);case 11:a.next=17;break;case 13:throw a.prev=13,a.t0=a.catch(0),console.error("Unhandled error : "+a.t0),a.t0;case 17:case"end":return a.stop()}}),null,null,[[0,13]],Promise)},sendVerificationCode:function(e,t){var n,r,a;return ae.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,n=It+"/verification",o.next=4,ae.a.awrap(fetch(n,{method:"POST",headers:{"Content-Type":"appliation/json"},body:JSON.stringify({mail:e,code:t})}));case 4:if(r=o.sent,a=r.status.toString(),!Object.values(Me).includes(a)){o.next=10;break}return o.abrupt("return",a);case 10:throw new Error("Undefined error code : "+r.status);case 11:o.next=17;break;case 13:throw o.prev=13,o.t0=o.catch(0),console.error("Unhandled error : "+o.t0),o.t0;case 17:case"end":return o.stop()}}),null,null,[[0,13]],Promise)},signUpWithQueSelfManaged:function(e,t){var n,r,a;return ae.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,n=It+"/signup",o.next=4,ae.a.awrap(fetch(n,{method:"POST",headers:{"Content-Type":"appliation/json"},body:JSON.stringify({mail:e,password:t})}));case 4:if(r=o.sent,a=r.status.toString(),!Object.values(Me).includes(a)){o.next=10;break}return o.abrupt("return",a);case 10:throw new Error("Undefined error code : "+r.status);case 11:o.next=17;break;case 13:throw o.prev=13,o.t0=o.catch(0),console.error("Unhandled error : "+o.t0),o.t0;case 17:case"end":return o.stop()}}),null,null,[[0,13]],Promise)}},kt=mt={requestVerificationCodeMail:Pt.requestVerificationCodeMail,sendVerificationCode:Pt.sendVerificationCode,signUpWithQueSelfManaged:Pt.signUpWithQueSelfManaged,signInWithGoogle:ut.signInWithGoogle,signInWithQueSelfManaged:ut.signInWithQueSelfManaged,signOut:ut.signOut,refreshUser:ut.refreshUser},Tt=mt,Dt=(Tt.requestVerificationCodeMail,Tt.sendVerificationCode,Tt.signInWithGoogle,Tt.signInWithQueSelfManaged,Tt.signOut,Tt.signUpWithQueSelfManaged,P.c,function(){return Object(P.b)()}),Bt=n(156),Lt=function(){var e=function(e,t){return new Promise((function(n,r){Bt.a.alert(e,t,[{text:"\ub124",onPress:function(){return n(!0)}},{text:"\uc544\ub2c8\uc694",onPress:function(){return n(!1)}}],{cancelable:!1})}))};return Object(o.useCallback)((function(t,n){return ae.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if("web"!==c.a.OS){r.next=4;break}return r.abrupt("return",confirm(t+(n?"\n"+n:"")));case 4:return r.next=6,ae.a.awrap(e(t,n));case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),null,null,null,Promise)}),[])},Et=n(93);function zt(e){return Object(ht.jsxs)(ye.a,{style:{position:"absolute",height:"100%",width:"100%",backgroundColor:b+O,alignItems:"center",justifyContent:"center",elevation:5},children:[Object(ht.jsx)(Et.a,{size:2*C.xlarge,color:s}),Object(ht.jsx)(he.a,{style:{marginTop:v,fontSize:C.xlarge,textAlign:"center",color:d+x},children:e.message})]})}var Mt=Object(o.createContext)({isLoading:!1,setIsLoading:function(){throw new Error("Function not implemented.")},loadingMessage:"",setLoadingMessage:function(e){throw new Error("Function not implemented.")}});function At(e){var t=e.children,n=Object(o.useState)(!1),r=ne()(n,2),a=r[0],i=r[1],c=Object(o.useState)(""),s=ne()(c,2),l=s[0],u=s[1];return Object(ht.jsxs)(Mt.Provider,{value:{isLoading:a,setIsLoading:i,loadingMessage:l,setLoadingMessage:u},children:[t,a?Object(ht.jsx)(zt,{message:l}):null]})}var Vt=function(e){var t=Object(o.useContext)(Mt),n=t.setIsLoading,r=t.setLoadingMessage;return Object(o.useEffect)((function(){e&&r(e)}),[]),{showLoading:Object(o.useCallback)((function(e){r(e||""),n(!0)}),[]),hideLoading:Object(o.useCallback)((function(){r(""),n(!1)}),[])}},Rt={403:"\ube44\ubc00\ubc88\ud638\ub97c \ub2e4\uc2dc \ud655\uc778\ud574\uc8fc\uc138\uc694.",404:"\uc774\uba54\uc77c\uc744 \ub2e4\uc2dc \ud655\uc778\ud574\uc8fc\uc138\uc694.",409:"\ub2e4\ub978 \ubc29\uc2dd\uc73c\ub85c \ub85c\uadf8\uc778\ud574\uc8fc\uc138\uc694.",410:"\uc815\uc9c0\ub41c \uacc4\uc815\uc785\ub2c8\ub2e4. \ubb38\uc758 \ubd80\ud0c1\ub4dc\ub9bd\ub2c8\ub2e4.",400:"\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc774\uba54\uc77c\uc785\ub2c8\ub2e4.",default:"\ub85c\uadf8\uc778 \uacfc\uc815\uc5d0\uc11c \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."},Ut=function(){var e=Ct.a({clientId:"944223797321-3fc5f5sn2l4vl3k3feuf61ckb7mirheb.apps.googleusercontent.com",selectAccount:!0}),t=ne()(e,3),n=t[0],r=t[1],a=t[2],i=Vt(""),c=i.hideLoading,s=i.showLoading,l=Object(Se.q)(),u=Dt();return Object(o.useCallback)((function(){var e,t,n,r,o,i,d;return ae.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:return s(),b.next=3,ae.a.awrap(a());case 3:if("success"!==(e=b.sent).type){b.next=36;break}return n=null==(t=e.authentication)?void 0:t.accessToken,b.prev=6,b.next=9,ae.a.awrap(kt.signInWithGoogle(n));case 9:r=b.sent,b.t0=r.status,b.next=b.t0===Me.OK?13:b.t0===Me.Created?18:23;break;case 13:return u(E({user:r.user})),c(),"CatchPhrase"!==(i=l.getState()).routes[i.index].name&&l.reset({routes:[{name:"CatchPhrase"}]}),b.abrupt("break",26);case 18:return wt.a.show({description:"Google \uacc4\uc815\uc744 \ud1b5\ud574 \uc0c8 Que \uacc4\uc815\uc744 \uc0dd\uc131\ud569\ub2c8\ub2e4."}),c(),l.reset({routes:[{name:"SignUp",params:{hasProvider:!0}}]}),u(E({user:r.user})),b.abrupt("break",26);case 23:return o=Rt[r.status],c(),b.abrupt("break",26);case 26:o&&wt.a.show({description:o}),b.next=34;break;case 29:b.prev=29,b.t1=b.catch(6),d=Rt.default+"\n"+b.t1,wt.a.show({description:d}),c();case 34:b.next=37;break;case 36:c();case 37:case"end":return b.stop()}}),null,null,[[6,29]],Promise)}),[r,n])},Ft=function(e){var t=Dt(),n=Object(Se.q)(),r=Vt(""),a=r.hideLoading,i=r.showLoading;return Object(o.useCallback)((function(r,o){var c,s,l;return ae.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return i(),u.prev=1,u.next=4,ae.a.awrap(kt.signInWithQueSelfManaged(r,o));case 4:c=u.sent,u.t0=c.status,u.next=u.t0===Me.OK?8:11;break;case 8:return t(E({user:c.user})),e&&n.navigate("CatchPhrase"),u.abrupt("break",13);case 11:return s=Rt[c.status],u.abrupt("break",13);case 13:s&&wt.a.show({description:s}),u.next=20;break;case 16:u.prev=16,u.t1=u.catch(1),l=Rt.default+"\n"+u.t1,wt.a.show({description:l});case 20:a();case 21:case"end":return u.stop()}}),null,null,[[1,16]],Promise)}),[])},Nt=function(){var e=Dt(),t=Lt(),n=Object(Se.q)();return Object(o.useCallback)((function(){return ae.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ae.a.awrap(t("\ub85c\uadf8\uc544\uc6c3 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"));case 2:if(!r.sent){r.next=14;break}return r.prev=3,r.next=6,ae.a.awrap(kt.signOut());case 6:wt.a.show({description:"\uc548\ub155\ud788 \uac00\uc138\uc694."}),e(z()),n.reset({routes:[{name:"OnBoarding"}]}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(3),alert("\ub85c\uadf8\uc544\uc6c3 \uc911 \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. "+r.t0);case 14:case"end":return r.stop()}}),null,null,[[3,11]],Promise)}),[])},Ht=function(){var e=Object(P.c)(A),t=Object(P.c)(V);return Object(o.useMemo)((function(){return{user:e,isSigned:t}}),[e,t])},Wt=function(){return Object(o.useCallback)((function(){alert("\uac1c\ubc1c \uc911\uc785\ub2c8\ub2e4. \uc544\uc9c1 \uc54c\ud30c \ubc84\uc804\uc774\ub77c \ubbf8\uc548\ud574\uc694.")}),[])},qt=n(415),Gt=ve;function Jt(){Object(Se.q)(),Nt();var e=Wt(),t=Object(o.useCallback)((function(){e()}),[]),n=Object(o.useCallback)((function(){e()}),[]),r=Ht().user;return Object(ht.jsxs)(ye.a,{style:Gt.buttonsContainer,testID:"homeHeaderButtonsContainer",children:[Object(ht.jsx)(ge.a,{style:Gt.headerButtonView,onPress:n,accessibilityRole:"button",children:Object(ht.jsx)(Ce.a,{style:Gt.headerButtonIcon,name:"search"})}),Object(ht.jsx)(ge.a,{style:Gt.headerButtonView,onPress:t,accessibilityRole:"button",children:Object(ht.jsx)(Ce.a,{style:Gt.headerButtonIcon,name:"notifications-none"})}),Object(ht.jsx)(ye.a,{style:Gt.headerButtonView,children:Object(ht.jsx)(vt,{userId:r.userId,style:Gt.headerProfilePicSize})})]})}var Qt=function(e){var t=Object(xe.a)([n(226)]),r=ne()(t,2),a=r[0],o=(r[1],Object(Se.q)());return Object(ht.jsxs)(ie.a,{style:Gt.default,testID:"homeScreenHeader",children:[e.back?Object(ht.jsxs)(ht.Fragment,{children:[Object(ht.jsx)(qt.a,{onPress:function(){return e.navigation.goBack()}}),Object(ht.jsx)(he.a,{numberOfLines:2,ellipsizeMode:"tail",style:[Gt.titleText],children:e.back.title})]}):Object(ht.jsx)(ye.a,{style:Gt.titleContainer,testID:"homeHeaderTitleContainer",children:Object(ht.jsx)(ge.a,{onPress:function(){o.navigate("Home")},children:a?Object(ht.jsx)(Oe.a,{style:Gt.titleLogo,source:a[0]}):null})}),Object(ht.jsx)(Jt,{})]})},Kt=n(409),Xt=r.a.create({default:{height:56,backgroundColor:d,alignItems:"center",justifyContent:"center",flexDirection:"row",borderTopColor:p,borderTopWidth:1,paddingHorizontal:w+m},buttonTouchableArea:{flex:1,alignItems:"center"},buttonContainer:{alignItems:"center",marginTop:y},uploadButtonImage:{height:2*C.xlarge},buttonFont:{fontSize:C.small,color:b},buttonFontSelected:{fontSize:C.small,color:s},wizardNavBarContainer:{paddingHorizontal:w,justifyContent:"space-between"},wizardButtonContainer:{width:6*v,height:2*C.large},wizardButton:{flex:1},skipButton:{fontSize:C.middle},nextButton:{fontSize:C.large}}),Yt={buttonIcon:{fontSize:C.xlarge,color:b},buttonIconSelected:{color:s}},_t=Xt;var Zt=function(e){var t=Object(xe.a)([n(358)]),r=ne()(t,2),a=r[0],o=(r[1],Wt(),e.state.routes.map((function(t,n){var r=e.descriptors[t.key].options,o=e.state.index===n,i=function(e,t){return{Upload:a?Object(ht.jsx)(Oe.a,{resizeMode:"contain",style:_t.uploadButtonImage,source:a[0]}):null,Timeline:Object(ht.jsxs)(ye.a,{style:_t.buttonContainer,children:[Object(ht.jsx)(Ce.a,{name:"video-library",size:Yt.buttonIcon.fontSize,color:t?Yt.buttonIconSelected.color:Yt.buttonIcon.color}),Object(ht.jsx)(he.a,{style:t?_t.buttonFontSelected:_t.buttonFont,children:"\uc601\uc0c1"})]}),Preference:Object(ht.jsxs)(ye.a,{style:_t.buttonContainer,children:[Object(ht.jsx)(Ce.a,{name:"settings",size:Yt.buttonIcon.fontSize,color:t?Yt.buttonIconSelected.color:Yt.buttonIcon.color}),Object(ht.jsx)(he.a,{style:t?_t.buttonFontSelected:_t.buttonFont,children:"\uc124\uc815"})]})}[e]}(t.name,o);return Object(ht.jsx)(ge.a,{accessibilityRole:"button",accessibilityState:o?{selected:!0}:{},accessibilityLabel:r.tabBarAccessibilityLabel,testID:r.tabBarTestID,onPress:function(){var n,r=e.navigation.emit({type:"tabPress",target:t.key,canPreventDefault:!0});o||r.defaultPrevented||("Upload"===t.name?null==(n=e.navigation.getParent())||n.navigate(t.name,{merge:!0}):e.navigation.navigate(t.name,{merge:!0}))},onLongPress:function(){e.navigation.emit({type:"tabLongPress",target:t.key})},style:_t.buttonTouchableArea,children:i},t.key)})));return Object(ht.jsx)(ye.a,{style:_t.default,children:o})},$t=n(94),en=n(28),tn=n(296),nn=n(87),rn=n(58),an=n(188),on=n(274),cn=n(278);function sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(n),!0).forEach((function(t){fe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var un=r.a.create({buttonBorder:{borderRadius:4,overflow:"hidden"},buttonBody:{flex:1,alignItems:"center",justifyContent:"center"}}),dn={enabledBorder:{bgColor:d,bdColor:b,txColor:b},enabledDark:{bgColor:b,bdColor:b,txColor:d},disabled:{bgColor:d,bdColor:p,txColor:p},primary:{bgColor:h,bdColor:h,txColor:d},white:{bgColor:d,bdColor:d,txColor:b},danger:{bgColor:g,bdColor:g,txColor:d}};function bn(e){var t,n,a,o=function(e){var t,n,a,o,i=dn[e.buttonType],c=e.style?e.style:{fontSize:C.middle,fontWeight:"normal"};return ln(ln({},r.a.create({buttonInside:{backgroundColor:i.bgColor,alignItems:null!=(t=e.iconData)&&t.withText?"flex-start":"center",justifyContent:"center",borderRadius:4,width:"100%",height:"100%",borderWidth:y/2,borderColor:i.bdColor},buttonImage:{height:null!=(n=e.iconData)&&n.iconSize?e.iconData.iconSize:c.fontSize,width:null!=(a=e.iconData)&&a.iconSize?e.iconData.iconSize:c.fontSize,alignSelf:"center"},buttonIcon:{fontSize:null!=(o=e.iconData)&&o.iconSize?e.iconData.iconSize:c.fontSize},buttonText:{textAlign:"center",color:i.txColor,fontSize:c.fontSize,fontWeight:e.bold?"bold":c.fontWeight},gradientBackground:{position:"absolute",width:"100%",height:"100%"},verticalLine:{alignSelf:"center",height:"80%",width:1,backgroundColor:i.txColor},rowFlexContainer:{flex:1,width:"100%",justifyContent:"center",flexDirection:"row"},rowFlexItem:{alignItems:"center",justifyContent:"center",marginHorizontal:y},rowFlexIcon:{},rowFlexText:{width:"100%",flex:1}})),{},{primaryGradient:{colors:[u,s],start:{x:0,y:1},end:{x:1,y:0}}})}(e),i=e.iconData?"image"===(null==(t=e.iconData)?void 0:t.iconType)?Object(ht.jsx)(Oe.a,{source:e.iconData.imageSrc,resizeMode:"contain",style:o.buttonImage}):"ionicon"===(null==(n=e.iconData)?void 0:n.iconType)?Object(ht.jsx)(on.a,{style:[o.buttonText,o.buttonIcon],name:e.iconData.ioniconName}):"material"===(null==(a=e.iconData)?void 0:a.iconType)?Object(ht.jsx)(cn.a,{style:[o.buttonText,o.buttonIcon],name:e.iconData.materialIconName}):null:null;return Object(ht.jsx)(ye.a,{testID:e.testID,style:[e.style,un.buttonBorder],children:Object(ht.jsxs)(en.a,{testID:"roundedButtonPressable",style:[un.buttonBody],onPress:e.onPress,disabled:"disabled"===e.buttonType,accessibilityRole:"button",children:["primary"===e.buttonType?Object(ht.jsx)(an.a,{style:o.gradientBackground,colors:o.primaryGradient.colors,start:o.primaryGradient.start,end:o.primaryGradient.end}):null,Object(ht.jsx)(ye.a,{style:o.buttonInside,children:e.iconData?e.iconData.withText?Object(ht.jsxs)(ye.a,{style:o.rowFlexContainer,children:[Object(ht.jsx)(ye.a,{style:[o.rowFlexItem],children:i}),Object(ht.jsx)(ye.a,{style:[o.rowFlexItem,o.verticalLine]}),Object(ht.jsx)(ye.a,{style:[o.rowFlexItem,o.rowFlexText],children:Object(ht.jsx)(he.a,{selectable:!1,style:[o.buttonText],children:e.children})})]}):i:Object(ht.jsx)(he.a,{selectable:!1,style:o.buttonText,children:e.children})})]})})}bn.defaultProps={children:"",buttonType:"enabledBorder",onPress:function(){console.warn("\ubc84\ud2bc\uc740 \uc65c \ub2ec\uc558\uc2b5\ub2c8\uae4c?")}};var jn=bn,fn=n(80),pn=n(187),xn=n(275),On=r.a.create({menuModalView:{position:"absolute",flex:1,justifyContent:"center",alignItems:"center",alignSelf:"center",backgroundColor:d,bottom:y/2,width:"100%",maxWidth:280,borderRadius:10,paddingHorizontal:y},modalSwipeIndicator:{height:w+C.small,justifyContent:"center",alignItems:"center"},modalSwipeHandle:{backgroundColor:p,width:40,height:4},menuModalChildrenContainer:{width:"100%"},menuModalItemContainer:{flexDirection:"column"},menuModalItemFlexBox:{flexDirection:"row",width:"100%",marginBottom:v},menuModalItemFlexItem:{marginLeft:w},noticeModalView:{position:"absolute",flex:1,justifyContent:"center",alignSelf:"center",backgroundColor:d,width:"90%",maxWidth:560,height:"80%",borderRadius:10,paddingHorizontal:m,overflow:"hidden"},noticeModalHeader:{flexDirection:"row",alignItems:"center",justifyContent:"flex-end",height:5*m,width:"100%"},noticeModalBody:{flex:1,width:"100%"},noticeModalBottom:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",height:5*m,width:"100%"},noticeModalIcon:{fontSize:C.xlarge},noticeModalButtonEnabled:{color:b},noticeModalButtonDisabled:{color:p}});function hn(e){var t=Object(o.useCallback)((function(){return e.setModalVisible(!e.visible)}),[e.visible]);return Object(ht.jsx)(pn.a,{testID:"menuModal",isVisible:e.visible,onBackButtonPress:t,onBackdropPress:t,onSwipeComplete:t,swipeDirection:"down",swipeThreshold:66,children:Object(ht.jsx)(ye.a,{style:On.menuModalView,children:Object(ht.jsx)(fn.a,{children:Object(ht.jsxs)(ye.a,{style:On.menuModalChildrenContainer,children:[Object(ht.jsx)(ye.a,{style:On.modalSwipeIndicator,children:Object(ht.jsx)(ye.a,{style:On.modalSwipeHandle})}),Object(ht.jsx)(ye.a,{style:On.menuModalItemContainer,children:e.children})]})})})})}function gn(e){return Object(ht.jsxs)(ge.a,{style:On.menuModalItemFlexBox,onPress:e.onMenuPress,children:[Object(ht.jsx)(xn.a,{style:On.menuModalItemFlexItem,size:18,name:e.iconName}),Object(ht.jsx)(he.a,{style:On.menuModalItemFlexItem,children:e.menuText})]})}function yn(){var e=Object(xe.a)([n(361),n(362),n(363),n(364)]),t=ne()(e,2),r=t[0],a=(t[1],Object(o.useState)(!0)),i=ne()(a,2),c=i[0],s=i[1],l=Object(o.useState)(!1),u=ne()(l,2),d=u[0],b=u[1],j=Object(o.useState)("anteater1056@gmail.com"),f=ne()(j,2),p=f[0],x=(f[1],Object(o.useState)(!1)),O=ne()(x,2),h=O[0],g=O[1],y=Object(wt.d)();return Object(ht.jsxs)(rn.a,{style:be.defaultScreenLayout,children:[Object(ht.jsxs)(hn,{visible:h,setModalVisible:g,children:[Object(ht.jsx)(gn,{menuText:"\ub178\ub798 \ubd80\ub974\ub294 \uac83\ub3c4",onMenuPress:function(){}}),Object(ht.jsx)(gn,{menuText:"\uc88b\uc544\ud558\ub294 \ud3b8\uc785\ub2c8\ub2e4.",onMenuPress:function(){}}),Object(ht.jsx)(gn,{menuText:"\uadf8\ub9ac\uace0 \uc5ec\uae34",onMenuPress:function(){}}),Object(ht.jsx)(gn,{menuText:"\uc5ec\ub7ec \uae30\ub2a5\ub4e4\uc774 \ud3ec\ud568\ub420 \uc608\uc815\uc785\ub2c8\ub2e4.",onMenuPress:function(){alert("\ub20c\ub7ec\ub3c4 \ubcc4 \uac70 \uc5c6\uc5b4\uc694..")}})]}),Object(ht.jsxs)(ye.a,{style:mn.rootContainer,children:[Object(ht.jsxs)(ye.a,{onTouchEnd:function(){y.show({description:"\uc8c4\uc1a1\ud558\uc9c0\ub9cc \uc900\ube44\ud55c \ud398\uc774\uc9c0\uac00 \ud558\ub098\ubc16\uc5d0 \uc5c6\uc5b4\uc694."})},style:mn.menuContainer,children:[Object(ht.jsx)(he.a,{style:[mn.menuText,mn.menuTextSelected],children:"\ud648"}),Object(ht.jsx)(he.a,{style:mn.menuText,children:"\uc601\uc0c1"}),Object(ht.jsx)(he.a,{style:mn.menuText,children:"\ub9ac\uc561\uc158"}),Object(ht.jsx)(he.a,{style:mn.menuText,children:"\uac8c\uc2dc\ud310"})]}),Object(ht.jsxs)(ye.a,{style:mn.profileContainer,children:[Object(ht.jsxs)(ye.a,{style:mn.profilePictureContainer,children:[r?Object(ht.jsx)(Oe.a,{style:mn.profilePicture,source:r[0]}):null,Object(ht.jsxs)(ye.a,{style:mn.profileLevelIconContainer,children:[Object(ht.jsx)(ye.a,{style:mn.profileLevelIconDeco}),Object(ht.jsx)(en.a,{onPress:function(){y.show({description:"\uc774\uac70\ub294 \uadf8.. \ub808\ubca8 \uac19\uc740 \uac81\ub2c8\ub2e4."})},children:Object(ht.jsx)(he.a,{selectable:!1,style:mn.profileLevelIcon,children:"\ud83d\udd30"})}),Object(ht.jsx)(ye.a,{style:mn.profileLevelIconDeco})]})]}),Object(ht.jsxs)(ye.a,{style:mn.profileTextContainer,children:[Object(ht.jsxs)(ye.a,{style:mn.introductionContainer,children:[Object(ht.jsx)(he.a,{style:mn.myName,children:"\uc774\uc9c0\ud6c8"}),Object(ht.jsx)(he.a,{style:mn.myNickname,children:"@anteater333"}),Object(ht.jsx)(he.a,{numberOfLines:2,style:mn.myComment,children:"\uc548\ub155\ud558\uc138\uc694. \uac1c\ubc1c\uc7a1\ub2c8\ub2e4. \uc774\uac83\uc800\uac83 \ub9cc\ub4dc\ub294\uac78 \uc88b\uc544\ud569\ub2c8\ub2e4."})]}),Object(ht.jsxs)(ye.a,{style:mn.followContainer,children:[Object(ht.jsxs)(ye.a,{style:mn.followTextContainer,children:[Object(ht.jsx)(he.a,{style:mn.followTextTop,children:"\ud314\ub85c\uc6cc"}),Object(ht.jsx)(he.a,{style:mn.followTextBottom,children:"(\uc544\uc8fc \uc801\uc74c)"})]}),Object(ht.jsx)(ye.a,{style:mn.verticalSeparator}),Object(ht.jsxs)(ye.a,{style:mn.followTextContainer,children:[Object(ht.jsx)(he.a,{style:mn.followTextTop,children:"\ud314\ub85c\uc789"}),Object(ht.jsx)(he.a,{style:mn.followTextBottom,children:"(\uc544\uc8fc \ub9ce\uc74c)"})]})]})]})]}),Object(ht.jsxs)(ye.a,{style:mn.buttonContainer,children:[Object(ht.jsx)(jn,{onPress:function(){y.show({description:"\uc0ac\uc2e4 \uc774\uac8c \ubaa8\ub378\ud558\uc6b0\uc2a4 \uac19\uc740\uac70\ub77c\uc11c\uc694.."}),b(!d)},style:{flex:1,fontSize:C.large,textAlignVertical:"center"},buttonType:d?"enabledBorder":"enabledDark",children:d?"\uc5b8\ud314\ub85c\uc6b0":"\ud314\ub85c\uc6b0"}),d?Object(ht.jsx)(jn,{onPress:function(){y.show({description:"\uc2e4\uc81c\ub85c \ub3d9\uc791\ud558\ub294\uac74 \uc544\ub2d9\ub2c8\ub2e4."}),s(!c)},style:{width:2*w,marginLeft:m,fontSize:C.xlarge},iconData:{iconType:"material",materialIconName:c?"notifications-off":"notifications-none"},buttonType:c?"enabledBorder":"enabledDark"}):null,Object(ht.jsx)(jn,{onPress:function(){g(!0)},style:{width:2*w,marginLeft:m,fontSize:C.xlarge},iconData:{iconType:"material",materialIconName:"more-horiz"},buttonType:"enabledBorder"})]}),Object(ht.jsxs)(ye.a,{style:mn.statContainer,children:[Object(ht.jsxs)(ye.a,{style:mn.countContainer,children:[Object(ht.jsxs)(ye.a,{style:mn.countSection,children:[Object(ht.jsx)(he.a,{style:mn.countTextTop,children:"\ud3c9\uade0 \uc810\uc218"}),Object(ht.jsx)(he.a,{style:mn.countTextBottom,children:"(\ub0ae\uc74c)"})]}),Object(ht.jsxs)(ye.a,{style:mn.countSection,children:[Object(ht.jsx)(he.a,{style:mn.countTextTop,children:"\ubc1b\uc740 \u2764\ufe0f \uc218"}),Object(ht.jsx)(he.a,{style:mn.countTextBottom,children:"(\uc801\uc74c)"})]}),Object(ht.jsxs)(ye.a,{style:mn.countSection,children:[Object(ht.jsx)(he.a,{style:mn.countTextTop,children:"\uc804\uccb4 \uc2dc\uccad \uc218"}),Object(ht.jsx)(he.a,{style:mn.countTextBottom,children:"(\ub9ce\uc9c0 \uc54a\uc74c)"})]})]}),Object(ht.jsx)(ye.a,{style:mn.verticalSeparator}),Object(ht.jsxs)(ye.a,{style:mn.graphContainer,children:[Object(ht.jsx)(he.a,{style:mn.countTextTop,children:"\uc810\uc218 \ud1b5\uacc4"}),Object(ht.jsx)(en.a,{onPress:function(){y.show({description:"\ubcf4\uc2dc\ub2e4\uc2dc\ud53c \uadf8\ub0e5 \uc774\ubbf8\uc9c0\uc785\ub2c8\ub2e4."})},children:r?Object(ht.jsx)(Oe.a,{style:mn.graphPlaceholder,source:r[1]}):null})]})]}),Object(ht.jsxs)(ye.a,{style:mn.tasteContainer,children:[Object(ht.jsxs)(ye.a,{style:mn.tasteSection,children:[Object(ht.jsx)(he.a,{style:mn.tasteTextTop,children:"\uc8fc\ub85c \ubd80\ub974\ub294 \uc7a5\ub974"}),Object(ht.jsx)(he.a,{style:mn.tasteTextMiddle,children:"\uac00 \ub4e4\uc5b4\uac08 \uc790\ub9ac\uc9c0\ub9cc \uc9c0\uae08\uc740 \uc81c github \uacc4\uc815\uc785\ub2c8\ub2e4."}),Object(ht.jsx)(en.a,{style:mn.linkButton,onPress:function(){nn.a.openURL("https://github.com/anteater333")},children:r?Object(ht.jsx)(Oe.a,{style:mn.linkButton,source:r[2]}):null})]}),Object(ht.jsxs)(ye.a,{style:mn.tasteSection,children:[Object(ht.jsx)(he.a,{style:mn.tasteTextTop,children:"\uc8fc\ub85c \ub4e3\ub294 \uc7a5\ub974"}),Object(ht.jsx)(he.a,{style:mn.tasteTextMiddle,children:"\uac00 \ub4e4\uc5b4\uac08 \uc790\ub9ac\uc9c0\ub9cc \uc9c0\uae08\uc740 \uc81c \ube14\ub85c\uadf8\uc785\ub2c8\ub2e4."}),Object(ht.jsx)(en.a,{style:mn.linkButton,onPress:function(){nn.a.openURL("https://anteater333.github.io/")},children:r?Object(ht.jsx)(Oe.a,{style:mn.linkButton,source:r[2]}):null})]}),Object(ht.jsxs)(ye.a,{style:mn.tasteSection,children:[Object(ht.jsx)(he.a,{style:mn.tasteTextTop,children:"\uc88b\uc544\ud558\ub294 \uac00\uc218"}),Object(ht.jsx)(he.a,{style:mn.tasteTextMiddle,children:"\uac00 \ub4e4\uc5b4\uac08 \uc790\ub9ac\uc9c0\ub9cc \uc9c0\uae08\uc740 \uc81c \uba54\uc77c \uc8fc\uc18c\uc785\ub2c8\ub2e4."}),Object(ht.jsx)(he.a,{style:mn.linkText,onPress:function(){tn.a(p),y.show({description:"\ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4."})},children:p})]}),Object(ht.jsxs)(ye.a,{style:mn.tasteSection,children:[Object(ht.jsx)(he.a,{style:mn.tasteTextTop,children:"\uc2e4\ub840\uac00 \uc548\ub41c\ub2e4\uba74"}),Object(ht.jsx)(he.a,{style:mn.tasteTextMiddle,children:"\ucee4\ud53c \ud55c \uc794\ub9cc \uc0ac\uc8fc\uc2ed\uc2dc\uc624."}),Object(ht.jsx)(en.a,{style:mn.linkButton,onPress:function(){nn.a.openURL("https://www.buymeacoffee.com/anteater333")},children:r?Object(ht.jsx)(Oe.a,{style:mn.linkButton,source:r[3]}):null})]})]})]})]})}var mn=r.a.create({rootContainer:{},menuContainer:{flexDirection:"row"},menuText:{flex:1,textAlign:"center",textAlignVertical:"center",fontSize:C.large,height:3*v,borderColor:d,borderWidth:y/2},menuTextSelected:{borderBottomColor:b},profileContainer:{flexDirection:"row",margin:w},profilePictureContainer:{flexDirection:"column",marginRight:w},profilePicture:{width:10*C.middle,height:10*C.middle,borderRadius:10*C.middle/2},profileLevelIconContainer:{flex:1,flexDirection:"row",marginTop:m,height:C.large,paddingHorizontal:y,alignItems:"center",justifyContent:"center"},profileLevelIcon:{fontSize:C.large},profileLevelIconDeco:{flex:1,height:y/2,backgroundColor:b,marginHorizontal:y},profileTextContainer:{flex:1},introductionContainer:{marginBottom:m},myName:{fontSize:C.xlarge,fontWeight:"bold"},myNickname:{fontSize:C.middle,color:j,marginBottom:m},myComment:{fontSize:C.middle},followContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center",flex:1,paddingTop:m},verticalSeparator:{backgroundColor:p,width:y/2,height:"100%"},followTextContainer:{alignItems:"center",justifyContent:"center",flex:1},followTextTop:{fontSize:C.large,marginBottom:m},followTextBottom:{fontSize:C.small},buttonContainer:{width:"100%",height:2*w,flexDirection:"row",paddingHorizontal:m},statContainer:{marginTop:w,paddingHorizontal:w,flexDirection:"row"},countContainer:{flex:1.5,justifyContent:"space-between"},countSection:{},countTextTop:{fontSize:C.large},countTextBottom:{fontSize:C.large},graphContainer:{marginLeft:w,flex:2},graphPlaceholder:{alignSelf:"center",marginTop:v},tasteContainer:{marginTop:w,paddingHorizontal:w,resizeMode:"contain"},tasteSection:{marginBottom:w},tasteTextTop:{fontSize:C.xlarge,fontWeight:"bold"},tasteTextMiddle:{fontSize:C.middle,marginBottom:m},linkButton:{width:32,height:32},linkText:{marginTop:-v,fontSize:C.large,color:s}});function vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var wn=Object(de.a)();function Cn(){var e=Nt(),t=Object(Se.q)(),n=Object(o.useState)([{menuName:"\ub85c\uadf8\uc544\uc6c3",onPress:e,iconName:"exit-to-app"},{menuName:"\uac1c\ubc1c\uc790 \uc815\ubcf4",onPress:Object(o.useCallback)((function(){t.navigate("DevInfo")}),[]),iconName:"info-outline"}]),r=ne()(n,2),a=r[0],i=(r[1],Object(o.useCallback)((function(e){var t=e.item;return Object(ht.jsx)(Sn,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vn(Object(n),!0).forEach((function(t){fe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t))}),[]));return Object(ht.jsx)(ye.a,{style:be.defaultScreenLayout,children:Object(ht.jsx)($t.a,{showsHorizontalScrollIndicator:!1,data:a,renderItem:i,keyExtractor:function(e){return e.menuName}})})}function Sn(e){return Object(ht.jsx)(en.a,{onPress:e.onPress,children:Object(ht.jsxs)(ye.a,{style:In.menuItemContainer,children:[Object(ht.jsx)(Ce.a,{style:In.menuItemText,name:e.iconName}),Object(ht.jsx)(he.a,{style:In.menuItemText,children:e.menuName})]})})}var In=r.a.create({menuItemContainer:{flex:1,flexDirection:"row",borderWidth:Math.max(C.small/8,1),borderColor:d,borderBottomColor:f,paddingVertical:w,marginHorizontal:w,alignItems:"center"},menuItemText:{fontSize:C.large,marginRight:v}}),Pn=function(){return Object(ht.jsx)(ye.a,{style:be.defaultScreenLayout,children:Object(ht.jsxs)(wn.Navigator,{screenOptions:{headerShown:!1},children:[Object(ht.jsx)(wn.Screen,{name:"MainMenu",component:Cn}),Object(ht.jsx)(wn.Screen,{name:"DevInfo",component:yn})]})})};var kn=[Object(ht.jsx)((function(){var e=Object(xe.a)([n(365)]),t=ne()(e,2),r=t[0];return t[1],Object(ht.jsx)(ye.a,{style:{flex:1,alignItems:"center",justifyContent:"center"},children:r?Object(ht.jsx)(Oe.a,{style:{flex:1,resizeMode:"contain"},source:r[0]}):null})}),{}),Object(ht.jsx)((function(){var e=Object(xe.a)([n(366)]),t=ne()(e,2),r=t[0];return t[1],Object(ht.jsx)(ye.a,{style:{flex:1,alignItems:"center",justifyContent:"center"},children:r?Object(ht.jsx)(Oe.a,{style:{flex:1,resizeMode:"contain"},source:r[0]}):null})}),{}),Object(ht.jsx)((function(){var e=Object(xe.a)([n(367)]),t=ne()(e,2),r=t[0];return t[1],Object(ht.jsx)(ye.a,{style:{flex:1,alignItems:"center",justifyContent:"center"},children:r?Object(ht.jsx)(Oe.a,{style:{flex:1,resizeMode:"contain"},source:r[0]}):null})}),{}),Object(ht.jsx)((function(){var e=Object(xe.a)([n(368)]),t=ne()(e,2),r=t[0];return t[1],Object(ht.jsx)(ye.a,{style:{flex:1,alignItems:"center",justifyContent:"center"},children:r?Object(ht.jsx)(Oe.a,{style:{flex:1,resizeMode:"contain"},source:r[0]}):null})}),{}),Object(ht.jsx)((function(){var e=Object(xe.a)([n(369)]),t=ne()(e,2),r=t[0];return t[1],Object(ht.jsx)(ye.a,{style:{flex:1,alignItems:"center",justifyContent:"center"},children:r?Object(ht.jsx)(Oe.a,{style:{flex:1,resizeMode:"contain"},source:r[0]}):null})}),{})],Tn=r.a.create({cardView:{width:"100%",height:300},thumbnailView:{height:240,backgroundColor:b,justifyContent:"center",alignItems:"center"},videoThumbnailBackground:{position:"absolute",width:"100%",height:"100%"},videoThumbnailImage:{width:"100%",height:"100%",backgroundColor:b+x},videoThumbnailText:{backgroundColor:b+x,color:d,fontSize:C.small},videoDate:{position:"absolute",bottom:8,left:8,paddingHorizontal:y},videoTime:{position:"absolute",bottom:8,right:8,paddingHorizontal:y},optionButton:{position:"absolute",right:8,top:8,backgroundColor:b+x,height:20,width:20,borderRadius:10,justifyContent:"center",alignItems:"center"},optionButtonText:{color:d,lineHeight:8},cardInfoView:{height:60,backgroundColor:d,flexDirection:"row",justifyContent:"space-between"},profilePic:{alignSelf:"center",fontSize:32,margin:m},infoTitleView:{flex:1,alignItems:"flex-start",justifyContent:"center"},infoTitleText:{height:C.middle+C.small/2,fontSize:C.middle,marginBottom:y},infoSingerText:{fontSize:C.small},reactionView:{flexDirection:"row",marginHorizontal:m,marginTop:v,marginLeft:w,justifyContent:"flex-end"},reactionChildView:{marginRight:v},upperCountText:{height:C.middle+4,alignSelf:"center",fontSize:C.middle+2,marginBottom:y,lineHeight:16,maxWidth:5*w},reactionButtonEnabled:{color:s},reactionButtonDisabled:{color:b},lowerCountText:{alignSelf:"center",fontSize:C.small}}),Dn=n(408),Bn=n(412);function Ln(e){if(e<1e4)return e.toString();var t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)/100);return t.toString()+"."+n.toString()+"k"}function En(e){var t,n=Math.floor(e/1e3);return(t=n%60)<10&&(t="0"+t),Math.floor(n/60)+":"+t}function zn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=new Array(t-e.length).fill(0).join("");return n+e}function Mn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n=e.getFullYear(),r=zn((e.getMonth()+1).toString()),a=zn(e.getDate().toString());return[n,r,a].join(t)}function An(e){var t,n,r=Object(o.useState)(!1),a=ne()(r,2),i=a[0],c=a[1],s=Object(o.useState)(Ln(e.videoInfo.viewCount)),l=ne()(s,2),u=l[0],d=(l[1],Object(o.useState)(Ln(e.videoInfo.likeCount))),b=ne()(d,2),j=b[0],f=(b[1],Object(o.useState)(Ln(e.videoInfo.starCount))),p=ne()(f,2),x=p[0],O=(p[1],Object(o.useState)(!1)),h=ne()(O,2),g=h[0],y=h[1],m=Object(o.useState)(!1),v=ne()(m,2),w=v[0],C=(v[1],e.testID?e.testID:"videoCard"),S=Object(o.useState)(!1),I=ne()(S,2),P=I[0],k=I[1],T=Ht().user;Object(o.useEffect)((function(){T.userId===e.videoInfo.uploader.userId?k(!0):k(!1)}),[T.userId,e.videoInfo.uploader]);var D=Object(Se.q)(),B=Object(o.useCallback)((function(){return ae.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:D.navigate("Video",{videoId:e.videoInfo.videoId});case 1:case"end":return t.stop()}}),null,null,null,Promise)}),[e.videoInfo.videoId]),L=Object(o.useCallback)((function(){return ae.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:D.navigate("Criticism",{videoId:e.videoInfo.videoId});case 1:case"end":return t.stop()}}),null,null,null,Promise)}),[]),E=Object(o.useCallback)((function(){return ae.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:y(!g);case 1:case"end":return e.stop()}}),null,null,null,Promise)}),[g]),z=Wt();return Object(ht.jsxs)(ge.a,{testID:C,style:(Tn.cardView,e.style),onPress:B,children:[Object(ht.jsxs)(hn,{visible:i,setModalVisible:c,children:[Object(ht.jsx)(gn,{iconName:"share",menuText:"\uacf5\uc720",onMenuPress:function(){return z()}}),P?Object(ht.jsx)(gn,{iconName:"create-outline",menuText:"\uc218\uc815",onMenuPress:function(){c(!1),D.navigate("VideoEdit",{videoData:e.videoInfo})}}):Object(ht.jsx)(gn,{iconName:"flag",menuText:"\uc2e0\uace0",onMenuPress:function(){return z()}})]}),Object(ht.jsx)(Vn,{uri:e.videoInfo.thumbnailUrl,length:e.videoInfo.length,uploadedAt:e.videoInfo.uploadedAt,direction:"vertical",onPressMenuButton:function(){return c(!0)}}),Object(ht.jsx)(Rn,{onPressLike:E,onPressStar:L,liked:g,starred:w,title:e.videoInfo.title,uploaderName:null==(t=e.videoInfo.uploader)?void 0:t.nickname,uploaderId:null==(n=e.videoInfo.uploader)?void 0:n.userId,viewCount:u,likeCount:j,starCount:x})]})}function Vn(e){var t,n=Object(o.useState)(e.length?En(e.length):"0:00"),r=ne()(n,2),a=r[0],i=(r[1],Object(o.useState)(e.uploadedAt?(t=e.uploadedAt,Object(Dn.a)(t,{locale:Bn.a})+" \uc804"):"\uc54c \uc218 \uc5c6\uc74c")),c=ne()(i,2),s=c[0],l=(c[1],Object(o.useState)({})),u=ne()(l,2),d=u[0],b=u[1],j="horizontal"==e.direction?Object(o.useState)("stretch"):Object(o.useState)("contain"),f=ne()(j,2),p=f[0],x=(f[1],Object(o.useState)(!1)),O=ne()(x,2),h=(O[0],O[1]);return Object(o.useEffect)((function(){return h(!0),function(){var t;ae.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ae.a.awrap(jt(e.uri));case 2:t=n.sent,b({uri:t});case 4:case"end":return n.stop()}}),null,null,null,Promise)}(),function(){return h(!1)}}),[e.uri]),Object(ht.jsxs)(ye.a,{style:Tn.thumbnailView,testID:"cardThumbnailView",children:[Object(ht.jsx)(Oe.a,{testID:"cardThumbnailBackground",style:Tn.videoThumbnailBackground,resizeMode:"stretch",source:d}),Object(ht.jsx)(Oe.a,{testID:"cardThumbnailImage",style:Tn.videoThumbnailImage,resizeMode:p,source:d}),Object(ht.jsx)(he.a,{testID:"cardThumbnailDate",style:[Tn.videoThumbnailText,Tn.videoDate],children:s}),Object(ht.jsx)(he.a,{testID:"cardThumbnailTime",style:[Tn.videoThumbnailText,Tn.videoTime],children:a}),Object(ht.jsx)(ge.a,{testID:"cardThumbnailButton",onPress:e.onPressMenuButton,style:Tn.optionButton,children:Object(ht.jsx)(he.a,{style:Tn.optionButtonText,children:"..."})})]})}function Rn(e){var t,n;return t=e.liked?Object(ht.jsx)(xn.a,{testID:"cardInfoLikedButton",name:"heart",style:Tn.upperCountText,color:Tn.reactionButtonEnabled.color}):Object(ht.jsx)(xn.a,{testID:"cardInfoLikeButton",name:"heart-outline",style:Tn.upperCountText,color:Tn.reactionButtonDisabled.color}),n=e.starred?Object(ht.jsx)(xn.a,{testID:"cardInfoStarredButton",name:"star",style:Tn.upperCountText,color:Tn.reactionButtonEnabled.color}):Object(ht.jsx)(xn.a,{testID:"cardInfoStarButton",name:"star-outline",style:Tn.upperCountText,color:Tn.reactionButtonDisabled.color}),Object(ht.jsxs)(ye.a,{style:Tn.cardInfoView,children:[Object(ht.jsx)(vt,{testID:"cardInfoProfilePic",style:Tn.profilePic,userId:e.uploaderId}),Object(ht.jsxs)(ye.a,{style:Tn.infoTitleView,children:[Object(ht.jsx)(he.a,{testID:"cardInfoTitleText",style:Tn.infoTitleText,numberOfLines:1,children:e.title}),Object(ht.jsx)(he.a,{testID:"cardInfoSingerText",style:Tn.infoSingerText,numberOfLines:1,children:e.uploaderName})]}),Object(ht.jsx)(fn.a,{children:Object(ht.jsxs)(ye.a,{style:Tn.reactionView,children:[Object(ht.jsxs)(ye.a,{style:Tn.reactionChildView,children:[t,Object(ht.jsx)(he.a,{testID:"cardInfoLikeCount",style:Tn.lowerCountText,numberOfLines:1,children:e.likeCount})]}),Object(ht.jsxs)(ye.a,{style:Tn.reactionChildView,children:[n,Object(ht.jsx)(he.a,{testID:"cardInfoStarCount",style:Tn.lowerCountText,numberOfLines:1,children:e.starCount})]}),Object(ht.jsxs)(ye.a,{style:Tn.reactionChildView,children:[Object(ht.jsx)(he.a,{style:Tn.upperCountText,numberOfLines:1,children:e.viewCount}),Object(ht.jsx)(he.a,{testID:"cardInfoViewCount",style:Tn.lowerCountText,children:"Views"})]})]})})]})}var Un=r.a.create({cardListConatiner:{backgroundColor:d},indicatorContainer:{margin:v,alignItems:"center",justifyContent:"center"},noMoreDataImage:{opacity:.25,height:36},easterMessage:{opacity:.25,color:b,fontSize:C.small,marginTop:m}});function Fn(e){var t=Object(o.useState)(!1),n=ne()(t,2),r=n[0],a=n[1],i=Object(o.useCallback)((function(t){var n=t.item,a=t.index;return n.videoId?Object(ht.jsx)(An,{testID:"videoCardItem"+a,videoInfo:n}):"isLoading"==n.indicatorType?r?Object(ht.jsx)(Hn,{}):null:"noMoreData"==n.indicatorType&&e.noMoreData&&!e.hideNoMoreDataIndicator?Object(ht.jsx)(Nn,{}):null}),[e.noMoreData,r]),c=Object(o.useCallback)((function(){return ae.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(r||e.noMoreData){t.next=5;break}return a(!0),t.next=4,ae.a.awrap(e.onScrollEnded());case 4:a(!1);case 5:case"end":return t.stop()}}),null,null,null,Promise)}),[r,e.noMoreData,e.onScrollEnded]);Object(o.useCallback)((function(){return ae.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=5;break}return a(!0),t.next=4,ae.a.awrap(e.onRefresh());case 4:a(!1);case 5:case"end":return t.stop()}}),null,null,null,Promise)}),[r,e.onRefresh]);return Object(ht.jsx)($t.a,{showsHorizontalScrollIndicator:!1,testID:"videoCardList",data:[].concat(Re()(e.videoData),[{indicatorType:"isLoading"},{indicatorType:"noMoreData"}]),contentContainerStyle:Un.cardListConatiner,renderItem:i,onEndReached:c,onEndReachedThreshold:.2,onRefresh:e.onRefresh,refreshing:r,keyExtractor:function(e){return e.videoId?e.videoId:e.indicatorType}})}function Nn(){var e=Object(xe.a)([n(226)]),t=ne()(e,2),r=t[0];t[1];return Object(ht.jsxs)(ye.a,{style:Un.indicatorContainer,children:[r?Object(ht.jsx)(Oe.a,{style:Un.noMoreDataImage,resizeMode:"contain",source:r[0]}):null,Object(ht.jsx)(he.a,{style:Un.easterMessage,children:"QUE\ub294 \uc544\uc9c1 \uc790\ub77c\ub098\ub294 \uc911\uc774\uc5d0\uc694 ;)"})]})}function Hn(){return Object(ht.jsx)(ye.a,{style:Un.indicatorContainer,children:Object(ht.jsx)(Et.a,{color:s,size:"large"})})}function Wn(e){var t=Object(o.useState)(0),n=ne()(t,2),r=n[0],a=n[1],i=Object(o.useState)(!1),c=ne()(i,2),s=c[0],l=c[1],u=Object(o.useState)(!1),d=ne()(u,2),b=d[0],j=d[1];Object(o.useEffect)((function(){l(0===r),j(r>=e.pages.length-1)}),[r]);var f=Object(o.useCallback)((function(){return e.setModalVisible(!e.visible)}),[e.visible]),p=Object(o.useCallback)((function(){s||a(r-1)}),[r,s]),x=Object(o.useCallback)((function(){b||a(r+1)}),[r,b]);return Object(ht.jsx)(pn.a,{testID:"menuModal",isVisible:e.visible,animationIn:"zoomIn",animationOut:"zoomOut",children:Object(ht.jsxs)(ye.a,{style:On.noticeModalView,children:[Object(ht.jsx)(ye.a,{style:On.noticeModalHeader,children:Object(ht.jsx)(Ce.a,{selectable:!1,style:On.noticeModalIcon,onPress:f,name:"close"})}),Object(ht.jsx)(ye.a,{style:On.noticeModalBody,children:e.pages[r]}),Object(ht.jsxs)(ye.a,{style:On.noticeModalBottom,children:[Object(ht.jsx)(Ce.a,{selectable:!1,style:[On.noticeModalIcon,s?On.noticeModalButtonDisabled:On.noticeModalButtonEnabled],onPress:s?void 0:p,name:"navigate-before"}),Object(ht.jsx)(Ce.a,{selectable:!1,style:[On.noticeModalIcon,b?On.noticeModalButtonDisabled:On.noticeModalButtonEnabled],onPress:b?void 0:x,name:"navigate-next"})]})]})})}var qn=function(){var e=Object(o.useState)([]),t=ne()(e,2),n=t[0],r=t[1],a=Object(o.useState)(!1),i=ne()(a,2),c=i[0],s=i[1],l=Object(o.useState)(!1),u=ne()(l,2),d=u[0],b=u[1],j=Object(o.useState)(!1),f=ne()(j,2),p=f[0],x=f[1],O=Ht().user,h=function(e){var t=Dt(),n=Object(P.c)(G);return Object(o.useEffect)((function(){t(q({noticeId:e}))}),[e]),{noticeList:Object(o.useMemo)((function(){return n[e]}),[n]),addUser:Object(o.useCallback)((function(n){t(W({noticeId:e,userId:n}))}),[])}}("ALPHA01"),g=h.noticeList,y=h.addUser,m=Vt();Object(Se.o)(Object(o.useCallback)((function(){O.userId&&!g[O.userId]&&(b(!0),y(O.userId))}),[O.userId,g]));var v=Object(o.useCallback)((function(){var e,t;return ae.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return s(!1),e=5,n.next=4,ae.a.awrap(dt.getVideoCardData(e,0));case 4:t=n.sent,r(t),t.length<e&&s(!0);case 7:case"end":return n.stop()}}),null,null,null,Promise)}),[]);Object(Se.o)(Object(o.useCallback)((function(){p||(m.showLoading(),v().finally((function(){x(!0),m.hideLoading()})))}),[p]));var w=Object(o.useCallback)((function(){var e,t;return ae.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=3,n.next=3,ae.a.awrap(dt.getVideoCardData(e,1));case 3:t=n.sent,r((function(e){return[].concat(Re()(e),Re()(t))})),t.length<e&&s(!0);case 6:case"end":return n.stop()}}),null,null,null,Promise)}),[n]);return Object(ht.jsxs)(ye.a,{style:be.defaultScreenLayout,children:[Object(ht.jsx)(Wn,{visible:d,setModalVisible:b,pages:kn}),Object(ht.jsx)(Fn,{videoData:n,onScrollEnded:w,noMoreData:c,onRefresh:v})]})};function Gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Jn=Object(Kt.a)();var Qn=function(){return Object(ht.jsx)(ye.a,{style:{flex:1},children:Object(ht.jsxs)(Jn.Navigator,{tabBar:function(e){return Object(ht.jsx)(Zt,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gn(Object(n),!0).forEach((function(t){fe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))},screenOptions:{headerShown:!1},children:[Object(ht.jsx)(Jn.Screen,{name:"Timeline",component:qn,options:{title:"\uc601\uc0c1"}}),Object(ht.jsx)(Jn.Screen,{name:"Upload",component:pe}),Object(ht.jsx)(Jn.Screen,{name:"Preference",component:Pn,options:{title:"\uc124\uc815"}})]})})},Kn=we;var Xn=function(e){var t=Object(xe.a)([n(231)]),r=ne()(t,2),a=r[0];return r[1],Object(ht.jsxs)(ie.a,{style:Kn.default,testID:"commonHeader",children:[Object(ht.jsx)(ye.a,{style:Kn.backButtonContainer,children:e.hideBackButton?null:Object(ht.jsx)(qt.a,{onPress:function(){return e.navigation.goBack()}})}),Object(ht.jsx)(ye.a,{style:Kn.titleContainer,children:e.replaceTitleWithLogo&&a?Object(ht.jsx)(Oe.a,{style:Kn.titleLogo,source:a[0]}):Object(ht.jsx)(he.a,{style:Kn.titleText,children:e.options.title})}),Object(ht.jsx)(ye.a,{style:Kn.roundedButtonContainer,children:e.hideButton?null:Object(ht.jsx)(jn,{style:Kn.roundedButton,buttonType:e.buttonType,onPress:e.onPress,children:"\ud655\uc778"})})]})},Yn=r.a.create({largeButtonsContainer:{flex:1,width:"100%",paddingHorizontal:2*w,paddingTop:2*w,paddingBottom:6*w,alignItems:"center",justifyContent:"center"},warningText:{textAlign:"center",fontSize:C.middle,color:s},largeButton:{alignItems:"center",justifyContent:"center",margin:v},largeButtonDisabled:{opacity:.3},largeButtonIcon:{fontSize:10*C.xlarge},largeButtonText:{fontSize:C.xlarge},seperation:{width:"100%",height:1,backgroundColor:f,marginTop:w},videoContainer:{backgroundColor:b,marginBottom:w,height:15*w},dataInputContainer:{paddingTop:w,paddingHorizontal:w},dataInputLabel:{marginBottom:y},dataInputField:{marginBottom:w,fontSize:C.xlarge}}),_n={buttonEnabled:!1,setButtonEnabled:function(e){throw new Error("Function not implemented.")},buttonHidden:!1,setButtonHidden:function(e){throw new Error("Function not implemented.")},videoTitle:"",setVideoTitle:function(e){throw new Error("Function not implemented.")},videoDescription:"",setVideoDescription:function(e){throw new Error("Function not implemented.")},songInfo:{},setSongInfo:function(e){throw new Error("Function not implemented.")},placeInfo:{},setPlaceInfo:function(e){throw new Error("Function not implemented.")},videoPath:"",setVideoPath:function(e){throw new Error("Function not implemented.")},thumbnailPath:"",setThumbnailPath:function(e){throw new Error("Function not implemented.")},videoLength:0,setVideoLength:function(e){throw new Error("Function not implemented.")}},Zn=Object(o.createContext)(_n),$n=n(405),er=n(161),tr={minHeight:C.xlarge,maxHeight:10*C.xlarge},nr=r.a.create({default:{borderBottomWidth:2,fontSize:C.xlarge,color:b,minHeight:tr.minHeight,maxHeight:tr.maxHeight},valid:{borderColor:b},invalid:{borderColor:g},disabled:{borderColor:p,color:j}}),rr=function(e,t,n){return e=e<(t=t||tr.maxHeight)?e:t,"number"==typeof(n=n||tr.minHeight)&&"number"==typeof e?r.a.create({calculated:{height:Math.max(n,e)}}):r.a.create({calculated:{height:e}})};function ar(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(n),!0).forEach((function(t){fe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ar(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ir=nr;function cr(e){var t=Object(o.useState)(!1),n=ne()(t,2),r=(n[0],n[1]),a=Object(o.useState)(0),i=ne()(a,2),c=i[0],s=i[1];return Object(ht.jsx)(er.a,or(or({},e),{},{scrollEnabled:!1,onFocus:function(t){r(!0),e.onFocus&&e.onFocus(t)},onBlur:function(t){r(!1),e.onBlur&&e.onBlur(t)},onContentSizeChange:function(e){s(e.nativeEvent.contentSize.height)},style:[ir.default,e.invalid?ir.invalid:ir.valid,e.disabled?ir.disabled:{},e.style,e.multiline?rr(c,e.style.maxHeight,e.style.minHeight).calculated:{}],children:e.children}))}cr.defaultProps={invalid:!1};var sr=cr,lr=n(411),ur=C.xlarge,dr=r.a.create({container:{flex:1},videoCoreContainer:{flex:1},videoCore:{flex:1,justifyContent:"center"},videoControllerView:{position:"absolute",height:"100%",width:"100%",alignItems:"center",justifyContent:"flex-end"},videoTransparentPressableArea:{position:"absolute",height:"100%",width:"100%",zIndex:0,elevation:0},videoDarkOverlay:{position:"absolute",height:"100%",width:"100%",backgroundColor:b+O,zIndex:0,elevation:0},videoUpperControllerContainer:{position:"absolute",top:0,width:"100%"},videoInfoContainer:{padding:w},videoInfoRow:{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:m},videoInfoColor:{color:d+x},videoInfoText:{fontSize:C.middle},videoTitleText:{fontSize:C.xlarge+C.middle,maxWidth:8*C.xlarge},videoUploaderText:{fontSize:C.large,textAlignVertical:"center"},videoDescriptionContainer:{height:8*C.middle},videoDescriptionText:{fontSize:C.middle},videoReactionContainer:{flex:1,paddingTop:m},videoReactionRow:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},videoReactionText:{fontSize:C.middle,minWidth:2*C.middle,textAlign:"right"},videoReactionItem:{marginLeft:m,flexDirection:"row",alignItems:"center",justifyContent:"center"},videoMiddleControllerContainer:{flex:1,justifyContent:"center",alignItems:"center"},videoBufferIndicator:{fontSize:5*C.xlarge,color:d+x},videoBigButton:{paddingTop:C.large,height:6*C.xlarge,lineHeight:6*C.xlarge},videoMiddleButtonContainer:{flexDirection:"row",paddingTop:5*v},videoMiddleDummyArea:{height:8*w},videoMiddleButtonSpace:{width:6*w},videoMiddleButton:{fontSize:4*C.large},videoMiddleButtonText:{color:d+x,textAlign:"center",fontSize:C.large},videoBottomControllerContainer:{flexDirection:"row",width:"100%",paddingBottom:m,paddingHorizontal:w,alignItems:"flex-end",overflow:"visible"},videoSmallButton:{height:C.xlarge,lineHeight:C.xlarge},videoSliderContainer:{flex:1,alignContent:"center",justifyContent:"flex-end",marginHorizontal:m,overflow:"visible"},videoSlider:{overflow:"visible"},videoHeartArea:{height:1.5*C.xlarge,overflow:"visible",width:"100%"},videoHeartIndicatorContainer:{position:"absolute",bottom:"web"===c.a.OS?0:y,width:2*ur,height:2*ur,alignItems:"center",justifyContent:"flex-end",overflow:"visible",zIndex:100,elevation:"android"===c.a.OS?50:0},videoHeartIndicatorText:{color:d+x,fontSize:C.small,textAlign:"center",justifyContent:"flex-end",alignItems:"flex-end",width:4*C.small},videoHeartIndicatorIcon:{color:g+x,fontSize:C.large},videoHeartIndicatorEmpty:{height:2*v}}),br=function(e,t,n){var a=("web"===c.a.OS?e*(n-ur)/t:ur/2.5+e*(n-2*ur)/t)-ur/2;return r.a.create({style:{left:a}}).style},jr=r.a.create({default:{color:l,tintColor:s}}),fr={color:d+x,heartColor:g+x,sizeLarge:C.large,sizeXlarge:C.xlarge,sizeXXlarge:6*C.xlarge},pr=n(18),xr=n(279),Or=n.n(xr),hr=function(e,t,n){var r=void 0;return Object(o.useCallback)((function(a){r&&clearTimeout(r),a&&a.updateNewTimer&&(r=setTimeout((function(){e(t)}),n))}),[r])};function gr(e){return Object(ht.jsx)(ht.Fragment,{children:e.isBuffering?Object(ht.jsx)(Et.a,{size:dr.videoBufferIndicator.fontSize,color:dr.videoBufferIndicator.color,style:dr.videoBigButton}):e.isControlHidden?null:Object(ht.jsx)(ye.a,{children:Object(ht.jsx)(en.a,{onPress:e.togglePlay,children:Object(ht.jsx)(Ce.a,{style:dr.videoBigButton,selectable:!1,color:fr.color,size:fr.sizeXXlarge,name:e.isPlaying?"pause":e.didJustFinish?"replay":"play-arrow"})})})})}var yr=pr.a.createAnimatedComponent(Ce.a);function mr(e){var t=Object(o.useState)(!0),n=ne()(t,2),r=n[0],a=n[1],i=Object(o.useState)(0),c=ne()(i,2),s=c[0],l=c[1],u=Object(o.useCallback)((function(e){l(e.nativeEvent.layout.width)}),[]),d=Object(o.useRef)(new pr.a.Value(0)).current,b=d.interpolate({inputRange:[0,1],outputRange:[fr.color,fr.heartColor]}),j=hr(a,!0,500);Object(o.useEffect)((function(){e.useLikes&&(j(),a(!e.noMoreLike))}),[e.useLikes,e.useLikes?e.noMoreLike:void 0]),Object(o.useEffect)((function(){r?pr.a.timing(d,{toValue:0,duration:250,useNativeDriver:!1}).start():pr.a.timing(d,{toValue:1,duration:250,useNativeDriver:!1}).start()}),[r,d]);var f=Object(o.useCallback)((function(){a(!1),j({updateNewTimer:!0})}),[]),p=Object(o.useCallback)((function(){return ae.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r||!e.useLikes){t.next=6;break}return f(),t.next=4,ae.a.awrap(e.onLike());case 4:t.next=7;break;case 6:e.useLikes&&e.noMoreLike;case 7:case"end":return t.stop()}}),null,null,null,Promise)}),[r,e.useLikes,e.useLikes?e.noMoreLike:void 0]),x=null;return e.useLikes&&(x=e.likesData.map((function(t,n){return Object(ht.jsx)(vr,{isPlaying:e.isPlaying,likeData:t,sliderWidth:s,videoLength:e.videoLength,onDislike:e.onDislike},n)}))),Object(ht.jsx)(fn.a,{children:Object(ht.jsxs)(ye.a,{style:dr.videoBottomControllerContainer,children:[Object(ht.jsx)(en.a,{onPress:e.togglePlay,children:Object(ht.jsx)(Ce.a,{style:dr.videoSmallButton,selectable:!1,color:fr.color,size:fr.sizeXlarge,name:e.isPlaying?"pause":e.didJustFinish?"replay":"play-arrow"})}),Object(ht.jsxs)(ye.a,{onLayout:u,style:dr.videoSliderContainer,children:[e.useLikes?Object(ht.jsx)(ye.a,{style:dr.videoHeartArea,children:x}):null,Object(ht.jsx)(Or.a,{style:dr.videoSlider,minimumValue:0,maximumValue:1,minimumTrackTintColor:jr.default.color,maximumTrackTintColor:jr.default.color,thumbTintColor:jr.default.tintColor,value:e.videoPosition/e.videoLength,onSlidingComplete:e.seekVideo})]}),e.useLikes?Object(ht.jsx)(en.a,{onPress:p,children:Object(ht.jsx)(yr,{style:[dr.videoSmallButton,{color:b}],size:fr.sizeXlarge,selectable:!1,name:"favorite"})}):null]})})}function vr(e){var t=Object(o.useState)(!1),n=ne()(t,2),r=n[0],a=n[1],i=Object(o.useCallback)((function(){return ae.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a(!1),t.next=3,ae.a.awrap(e.onDislike(e.likeData));case 3:case"end":return t.stop()}}),null,null,null,Promise)}),[e.likeData]);return Object(ht.jsxs)(en.a,{style:[dr.videoHeartIndicatorContainer,br(e.likeData.likePosition,e.videoLength,e.sliderWidth)],onPress:function(){a(!0)},children:[Object(ht.jsx)(hn,{visible:r,setModalVisible:a,children:Object(ht.jsx)(gn,{iconName:"heart-dislike",menuText:"\uc88b\uc544\uc694 \ucde8\uc18c",onMenuPress:i})}),e.isPlaying?Object(ht.jsx)(ye.a,{style:dr.videoHeartIndicatorEmpty}):Object(ht.jsx)(he.a,{selectable:!1,numberOfLines:1,style:dr.videoHeartIndicatorText,children:En(e.likeData.likePosition)}),Object(ht.jsx)(Ce.a,{selectable:!1,style:dr.videoHeartIndicatorIcon,name:"favorite"})]})}var wr=function(e){var t=Object(o.useRef)(null),n=Object(o.useState)(!1),r=ne()(n,2),a=r[0],i=r[1],c=Object(o.useState)(!1),s=ne()(c,2),l=s[0],u=s[1],d=Object(o.useState)(!1),b=ne()(d,2),j=b[0],f=b[1],p=Object(o.useState)(!1),x=ne()(p,2),O=x[0],h=x[1],g=Object(o.useState)(0),y=ne()(g,2),m=y[0],v=y[1],w=Object(o.useState)(1),C=ne()(w,2),S=C[0],I=C[1],P=Object(o.useState)(!1),k=ne()(P,2),T=k[0],D=k[1],B=Object(o.useCallback)((function(e){e.isLoaded?(i(e.isLoaded),u(e.isPlaying),f(e.didJustFinish),h(e.isBuffering),v(e.positionMillis),e.durationMillis&&I(e.durationMillis)):e.error&&console.error(e.error)}),[]);Object(o.useEffect)((function(){j&&D(!1)}),[j]);var L=Object(o.useCallback)((function(e){var n;a&&(null==(n=t.current)||n.setPositionAsync(S*e))}),[S,a]),E=hr(D,!0,2e3),z=Object(o.useCallback)((function(){T||(E(),D(!0))}),[T]),M=Object(o.useCallback)((function(){T&&(E({updateNewTimer:l}),D(!1))}),[T,l]),A=Object(o.useCallback)((function(){if(a){if(l){var e;null==(e=t.current)||e.pauseAsync()}else{var n,r;if(j)null==(r=t.current)||r.setPositionAsync(0);null==(n=t.current)||n.playAsync()}E({updateNewTimer:!l})}}),[l,j,a,t]);return Object(ht.jsxs)(ye.a,{style:dr.container,children:[Object(ht.jsx)(ye.a,{style:dr.videoCoreContainer,children:Object(ht.jsx)(lr.a,{style:dr.videoCore,source:{uri:e.videoSource},ref:t,resizeMode:"contain",onPlaybackStatusUpdate:B})}),Object(ht.jsx)(en.a,{onPress:M,style:dr.videoTransparentPressableArea}),T?null:Object(ht.jsx)(en.a,{onPress:z,style:dr.videoDarkOverlay}),Object(ht.jsxs)(ye.a,{style:dr.videoControllerView,children:[Object(ht.jsx)(ht.Fragment,{}),Object(ht.jsx)(ye.a,{style:dr.videoMiddleControllerContainer,children:Object(ht.jsx)(gr,{isBuffering:O,isControlHidden:T,togglePlay:A,isPlaying:l,didJustFinish:j})}),Object(ht.jsx)(mr,{togglePlay:A,isPlaying:l,didJustFinish:j,videoPosition:m,videoLength:S,seekVideo:L})]})]})};var Cr=function(e){var t=Object(Se.p)(),n=Object(o.useContext)(Zn),r=n.setButtonHidden,a=n.setButtonEnabled,i=n.placeInfo,c=n.setPlaceInfo,s=n.songInfo,l=n.setSongInfo,u=n.videoDescription,d=n.setVideoDescription,b=n.videoTitle,j=n.setVideoTitle,f=n.videoPath;return Object(o.useEffect)((function(){t&&(r(!1),a(!1))}),[t]),Object(o.useEffect)((function(){b.length>=2&&s.title&&a(!0)}),[b,s.title]),Object(ht.jsx)(ie.a,{style:be.defaultScreenLayout,children:Object(ht.jsx)(Sr,{placeInfo:i,setPlaceInfo:c,setSongInfo:l,videoPath:f,videoTitle:b,setVideoTitle:j,videoDescription:u,setVideoDescription:d,songInfo:s})})};function Sr(e){var t=e.setVideoTitle,n=e.videoPath,r=e.videoTitle,a=e.placeInfo,o=e.setPlaceInfo,i=e.setSongInfo,c=e.setVideoDescription,s=e.songInfo,l=e.videoDescription;return Object(ht.jsxs)(ht.Fragment,{children:[Object(ht.jsx)(ye.a,{style:Yn.videoContainer,children:Object(ht.jsx)(wr,{videoData:{},videoSource:n})}),Object(ht.jsxs)($n.a,{style:Yn.dataInputContainer,children:[Object(ht.jsx)(he.a,{style:Yn.dataInputLabel,children:"\ubb34\ub300 \uc81c\ubaa9"}),Object(ht.jsx)(sr,{accessibilityRole:"text",textContentType:"none",style:Yn.dataInputField,placeholder:"\ubb34\ub300 \uc81c\ubaa9",onChangeText:function(e){return t(e)},value:r}),Object(ht.jsx)(he.a,{style:Yn.dataInputLabel,children:"\ubb34\ub300 \uc124\uba85"}),Object(ht.jsx)(sr,{accessibilityRole:"text",textContentType:"none",multiline:!0,style:Yn.dataInputField,placeholder:"\ubb34\ub300 \uc124\uba85",onChangeText:function(e){return c(e)},value:l}),Object(ht.jsx)(he.a,{style:Yn.dataInputLabel,children:"\ub178\ub798"}),Object(ht.jsx)(sr,{accessibilityRole:"text",textContentType:"none",style:Yn.dataInputField,placeholder:"\ub178\ub798",onChangeText:function(e){return i({title:e})},value:s.title}),Object(ht.jsx)(he.a,{style:Yn.dataInputLabel,children:"\uc7a5\uc18c"}),Object(ht.jsx)(sr,{accessibilityRole:"text",textContentType:"none",style:Yn.dataInputField,placeholder:"\uc7a5\uc18c",onChangeText:function(e){return o({name:e})},value:a.name})]})]})}var Ir=n(101),Pr=n(133),kr=n(75),Tr=n(414);function Dr(e){var t,n;return ae.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if("web"!==c.a.OS){r.next=11;break}return r.t0=ae.a,r.next=4,ae.a.awrap(fetch(e));case 4:return r.t1=r.sent.blob(),r.next=7,r.t0.awrap.call(r.t0,r.t1);case 7:return t=r.sent,r.abrupt("return",t.size);case 11:return r.next=13,ae.a.awrap(Tr.a(e));case 13:return n=r.sent,r.abrupt("return",n.size);case 15:case"end":return r.stop()}}),null,null,null,Promise)}function Br(e,t){return e/1024/1024<=t}function Lr(e){return ae.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){var r=new Audio(e);r.onloadedmetadata=function(){t(Math.ceil(1e3*r.duration))}})));case 1:case"end":return t.stop()}}),null,null,null,Promise)}var Er=n(280),zr=n(295);var Mr=function(){var e=Object(Se.q)(),t=Object(Se.p)(),n=Object(wt.d)(),r=Object(o.useContext)(Zn),a=r.setButtonHidden,i=r.setThumbnailPath,s=r.setVideoPath,l=r.setVideoLength,u=Vt(),d=u.hideLoading,b=u.showLoading,j=Object(o.useCallback)((function(){var t,r,a,o,u;return ae.a.async((function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,ae.a.awrap(Pr.b());case 2:if(!1!==j.sent.granted){j.next=6;break}return"android"===c.a.OS?Ir.a.show("\uad8c\ud55c\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.",Ir.a.SHORT):alert("\uad8c\ud55c\uc774 \ud544\uc694\ud569\ub2c8\ub2e4."),j.abrupt("return");case 6:return j.next=8,ae.a.awrap(Pr.a({mediaTypes:kr.a.Videos}));case 8:if((t=j.sent).cancelled){j.next=46;break}return b("\uc601\uc0c1\uc744 \uac00\uc838\uc624\ub294 \uc911\uc785\ub2c8\ub2e4."),j.next=13,ae.a.awrap(Dr(t.uri));case 13:if(r=j.sent){j.next=17;break}return d(),j.abrupt("return");case 17:if(Br(r,20)){j.next=21;break}return n.show({description:"\uc601\uc0c1\uc774 \ub108\ubb34 \ud07d\ub2c8\ub2e4! (\ud06c\uae30 \uc81c\ud55c : 20MB)"}),d(),j.abrupt("return");case 21:if(s(t.uri),!t.duration){j.next=26;break}l(t.duration),j.next=30;break;case 26:return j.next=28,ae.a.awrap(Lr(t.uri));case 28:a=j.sent,l(a);case 30:if(o="","web"!==c.a.OS){j.next=40;break}return j.next=34,ae.a.awrap(Object(Er.a)(t.uri,{start:0,end:1}));case 34:return u=j.sent[0].blob,j.next=37,ae.a.awrap(Le(u));case 37:o=j.sent,j.next=43;break;case 40:return j.next=42,ae.a.awrap(zr.a(t.uri));case 42:o=j.sent.uri;case 43:i(o),d(),e.navigate("InputData");case 46:case"end":return j.stop()}}),null,null,null,Promise)}),[]),f=Wt(),p=Object(o.useCallback)((function(){return ae.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:f();case 1:case"end":return e.stop()}}),null,null,null,Promise)}),[]);return Object(o.useEffect)((function(){t&&a(!0)}),[t]),Object(ht.jsxs)(ie.a,{style:be.defaultScreenLayout,children:[Object(ht.jsxs)(he.a,{style:Yn.warningText,children:["\uc54c\ud30c \ubc84\uc804 \ub3d9\uc548 \uc601\uc0c1\uc758 \ud06c\uae30\uac00","\n",Object(ht.jsx)(he.a,{style:{fontWeight:"bold"},children:"20MB"}),"\ub85c \uc81c\ud55c\ub429\ub2c8\ub2e4."]}),Object(ht.jsxs)(ye.a,{style:Yn.largeButtonsContainer,children:[Object(ht.jsxs)(ge.a,{style:[Yn.largeButton],onPress:j,children:[Object(ht.jsx)(Ce.a,{style:Yn.largeButtonIcon,name:"file-upload"}),Object(ht.jsx)(he.a,{style:Yn.largeButtonText,children:"\ud30c\uc77c \uc5c5\ub85c\ub4dc"})]}),Object(ht.jsx)(ye.a,{style:Yn.seperation}),Object(ht.jsxs)(ge.a,{style:[Yn.largeButton],onPress:p,children:[Object(ht.jsx)(Ce.a,{style:[Yn.largeButtonIcon,Yn.largeButtonDisabled],name:"video-call"}),Object(ht.jsx)(he.a,{style:[Yn.largeButtonText,Yn.largeButtonDisabled],children:"\uc0c8 \uc601\uc0c1 \ucd2c\uc601"})]})]})]})};function Ar(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Vr=Object(de.a)();var Rr=function(){var e=Object(o.useState)(!0),t=ne()(e,2),n=t[0],r=t[1],a=Object(o.useState)(!1),i=ne()(a,2),c=i[0],s=i[1],l=Object(o.useState)(""),u=ne()(l,2),d=u[0],b=u[1],j=Object(o.useState)(""),f=ne()(j,2),p=f[0],x=f[1],O=Object(o.useState)(""),h=ne()(O,2),g=h[0],y=h[1],m=Object(o.useState)(""),v=ne()(m,2),w=v[0],C=v[1],S=Object(o.useState)(0),I=ne()(S,2),P=I[0],k=I[1],T=Object(o.useState)({title:""}),D=ne()(T,2),B=D[0],L=D[1],E=Object(o.useState)({name:""}),z=ne()(E,2),M=z[0],A=z[1],V=Object(Se.p)(),R=Lt(),U=Object(Se.q)(),F=Object(Se.q)(),N=Vt(),H=N.hideLoading,W=N.showLoading,q=Object(o.useCallback)((function(){var e,t;return ae.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ae.a.awrap(R("\uc5c5\ub85c\ub4dc \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"));case 2:if(!n.sent){n.next=9;break}return W("\uc601\uc0c1\uc744 \uc5c5\ub85c\ub4dc \uc911\uc785\ub2c8\ub2e4.\n\uc81c\ubc1c \uc885\ub8cc\ud558\uc9c0 \ub9d0\uc544\uc8fc\uc138\uc694...\n\ub85c\ub529\uc740 \uac1c\uc120 \uc608\uc815\uc785\ub2c8\ub2e4."),e={title:g,description:w,song:B,place:M,length:P,likeCount:0,starCount:0,viewCount:0},n.next=7,ae.a.awrap(dt.uploadVideo(p,d,e));case 7:(t=n.sent).success?(alert("\uc601\uc0c1\uc774 \uc131\uacf5\uc801\uc73c\ub85c \uc5c5\ub85c\ub4dc\ub410\uc2b5\ub2c8\ub2e4."),H(),U.reset({routes:[{name:"Home"}]})):(alert("\uc601\uc0c1\uc744 \uc5c5\ub85c\ub4dc \ud558\ub294 \uc911 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.\n"+t.errorType),H());case 9:case"end":return n.stop()}}),null,null,null,Promise)}),[d,p,g,P,w,B,M]);return Object(o.useEffect)((function(){V||F.navigate("SelectType")}),[V]),Object(ht.jsx)(ie.a,{style:be.defaultScreenLayout,children:Object(ht.jsx)(Zn.Provider,{value:{buttonEnabled:c,setButtonEnabled:s,buttonHidden:n,setButtonHidden:r,placeInfo:M,setPlaceInfo:A,songInfo:B,setSongInfo:L,videoDescription:w,setVideoDescription:C,videoTitle:g,setVideoTitle:y,videoLength:P,setVideoLength:k,videoPath:d,setVideoPath:b,thumbnailPath:p,setThumbnailPath:x},children:Object(ht.jsxs)(Vr.Navigator,{initialRouteName:"SelectType",screenOptions:{contentStyle:be.defaultScreenLayout,title:"\uc5c5\ub85c\ub4dc",header:function(e){return Object(ht.jsx)(Xn,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ar(Object(n),!0).forEach((function(t){fe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ar(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({hideButton:n,buttonType:c?"primary":"disabled",onPress:q},e))}},children:[Object(ht.jsx)(Vr.Screen,{options:{headerShown:!0},name:"SelectType",component:Mr}),Object(ht.jsx)(Vr.Screen,{options:{headerShown:!0},name:"InputData",component:Cr})]})})})};function Ur(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ur(Object(n),!0).forEach((function(t){fe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ur(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nr=r.a.create({userPageUploadedVideoListContainer:{backgroundColor:d,paddingTop:w},labelText:{fontSize:C.xlarge,marginLeft:m,paddingBottom:m},noVideoText:{fontSize:C.middle,textAlign:"center",marginVertical:w}}),Hr=function(e){var t=e.route,n=e.navigation,r=Object(o.useState)({}),a=ne()(r,2),i=a[0],c=a[1],s=Object(o.useState)([]),l=ne()(s,2),u=l[0],d=l[1],b=Object(o.useState)(!1),j=ne()(b,2),f=j[0],p=j[1];Object(o.useEffect)((function(){!function(){var e;ae.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ae.a.awrap(ft(t.params.userId));case 2:(e=n.sent).success&&c(e.payload);case 4:case"end":return n.stop()}}),null,null,null,Promise)}()}),[t.params.userId]),Object(o.useEffect)((function(){n.setOptions({header:function(e){return Object(ht.jsx)(Qt,Fr(Fr({},e),{},{back:{title:i.nickname+"\uc758 \uc2a4\ud29c\ub514\uc624"}}))}})}),[i.nickname]);var x=Vt(),O=Object(o.useCallback)((function(){var e,n;return ae.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return p(!1),e=5,r.next=4,ae.a.awrap(dt.getVideoCardDataByUserId(t.params.userId,e,0));case 4:n=r.sent,d(n),n.length<e&&p(!0);case 7:case"end":return r.stop()}}),null,null,null,Promise)}),[]);Object(o.useEffect)((function(){t.params.userId&&(x.showLoading(),O().finally((function(){x.hideLoading()})))}),[t.params.userId]);var h=Object(o.useCallback)((function(){var e,n;return ae.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=3,r.next=3,ae.a.awrap(dt.getVideoCardDataByUserId(t.params.userId,e,1));case 3:n=r.sent,d((function(e){return[].concat(Re()(e),Re()(n))})),n.length<e&&p(!0);case 6:case"end":return r.stop()}}),null,null,null,Promise)}),[u,t.params.userId]);return Object(ht.jsx)(ye.a,{style:be.defaultScreenLayout,children:Object(ht.jsxs)(ye.a,{style:Nr.userPageUploadedVideoListContainer,children:[Object(ht.jsx)(he.a,{style:Nr.labelText,children:"\ubb34\ub300"}),0===u.length?Object(ht.jsx)(he.a,{style:Nr.noVideoText,children:"\uc544\uc9c1 \uc0ac\uc6a9\uc790\uac00 \uc5c5\ub85c\ub4dc\ud55c \uc601\uc0c1\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}):null,Object(ht.jsx)(Fn,{videoData:u,onScrollEnded:h,noMoreData:f,hideNoMoreDataIndicator:!0,onRefresh:O})]})})};function Wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wr(Object(n),!0).forEach((function(t){fe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gr=r.a.create({bottomDangerZone:{paddingBottom:m,alignItems:"flex-end"},roundedButton:{width:6*v,height:2*C.large,fontSize:C.large,marginRight:m}}),Jr=function(e){var t=e.route,n=e.navigation,r=Object(o.useState)(""),a=ne()(r,2),i=a[0],c=a[1],s=Object(o.useState)(""),l=ne()(s,2),u=l[0],d=l[1],b=Object(o.useState)(""),j=ne()(b,2),f=j[0],p=j[1],x=Object(o.useState)({}),O=ne()(x,2),h=O[0],g=O[1],y=Object(o.useState)({}),m=ne()(y,2),v=m[0],w=m[1],C=Object(o.useState)(""),S=ne()(C,2),I=S[0],P=S[1],k=Object(o.useState)(""),T=ne()(k,2),D=T[0],B=T[1],L=Object(o.useState)({}),E=ne()(L,2),z=E[0],M=E[1],A=Object(o.useState)({}),V=ne()(A,2),R=V[0],U=V[1],F=Object(o.useState)(!1),N=ne()(F,2),H=N[0],W=N[1],q=Lt(),G=Vt();Object(o.useEffect)((function(){t.params.videoData.videoId&&function(){var e,n;ae.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(G.showLoading("\uc601\uc0c1\uc744 \ubd88\ub7ec\uc624\uace0 \uc788\uc2b5\ub2c8\ub2e4."),e=t.params.videoData,n="",!e.sourceUrl){r.next=7;break}return r.next=6,ae.a.awrap(pt(e.sourceUrl));case 6:n=r.sent;case 7:c(n),d(e.title),p(e.description),g(e.song),w(e.place),P(e.title),B(e.description),M(e.song),U(e.place),G.hideLoading();case 17:case"end":return r.stop()}}),null,null,null,Promise)}()}),[t.params.videoData]),Object(o.useEffect)((function(){u===I&&f===D&&h.title===z.title&&h.singer===z.singer&&v.name===R.name||u.length<2||!h.title?W(!1):W(!0)}),[u,f,h,v,R,z,D,I]);var J=Object(o.useCallback)((function(){var e;return ae.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ae.a.awrap(q("\uc218\uc815\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"));case 2:if(!r.sent){r.next=15;break}if(!H){r.next=14;break}return G.showLoading("\uc601\uc0c1 \uc815\ubcf4\ub97c \uc218\uc815\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4."),r.next=8,ae.a.awrap(dt.updateVideoData(t.params.videoData.videoId,{title:u,description:f,song:h,place:v}));case 8:(e=r.sent).success?alert("\uc218\uc815\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."):alert("\uc218\uc815\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),G.hideLoading(),e.success&&n.navigate("Home"),r.next=15;break;case 14:wt.a.show({description:"\uc218\uc815\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4. \uc785\ub825\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694."});case 15:case"end":return r.stop()}}),null,null,null,Promise)}),[u,f,h,v,H,t.params.videoData.videoId]),Q=Object(o.useCallback)((function(){var e;return ae.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ae.a.awrap(q("\uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uc0ad\uc81c\ub294 \ub418\ub3cc\ub9b4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4!"));case 2:if(e=r.sent,!i){r.next=14;break}if(!e){r.next=14;break}return G.showLoading("\uc601\uc0c1\uc744 \uc0ad\uc81c\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4."),r.next=8,ae.a.awrap(dt.deleteVideo(t.params.videoData.videoId));case 8:r.sent.success?alert("\uc0ad\uc81c\uac00 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."):alert("\uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),G.hideLoading(),n.navigate("Home"),r.next=14;break;case 14:case"end":return r.stop()}}),null,null,null,Promise)}),[i,t.params.videoData.videoId]);return Object(o.useLayoutEffect)((function(){n.setOptions({header:function(e){return Object(ht.jsx)(Xn,qr(qr({},e),{},{buttonType:H?"enabledBorder":"disabled",onPress:J}))},headerShown:!0})}),[H,J,n]),Object(ht.jsxs)(ie.a,{style:be.defaultScreenLayout,children:[Object(ht.jsx)(Sr,{videoPath:i,videoTitle:u,setVideoTitle:d,videoDescription:f,setVideoDescription:p,songInfo:h,setSongInfo:g,placeInfo:v,setPlaceInfo:w}),Object(ht.jsx)(ye.a,{style:Gr.bottomDangerZone,children:Object(ht.jsx)(jn,{style:Gr.roundedButton,buttonType:"danger",onPress:Q,children:"\uc601\uc0c1 \uc0ad\uc81c"})})]})};var Qr=function(e){var t=Object(o.useRef)(null),n=Object(o.useState)(!1),r=ne()(n,2),a=r[0],i=r[1],c=Object(o.useState)(!1),s=ne()(c,2),l=s[0],u=s[1],d=Object(o.useState)(!1),b=ne()(d,2),j=b[0],f=b[1],p=Object(o.useState)(!1),x=ne()(p,2),O=x[0],h=x[1],g=Object(o.useState)(0),y=ne()(g,2),m=y[0],v=y[1],w=Object(o.useState)(1),C=ne()(w,2),S=C[0],I=C[1],P=Object(o.useState)(!1),k=ne()(P,2),T=k[0],D=k[1],B=Object(o.useState)(!1),L=ne()(B,2),E=L[0],z=L[1],M=Object(o.useState)(!1),A=ne()(M,2),V=A[0],R=A[1],U=Ht().user;Object(o.useEffect)((function(){U.userId===e.videoData.uploader.userId?R(!0):R(!1)}),[U.userId,e.videoData.uploader]);var F=Object(wt.d)();Object(o.useEffect)((function(){j&&(D(!1),z(!1))}),[j]);var N=Object(o.useCallback)((function(e){e.isLoaded?(i(e.isLoaded),u(e.isPlaying),f(e.didJustFinish),h(e.isBuffering),v(e.positionMillis),e.durationMillis&&I(e.durationMillis)):e.error&&console.error(e.error)}),[]),H=Object(o.useCallback)((function(e){var n;a&&(null==(n=t.current)||n.setPositionAsync(S*e))}),[S,a]),W=hr(D,!0,2e3),q=hr(z,!0,3500),G=Object(o.useCallback)((function(){T||(W(),q(),D(!0),z(!0))}),[T]),J=Object(o.useCallback)((function(){T&&(W({updateNewTimer:l}),q({updateNewTimer:l}),D(!1),z(!1))}),[T,l]),Q=Object(o.useCallback)((function(){if(a)if(W({updateNewTimer:!l}),q({updateNewTimer:!l}),l){var e;null==(e=t.current)||e.pauseAsync()}else{var n,r;if(j)null==(r=t.current)||r.setPositionAsync(0);null==(n=t.current)||n.playAsync()}}),[l,a,j,t]),K=Object(o.useCallback)((function(){l&&q({updateNewTimer:!0})}),[l]),X=Object(o.useState)([]),Y=ne()(X,2),_=Y[0],Z=Y[1],$=Object(o.useState)(!1),ee=ne()($,2),te=ee[0],re=ee[1],oe=Object(Se.q)(),ie=Object(o.useCallback)((function(){oe.navigate("VideoEdit",{videoData:e.videoData})}),[e.videoData]),ce=Wt(),se=Object(o.useCallback)((function(){var n,r,a,o;return ae.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(!e.videoData.videoId||te){i.next=9;break}return i.next=3,ae.a.awrap(null==(n=t.current)?void 0:n.getStatusAsync());case 3:return r=i.sent,a=null!=r&&r.isLoaded?r.positionMillis:0,i.next=7,ae.a.awrap(dt.likeVideo(e.videoData.videoId,a));case 7:(o=i.sent).success&&o.payload?Z(o.payload):F.show({description:"\uc88b\uc544\uc694 \uc911 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. "+o.errorType});case 9:case"end":return i.stop()}}),null,null,null,Promise)}),[m,e.videoData,t,te]),le=Object(o.useCallback)((function(e){var t;return ae.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ae.a.awrap(dt.dislikeVideo(e.targetId,e.likeId));case 2:(t=n.sent).success?Z(t.payload):F.show({description:"\uc88b\uc544\uc694 \ucde8\uc18c \uc911 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. "+t.errorType});case 4:case"end":return n.stop()}}),null,null,null,Promise)}),[]);return Object(o.useEffect)((function(){!function(){var t;ae.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ae.a.awrap(dt.getMyLikeReactions("video",e.videoData.videoId));case 2:(t=n.sent).success?Z(t.payload):console.error(t.errorType);case 4:case"end":return n.stop()}}),null,null,null,Promise)}()}),[]),Object(o.useEffect)((function(){_.length>=3?re(!0):re(!1)}),[_]),Object(ht.jsxs)(ye.a,{style:dr.container,children:[Object(ht.jsx)(ye.a,{style:dr.videoCoreContainer,children:Object(ht.jsx)(lr.a,{style:dr.videoCore,source:{uri:e.videoSource},ref:t,resizeMode:"contain",onPlaybackStatusUpdate:N})}),Object(ht.jsx)(en.a,{onPress:J,style:dr.videoTransparentPressableArea}),T?null:Object(ht.jsx)(en.a,{onPress:G,style:dr.videoDarkOverlay}),Object(ht.jsxs)(ye.a,{onTouchStart:K,style:dr.videoControllerView,children:[E?null:Object(ht.jsx)(ye.a,{style:dr.videoUpperControllerContainer,children:Object(ht.jsxs)(ye.a,{style:dr.videoInfoContainer,children:[Object(ht.jsxs)(ye.a,{style:dr.videoInfoRow,children:[Object(ht.jsx)(he.a,{numberOfLines:1,style:[dr.videoTitleText,dr.videoInfoColor],children:e.videoData.title?e.videoData.title:"Untitled"}),Object(ht.jsxs)(ye.a,{style:dr.videoReactionContainer,children:[Object(ht.jsxs)(ye.a,{style:dr.videoReactionRow,children:[Object(ht.jsxs)(ye.a,{style:dr.videoReactionItem,children:[Object(ht.jsx)(Ce.a,{name:"favorite-border",color:fr.color,size:fr.sizeLarge,style:dr.videoReactionItem}),Object(ht.jsx)(he.a,{style:[dr.videoReactionText,dr.videoInfoColor,dr.videoReactionItem],children:e.videoData.likeCount?Ln(e.videoData.likeCount):0})]}),Object(ht.jsxs)(ye.a,{style:dr.videoReactionItem,children:[Object(ht.jsx)(Ce.a,{name:"star-border",color:fr.color,size:fr.sizeLarge+2,style:dr.videoReactionItem}),Object(ht.jsx)(he.a,{style:[dr.videoReactionText,dr.videoInfoColor,dr.videoReactionItem],children:e.videoData.starCount?Ln(e.videoData.starCount):0})]})]}),Object(ht.jsxs)(ye.a,{style:dr.videoReactionRow,children:[Object(ht.jsx)(he.a,{style:[dr.videoReactionText,dr.videoInfoColor,dr.videoReactionItem],children:"Views"}),Object(ht.jsx)(he.a,{style:[dr.videoReactionText,dr.videoInfoColor,dr.videoReactionItem],children:e.videoData.viewCount?Ln(e.videoData.viewCount):0})]})]})]}),Object(ht.jsxs)(ye.a,{style:dr.videoInfoRow,children:[Object(ht.jsx)(he.a,{style:[dr.videoInfoText,dr.videoInfoColor],children:e.videoData.song?e.videoData.song.title:"\uace1 \uc815\ubcf4 \uc5c6\uc74c"}),Object(ht.jsx)(he.a,{style:[dr.videoInfoText,dr.videoInfoColor],children:e.videoData.uploadedAt?Mn(e.videoData.uploadedAt):"0000-00-00"})]}),Object(ht.jsxs)(ye.a,{style:dr.videoInfoRow,children:[Object(ht.jsx)(he.a,{style:[dr.videoUploaderText,dr.videoInfoColor],children:e.videoData.uploader.nickname?e.videoData.uploader.nickname:"placeholderUser"}),V?Object(ht.jsx)(en.a,{onPress:ie,children:Object(ht.jsx)(Ce.a,{selectable:!1,name:"create",color:fr.color,size:fr.sizeXlarge})}):Object(ht.jsx)(en.a,{onPress:function(){ce()},children:Object(ht.jsx)(Ce.a,{selectable:!1,name:"person-add",color:fr.color,size:fr.sizeXlarge})})]}),Object(ht.jsx)(ye.a,{style:dr.videoInfoRow,children:Object(ht.jsx)(rn.a,{style:dr.videoDescriptionContainer,onScroll:K,children:Object(ht.jsx)(he.a,{style:[dr.videoDescriptionText,dr.videoInfoColor],children:e.videoData.description})})})]})}),Object(ht.jsxs)(ye.a,{style:dr.videoMiddleControllerContainer,children:[Object(ht.jsx)(ye.a,{style:dr.videoMiddleDummyArea}),Object(ht.jsx)(gr,{isBuffering:O,isControlHidden:T,togglePlay:Q,isPlaying:l,didJustFinish:j}),T?null:Object(ht.jsxs)(ye.a,{style:dr.videoMiddleButtonContainer,children:[Object(ht.jsxs)(en.a,{onPress:se,children:[Object(ht.jsx)(Ce.a,{selectable:!1,style:dr.videoMiddleButton,color:te?fr.heartColor:fr.color,name:"favorite"}),Object(ht.jsx)(he.a,{selectable:!1,style:dr.videoMiddleButtonText,children:"\uc88b\uc544\uc694"})]}),Object(ht.jsx)(ye.a,{style:dr.videoMiddleButtonSpace}),Object(ht.jsxs)(en.a,{onPress:function(){ce()},children:[Object(ht.jsx)(Ce.a,{selectable:!1,style:dr.videoMiddleButton,color:fr.color,name:"star"}),Object(ht.jsx)(he.a,{selectable:!1,style:dr.videoMiddleButtonText,children:"\ud3c9\uac00\ud558\uae30"})]})]})]}),Object(ht.jsx)(mr,{togglePlay:Q,isPlaying:l,didJustFinish:j,videoPosition:m,videoLength:S,seekVideo:H,useLikes:!0,onLike:se,onDislike:le,likesData:_,noMoreLike:te})]})]})},Kr=r.a.create({container:{flex:1,backgroundColor:b}}),Xr=function(e){var t=e.route,n=(e.navigation,Object(o.useState)({})),r=ne()(n,2),a=r[0],i=r[1],c=Object(o.useState)(""),s=ne()(c,2),l=s[0],u=s[1],d=function(){var e=Dt(),t=Object(P.c)(R);return Object(o.useCallback)((function(n){return ae.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t[n]){r.next=4;break}return r.abrupt("return");case 4:return r.prev=4,r.next=7,ae.a.awrap(dt.increaseVideoViewCount(n));case 7:r.sent.success&&e(M({videoId:n})),r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(4),console.error(r.t0),r.abrupt("return");case 15:case"end":return r.stop()}}),null,null,[[4,11]],Promise)}),[t])}(),b=Vt();return Object(o.useEffect)((function(){b.showLoading()}),[]),Object(o.useEffect)((function(){a.sourceUrl&&function(e){var t;ae.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ae.a.awrap(pt(e));case 2:t=n.sent,u(t),b.hideLoading();case 5:case"end":return n.stop()}}),null,null,null,Promise)}(a.sourceUrl)}),[a.sourceUrl]),Object(o.useEffect)((function(){t.params.videoId&&(d(t.params.videoId),function(e){var t;ae.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ae.a.awrap(dt.getVideoData(e));case 2:(t=n.sent).success?i(t.payload):console.error(t.errorType);case 4:case"end":return n.stop()}}),null,null,null,Promise)}(t.params.videoId))}),[t.params.videoId]),Object(ht.jsx)(ye.a,{style:Kr.container,children:a.videoId?Object(ht.jsx)(Qr,{videoData:a,videoSource:l}):null})};function Yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var _r=Object(de.a)();var Zr=function(){return Object(ht.jsx)(ie.a,{style:be.defaultScreenLayout,children:Object(ht.jsxs)(_r.Navigator,{screenOptions:{header:function(e){return Object(ht.jsx)(Qt,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yr(Object(n),!0).forEach((function(t){fe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))}},children:[Object(ht.jsx)(_r.Screen,{name:"Home",component:Qn}),Object(ht.jsx)(_r.Screen,{name:"Upload",options:{headerShown:!1},component:Rr}),Object(ht.jsx)(_r.Screen,{name:"Video",options:{headerShown:!1},component:Xr}),Object(ht.jsx)(_r.Screen,{name:"UserPage",component:Hr}),Object(ht.jsx)(_r.Screen,{name:"Notification",component:pe}),Object(ht.jsx)(_r.Screen,{name:"Search",component:pe}),Object(ht.jsx)(_r.Screen,{name:"VideoEdit",options:{headerShown:!1},component:Jr})]})})};function $r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ea(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$r(Object(n),!0).forEach((function(t){fe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ta={shadowOpacity:.5,shadowRadius:3,shadowOffset:{height:1,width:1}},na=r.a.create({buttonContainer:ea(ea({height:C.xlarge,width:C.xlarge,borderRadius:C.xlarge},c.a.select({web:ta,ios:ta})),c.a.select({android:{elevation:3}})),buttonPressable:{borderRadius:C.xlarge,flex:1,alignItems:"center",justifyContent:"center",overflow:"hidden"},buttonImage:{flex:1,resizeMode:"contain"}});var ra=function(e){var t=Object(o.useState)(0),r=ne()(t,2),a=r[0],i=r[1],c=Object(xe.a)([n(380),n(381),n(382),n(383)]),s=ne()(c,2),l=s[0];return s[1],Object(o.useEffect)((function(){switch(e.buttonType){case"google":i(1);break;case"naver":i(2);break;case"kakao":i(3);break;default:i(0)}}),[e.buttonType]),Object(ht.jsx)(ye.a,{testID:e.testID,style:[na.buttonContainer,e.style],children:Object(ht.jsx)(en.a,{testID:"socialLoginButtonPressable",style:na.buttonPressable,onPress:e.onPress,children:l?Object(ht.jsx)(Oe.a,{style:na.buttonImage,source:l[a]}):null})})};function aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aa(Object(n),!0).forEach((function(t){fe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ia=Xt;function ca(e){return Object(ht.jsxs)(ye.a,{style:[ia.default,ia.wizardNavBarContainer],children:[Object(ht.jsx)(ye.a,{style:ia.wizardButtonContainer,children:e.hideSkipButton?null:Object(ht.jsx)(jn,{style:oa(oa({},ia.wizardButton),ia.skipButton),onPress:e.onSkip,children:"\uac74\ub108\ub6f0\uae30"})}),Object(ht.jsx)(ye.a,{style:ia.wizardButtonContainer,children:Object(ht.jsx)(jn,{buttonType:e.enableNextButton?"enabledDark":"disabled",style:oa(oa({},ia.wizardButton),ia.nextButton),onPress:e.onNext,children:e.nextButtonText})})]})}ca.defaultProps={nextButtonText:"\ub2e4\uc74c"};var sa=ca;function la(e){return new RegExp(/^\S+@\S+\.\S+$/).test(e)}var ua=r.a.create({titleContainer:{flex:.7,justifyContent:"flex-end",alignItems:"center",marginBottom:w},titleLogo:{resizeMode:"contain",maxHeight:72},bottomContainer:{flex:1,marginHorizontal:2*w,marginTop:w},textInput:{fontSize:C.large,marginBottom:v+m}}),da=n(88),ba=ua;da.b();var ja=function(){var e=Object(o.useState)(""),t=ne()(e,2),r=t[0],a=t[1],i=Object(o.useState)(""),c=ne()(i,2),s=c[0],l=c[1],u=Object(o.useState)(!1),d=ne()(u,2),b=d[0],j=d[1],f=Object(xe.a)([n(233)]),p=ne()(f,2),x=p[0],O=(p[1],Ft(!0)),h=Ut();Object(o.useEffect)((function(){j(la(r)&&s.length>=8)}),[r,s]);var g=Object(o.useCallback)((function(e){return ae.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if("Enter"!=e.nativeEvent.key||!b){t.next=5;break}return t.next=3,ae.a.awrap(O(r,s));case 3:t.next=5;break;case 5:case"end":return t.stop()}}),null,null,null,Promise)}),[r,s,b]),y=Object(o.useCallback)((function(){return ae.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.a.awrap(O(r,s));case 2:case"end":return e.stop()}}),null,null,null,Promise)}),[r,s]);return Object(ht.jsxs)(ie.a,{style:be.defaultScreenLayout,children:[Object(ht.jsx)(oe.a,{translucent:!1}),Object(ht.jsx)(ye.a,{style:ba.titleContainer,children:x?Object(ht.jsx)(Oe.a,{style:ba.titleLogo,source:x[0]}):null}),Object(ht.jsxs)(ye.a,{style:ba.bottomContainer,children:[Object(ht.jsx)(sr,{style:ba.textInput,autoFocus:!0,accessibilityRole:"text",textContentType:"emailAddress",keyboardType:"email-address",placeholder:"\uc774\uba54\uc77c",onChangeText:function(e){return a(e)},value:r,onKeyPress:function(e){}}),Object(ht.jsx)(sr,{style:ba.textInput,secureTextEntry:!0,accessibilityRole:"text",textContentType:"password",placeholder:"\ube44\ubc00\ubc88\ud638",onChangeText:function(e){return l(e)},value:s,onKeyPress:g}),Object(ht.jsx)(ye.a,{children:Object(ht.jsx)(ra,{buttonType:"google",onPress:h})})]}),Object(ht.jsx)(sa,{enableNextButton:b,hideSkipButton:!0,onNext:y})]})},fa={signUpNavigator:void 0,buttonEnabled:!1,setButtonEnabled:function(){throw new Error("Function not implemented.")},buttonAction:{action:function(){throw new Error("Function not implemented.")}},setButtonAction:function(){throw new Error("Function not implemented.")},hideButton:!1,setHideButton:function(e){throw new Error("Function not implemented.")},newUserProfile:{},setNewUserProfile:function(e){throw new Error("Function not implemented.")}},pa=Object(o.createContext)(fa),xa=r.a.create({titleContainer:{flex:1,justifyContent:"flex-end",alignItems:"center"},titleLogo:{resizeMode:"contain",maxHeight:72},titleText:{fontWeight:"bold",fontSize:C.xlarge,marginTop:m,marginBottom:w},bottomContainer:{flex:1,marginTop:m,marginHorizontal:2*w},upperContainer:{flex:1,marginHorizontal:2*w},textInput:{fontSize:C.large,marginTop:2*v},textInputUpper:{fontSize:C.large,marginTop:v},textInputNickname:{marginTop:w,fontSize:C.xlarge,textAlign:"center"},messageText:{marginTop:m,fontSize:C.middle,color:b},errorMessageText:{color:g},messageTextButton:{color:s},textAlignCenter:{textAlign:"center"},textAlignRight:{textAlign:"right"},profileUploadButtonInside:{flex:1,alignItems:"center",justifyContent:"center"},uploadButtonContainer:{width:12*C.xlarge,height:12*C.xlarge,borderRadius:12*C.xlarge,borderWidth:C.small,borderStyle:"dashed",alignItems:"center",justifyContent:"center"},withImage:{borderColor:j,borderWidth:1,borderStyle:"solid"},uploadButtonIcon:{fontSize:8*C.xlarge},uploadButtonMessage:{fontSize:C.middle,marginTop:-w-v},uploadedImage:{resizeMode:"cover",height:12*C.xlarge,width:12*C.xlarge,borderRadius:12*C.xlarge}}),Oa=xa,ha={short:"\ube44\ubc00\ubc88\ud638\ub294 \uc22b\uc790\uc640 \uc601\ubb38\uc790\ub97c \ud3ec\ud568\ud574\uc57c \ud558\uba70,\n8\uc790\ub9ac \uc774\uc0c1\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4.",number:"\uc22b\uc790\ub97c \ud3ec\ud568\ud574\uc57c \ud569\ub2c8\ub2e4.",pass:"",letter:"\uc601\ubb38\uc790\ub97c \ud3ec\ud568\ud574\uc57c \ud569\ub2c8\ub2e4.",space:"\ube44\ubc00\ubc88\ud638\uc758 \uc2dc\uc791\uacfc \ub05d\uc740 \uacf5\ubc31\uc77c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",special:"\ub2e4\uc74c \ud2b9\uc218\uae30\ud638\ub9cc \ud3ec\ud568\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n! \" # $ % & ' ( ) * + , - . / : ; < = > ? @ [ ] ^ _ ` { | } ~ \\"};function ga(e){var t=e.route,n=(e.navigation,Object(o.useState)("")),r=ne()(n,2),a=r[0],i=r[1],c=Object(o.useState)(!1),s=ne()(c,2),l=s[0],u=s[1],d=Object(o.useState)(!1),b=ne()(d,2),j=b[0],f=b[1],p=Object(o.useState)(""),x=ne()(p,2),O=x[0],h=x[1],g=Object(o.useState)(ha.short),y=ne()(g,2),m=y[0],v=y[1],w=Object(o.useContext)(pa),C=w.buttonEnabled,S=w.setButtonEnabled,I=w.setHideButton,P=w.buttonAction,k=w.setButtonAction,T=w.signUpNavigator,D=Vt(),B=D.hideLoading,L=D.showLoading,E=Ft(),z=Object(o.useCallback)((function(){var e;return ae.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return L(),n.prev=1,n.next=4,ae.a.awrap(kt.signUpWithQueSelfManaged(t.params.userEmail,a));case 4:if((e=n.sent)!==Me.Created){n.next=11;break}return n.next=8,ae.a.awrap(E(t.params.userEmail,a));case 8:T.navigate("SetUserProfile"),n.next=12;break;case 11:alert("\ube44\ubc00\ubc88\ud638 \uc124\uc815 \uacfc\uc815\uc5d0\uc11c \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. : \uc5d0\ub7ec \ucf54\ub4dc "+e);case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(1),alert("\ube44\ubc00\ubc88\ud638 \uc124\uc815 \uacfc\uc815\uc5d0\uc11c \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. : "+n.t0);case 17:B();case 18:case"end":return n.stop()}}),null,null,[[1,14]],Promise)}),[t.params.userEmail,a]);return Object(o.useEffect)((function(){i(""),h(""),I(!0)}),[]),Object(o.useEffect)((function(){var e=function(e){return e.length<8?[!1,"short"]:/\d/.test(e)?/[a-zA-Z]/.test(e)?" "===e[0]||" "===e[e.length-1]?[!1,"space"]:/^[\w !"#$%&'()*+,\-.\/:;<=>?@[\]\^_`{\|}~\\]+$/.test(e)?[!0,"pass"]:[!1,"special"]:[!1,"letter"]:[!1,"number"]}(a);h(""),u(e[0]),v(ha[e[1]]),"short"===e[1]||"pass"===e[1]?f(!1):f(!0)}),[a]),Object(o.useEffect)((function(){l&&a==O?(k({action:z}),S(!0)):S(!1)}),[a,O]),Object(ht.jsx)(ie.a,{style:be.defaultScreenLayout,children:Object(ht.jsxs)(ye.a,{style:Oa.upperContainer,children:[Object(ht.jsx)(sr,{style:Oa.textInputUpper,autoFocus:!0,secureTextEntry:!0,invalid:j,accessibilityRole:"text",textContentType:"password",placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",onChangeText:function(e){return i(e)},value:a}),Object(ht.jsx)(he.a,{style:[Oa.messageText,j?Oa.errorMessageText:Oa.messageText],children:m}),l?Object(ht.jsx)(sr,{style:Oa.textInputUpper,secureTextEntry:!0,invalid:0!=O.length&&!C,accessibilityRole:"text",textContentType:"password",placeholder:"\ud55c \ubc88 \ub354 \uc785\ub825\ud574\uc8fc\uc138\uc694.",onChangeText:function(e){return h(e)},value:O,onKeyPress:function(e){"Enter"==e.nativeEvent.key&&C&&P.action()}}):null]})})}function ya(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ma(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ya(Object(n),!0).forEach((function(t){fe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ya(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var va=xa;function wa(){var e=Object(o.useState)(""),t=ne()(e,2),n=t[0],r=t[1],a=Object(o.useState)(!1),i=ne()(a,2),c=i[0],s=i[1],l=Dt(),u=Ht(),d=u.user,b=(u.isSigned,Lt()),j=Object(Se.q)(),f=Object(o.useContext)(pa),p=f.setButtonAction,x=f.setButtonEnabled,O=f.setHideButton,h=f.newUserProfile,g=Vt(),y=g.hideLoading,m=g.showLoading,v=Object(o.useCallback)((function(e){e.length<=140&&(r(e),s(140===e.length))}),[n]),w=Object(o.useCallback)((function(){var e;return ae.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(m(),t.t0=!n.length,!t.t0){t.next=6;break}return t.next=5,ae.a.awrap(b("\uc790\uae30\uc18c\uac1c \uc5c6\uc774 \uc9c4\ud589\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\ud504\ub85c\ud544 \ubcc0\uacbd \uae30\ub2a5\uc740 \uac1c\ubc1c \uc911\uc785\ub2c8\ub2e4."));case 5:t.t0=!t.sent;case 6:if(!t.t0){t.next=9;break}return y(),t.abrupt("return");case 9:return t.next=11,ae.a.awrap(xt({description:n}));case 11:(e=t.sent).success?(y(),l(E({user:ma(ma(ma({},d),h),{},{description:n})})),j.navigate("CatchPhrase")):(y(),alert("\ud504\ub85c\ud544 \ub4f1\ub85d \uacfc\uc815\uc5d0\uc11c \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. : "+e.errorType));case 13:case"end":return t.stop()}}),null,null,null,Promise)}),[h.nickname,h.profilePictureUrl,n]);return Object(o.useEffect)((function(){O(!1),x(!0),r("")}),[]),Object(o.useEffect)((function(){p({action:w})}),[n]),Object(ht.jsx)(ie.a,{style:be.defaultScreenLayout,children:Object(ht.jsxs)(ye.a,{style:va.upperContainer,children:[Object(ht.jsx)(sr,{style:va.textInputUpper,autoFocus:!0,multiline:!0,placeholder:"\uc790\uae30\uc18c\uac1c\ub97c \uc791\uc131\ud574\uc8fc\uc138\uc694.",accessibilityRole:"text",textContentType:"none",onChangeText:v,value:n}),Object(ht.jsx)(he.a,{style:[va.messageText,va.textAlignRight,c?va.errorMessageText:{}],children:n.length+"/140"})]})})}function Ca(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ca(Object(n),!0).forEach((function(t){fe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ca(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ia=xa;function Pa(){var e=Object(o.useState)(""),t=ne()(e,2),n=t[0],r=t[1],a=Object(o.useState)(""),i=ne()(a,2),s=i[0],l=i[1],u=Object(o.useState)(!1),d=ne()(u,2),b=d[0],j=d[1],f=Dt(),p=Ht().user,x=Object(Se.p)(),O=Lt(),h=Object(o.useContext)(pa),g=h.buttonAction,y=h.setButtonAction,m=h.buttonEnabled,v=h.setButtonEnabled,w=h.signUpNavigator,C=h.setHideButton,S=h.setNewUserProfile,I=Vt(),P=I.hideLoading,k=I.showLoading,T=Object(o.useCallback)((function(){var e;return ae.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.awrap(Pr.b());case 2:if(!1!==t.sent.granted){t.next=6;break}return"android"===c.a.OS?Ir.a.show("\uad8c\ud55c\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.",Ir.a.SHORT):alert("\uad8c\ud55c\uc774 \ud544\uc694\ud569\ub2c8\ub2e4."),t.abrupt("return");case 6:return t.next=8,ae.a.awrap(Pr.a({mediaTypes:kr.a.Images,allowsMultipleSelection:!1,allowsEditing:!0}));case 8:if((e=t.sent).cancelled){t.next=14;break}if(!(e.height>180||e.width>180)){t.next=13;break}return wt.a.show({description:"\uc0ac\uc9c4\uc774 \ub108\ubb34 \ud07d\ub2c8\ub2e4! (\ud06c\uae30 \uc81c\ud55c : 180*180)"}),t.abrupt("return");case 13:r(e.uri);case 14:case"end":return t.stop()}}),null,null,null,Promise)}),[]),D=Object(o.useCallback)((function(){var e,t,r;return ae.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(k(),a.t0=!n,!a.t0){a.next=6;break}return a.next=5,ae.a.awrap(O("\ud504\ub85c\ud544 \uc0ac\uc9c4 \uc5c6\uc774 \uc9c4\ud589\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\ud504\ub85c\ud544 \ubcc0\uacbd \uae30\ub2a5\uc740 \uac1c\ubc1c \uc911\uc785\ub2c8\ub2e4."));case 5:a.t0=!a.sent;case 6:if(!a.t0){a.next=9;break}return P(),a.abrupt("return");case 9:if(e={profilePictureUrl:n?"users/"+p.userId+"/images/profilePic":"",nickname:s},!n){a.next=15;break}return a.next=13,ae.a.awrap(dt.uploadUserProfileImage(n));case 13:(t=a.sent).success||alert("\ud504\ub85c\ud544 \uc0ac\uc9c4 \uc5c5\ub85c\ub4dc \uc911 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.\n"+t.errorType);case 15:return a.next=17,ae.a.awrap(dt.updateUserProfile(e));case 17:r=a.sent,S(e),P(),r.success?(f(E({user:Sa(Sa({},p),e)})),w.navigate("SetUserDescription")):alert("\ud504\ub85c\ud544 \uc815\ubcf4 \uc5c5\ub370\uc774\ud2b8 \uc911 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.\n"+r.errorType);case 21:case"end":return a.stop()}}),null,null,null,Promise)}),[n,s]);return Object(o.useEffect)((function(){C(!1),l(""),r("")}),[]),Object(o.useEffect)((function(){x&&function(){var e;ae.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.a.awrap(dt.getUserProfileData(p.userId));case 2:(e=t.sent).success&&l(e.payload.nickname?e.payload.nickname:"");case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}),[x,p.userId]),Object(o.useEffect)((function(){var e,t=0!=s.length&&(!((e=s).length<2||e.length>12)&&/^[\uac00-\ud7a3|\w]+$/.test(e));j(t)}),[s]),Object(o.useEffect)((function(){v(b),b&&y({action:D})}),[b,n,s]),Object(ht.jsxs)(ie.a,{style:be.defaultScreenLayout,children:[Object(ht.jsx)(ye.a,{style:Ia.titleContainer,children:Object(ht.jsx)(en.a,{style:[Ia.uploadButtonContainer,n?Ia.withImage:{}],onPress:T,children:n?Object(ht.jsx)(Oe.a,{style:Ia.uploadedImage,source:{uri:n}}):Object(ht.jsxs)(ye.a,{style:Ia.profileUploadButtonInside,children:[Object(ht.jsx)(Ce.a,{selectable:!1,name:"add",style:Ia.uploadButtonIcon}),Object(ht.jsx)(he.a,{selectable:!1,style:[Ia.uploadButtonMessage,Ia.textAlignCenter],children:"180*180px"})]})})}),Object(ht.jsxs)(ye.a,{style:Ia.bottomContainer,children:[Object(ht.jsx)(sr,{style:[Ia.textInputNickname],autoFocus:!0,selectTextOnFocus:!0,placeholder:"\ub2f9\uc2e0\uc758 \uc774\ub984\uc740?",textContentType:"name",accessibilityRole:"text",invalid:!(b||0==s.length),onChangeText:function(e){return l(e)},value:s,onKeyPress:function(e){"Enter"==e.nativeEvent.key&&m&&g.action()}}),Object(ht.jsx)(he.a,{style:[Ia.messageText,Ia.textAlignCenter],children:"\ub2e4\ub978 \uc0ac\ub78c\ub4e4\uc5d0\uac8c \ubcf4\uc5ec\uc9c8 \uc774\ub984\uc785\ub2c8\ub2e4.\n\ud55c\uae00, \uc601\ubb38\uc790, \uc22b\uc790\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc73c\uba70,\n\uc774\ub984\uc758 \uae38\uc774\ub294 2~12\uae00\uc790 \uc0ac\uc774\uc5ec\uc57c \ud569\ub2c8\ub2e4."})]})]})}var ka={429:"\ud574\ub2f9 \uba54\uc77c\ub85c \ub108\ubb34 \ub9ce\uc740 \uc694\uccad\uc774 \ub4e4\uc5b4\uc654\uc2b5\ub2c8\ub2e4. \n\ub098\uc911\uc5d0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.",409:"\ud574\ub2f9 \uba54\uc77c\ub85c \uc774\ubbf8 \uac00\uc785\ud55c \uc0ac\uc6a9\uc790\uac00 \uc874\uc7ac\ud569\ub2c8\ub2e4.",default:"\uc778\uc99d \uba54\uc77c\uc744 \uc804\uc1a1\ud558\ub294 \uacfc\uc815\uc5d0\uc11c \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.\n\uba54\uc77c \uc8fc\uc18c\ub97c \ub2e4\uc2dc \ud655\uc778\ud574\uc8fc\uc138\uc694."},Ta={429:"\ub108\ubb34 \ub9ce\uc774 \ud2c0\ub838\uc2b5\ub2c8\ub2e4!\n\uc778\uc99d \ubc88\ud638\ub97c \ub2e4\uc2dc \uc694\uccad\ud574\uc8fc\uc138\uc694.",408:"\uc785\ub825 \uc2dc\uac04\uc744 \ucd08\uacfc\ud588\uc2b5\ub2c8\ub2e4.\n\uc778\uc99d \ubc88\ud638\ub97c \ub2e4\uc2dc \uc694\uccad\ud574\uc8fc\uc138\uc694",403:"\uc798\ubabb\ub41c \uc778\uc99d\ubc88\ud638\uc785\ub2c8\ub2e4. \ub2e4\uc2dc \uc785\ub825\ud574\uc8fc\uc138\uc694.",default:"\uc778\uc99d \uacfc\uc815\uc5d0\uc11c \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."};function Da(){var e=Object(o.useState)(""),t=ne()(e,2),r=t[0],a=t[1],i=Object(o.useState)(!1),c=ne()(i,2),s=c[0],l=c[1],u=Object(o.useState)(ka.default),d=ne()(u,2),b=d[0],j=d[1],f=Object(o.useState)(""),p=ne()(f,2),x=p[0],O=p[1],h=Object(o.useState)(!0),g=ne()(h,2),y=g[0],m=g[1],v=Object(o.useState)(Ta.default),w=ne()(v,2),C=w[0],S=w[1],I=Object(o.useState)(!1),P=ne()(I,2),k=P[0],T=P[1],D=Object(o.useState)(0),B=ne()(D,2),L=B[0],E=B[1],z=Object(xe.a)([n(233)]),M=ne()(z,2),A=M[0],V=(M[1],Object(o.useContext)(pa)),R=V.buttonEnabled,U=V.setButtonEnabled,F=V.setHideButton,N=V.buttonAction,H=V.setButtonAction,W=V.signUpNavigator,q=Vt(),G=q.hideLoading,J=q.showLoading,Q=Object(o.useCallback)((function(){var e,t;return ae.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return J(),n.prev=1,n.next=4,ae.a.awrap(kt.requestVerificationCodeMail(r));case 4:(e=n.sent)===Me.OK?(l(!1),T(!0),O(""),U(!1),E(300)):e===Me.AlreadyPassed?(wt.a.show({description:"\uc800\uc7a5\ub41c \uc778\uc99d \uc815\ubcf4\ub97c \ud655\uc778\ud588\uc2b5\ub2c8\ub2e4."}),W.navigate("SetPassword",{userEmail:r})):(l(!0),j((t=e)in ka?ka[t]:ka.default)),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(1),l(!0),j(ka.default),alert("\uba54\uc77c \uc804\uc1a1 \uc694\uccad \uacfc\uc815\uc5d0\uc11c \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4 : "+n.t0);case 13:G();case 14:case"end":return n.stop()}}),null,null,[[1,8]],Promise)}),[r]),K=Object(o.useCallback)((function(){var e,t;return ae.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return G(),n.prev=1,n.next=4,ae.a.awrap(kt.sendVerificationCode(r,x));case 4:e=n.sent,e===Me.OK?(m(!0),W.navigate("SetPassword",{userEmail:r})):(m(!1),S((t=e)in Ta?Ta[t]:Ta.default)),n.next=14;break;case 9:n.prev=9,n.t0=n.catch(1),m(!1),S(Ta.default),alert("\uc778\uc99d \uacfc\uc815\uc5d0\uc11c \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4 : "+n.t0);case 14:G();case 15:case"end":return n.stop()}}),null,null,[[1,9]],Promise)}),[r,x]);return Object(o.useEffect)((function(){O(""),F(!0)}),[]),Object(o.useEffect)((function(){k||U(la(r)),k&&x.length>=6&&U(!0)}),[r,x,k]),Object(o.useEffect)((function(){var e=setInterval((function(){L>0?E(L-1):0===L&&clearInterval(e)}),1e3);return function(){return clearInterval(e)}}),[L]),Object(o.useEffect)((function(){H(k?{action:K}:{action:Q})}),[k,r,x]),Object(ht.jsxs)(ie.a,{style:be.defaultScreenLayout,children:[Object(ht.jsxs)(ye.a,{style:xa.titleContainer,testID:"signUpTitleContainer",children:[A?Object(ht.jsx)(Oe.a,{style:xa.titleLogo,source:A[0]}):null,Object(ht.jsx)(he.a,{style:xa.titleText,children:"\ud68c\uc6d0\uac00\uc785"})]}),Object(ht.jsxs)(ye.a,{style:xa.bottomContainer,children:[Object(ht.jsx)(ye.a,{children:Object(ht.jsx)(sr,{style:xa.textInput,autoFocus:!0,invalid:s,accessibilityRole:"text",textContentType:"emailAddress",keyboardType:"email-address",placeholder:"\uc774\uba54\uc77c \uc8fc\uc18c\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",onChangeText:function(e){return a(e)},value:r,onKeyPress:function(e){"Enter"==e.nativeEvent.key&&R&&(k||N.action())}})}),s?Object(ht.jsx)(ye.a,{children:Object(ht.jsx)(he.a,{style:[xa.messageText,xa.errorMessageText],children:b})}):null,k?Object(ht.jsxs)(ye.a,{children:[Object(ht.jsx)(sr,{style:xa.textInput,autoFocus:!0,invalid:!y,textContentType:"oneTimeCode",keyboardType:"default",accessibilityRole:"text",placeholder:"\uc778\uc99d\ubc88\ud638",onChangeText:function(e){return O(e)},value:x,onKeyPress:function(e){"Enter"==e.nativeEvent.key&&R&&k&&N.action()}}),y?null:Object(ht.jsx)(he.a,{style:[xa.messageText,xa.errorMessageText],children:C}),Object(ht.jsxs)(he.a,{style:xa.messageText,children:["\uc785\ub825\ud558\uc2e0 \uc774\uba54\uc77c\ub85c \uc778\uc99d\ubc88\ud638\ub97c \uc804\uc1a1\ud588\uc2b5\ub2c8\ub2e4.\n\uc778\uc99d\ubc88\ud638\ub294 "+L+"\ucd08 \uc774\ud6c4 \ub9cc\ub8cc\ub429\ub2c8\ub2e4.",Object(ht.jsx)(he.a,{style:xa.messageTextButton,onPress:Q,accessibilityRole:"button",children:" \uc7ac\uc804\uc1a1 "})]})]}):null]})]})}function Ba(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function La(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ba(Object(n),!0).forEach((function(t){fe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ba(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ea=Object(de.a)();var za=function(e){var t=e.route,n=(e.navigation,Object(o.useState)(!1)),r=ne()(n,2),a=r[0],i=r[1],c=Object(o.useState)(!0),s=ne()(c,2),l=s[0],u=s[1],d=Object(o.useState)({action:Object(o.useCallback)((function(){}),[])}),b=ne()(d,2),j=b[0],f=b[1],p=Object(o.useState)({}),x=ne()(p,2),O=x[0],h=x[1],g=Lt(),y=Object(Se.q)(),m=Object(Se.q)(),v=Object(Se.p)();return Object(o.useEffect)((function(){v||(t.params.hasProvider?y.navigate("SetUserProfile"):y.navigate("VerifyMail"))}),[t.params.hasProvider,v]),Object(ht.jsxs)(ie.a,{style:be.defaultScreenLayout,children:[Object(ht.jsx)(oe.a,{translucent:!1}),Object(ht.jsxs)(pa.Provider,{value:{buttonEnabled:a,setButtonEnabled:i,hideButton:l,setHideButton:u,buttonAction:j,setButtonAction:f,signUpNavigator:y,newUserProfile:O,setNewUserProfile:h},children:[Object(ht.jsxs)(Ea.Navigator,{initialRouteName:t.params.hasProvider?"SetUserProfile":"VerifyMail",screenOptions:{contentStyle:be.defaultScreenLayout,header:function(e){return Object(ht.jsx)(Xn,La({replaceTitleWithLogo:!0,hideButton:!0},e))}},children:[Object(ht.jsxs)(Ea.Group,{children:[Object(ht.jsx)(Ea.Screen,{options:{header:function(e){return Object(ht.jsx)(Xn,La({hideButton:!0},e))},title:""},name:"VerifyMail",component:Da}),Object(ht.jsx)(Ea.Screen,{name:"SetPassword",component:ga})]}),Object(ht.jsxs)(Ea.Group,{children:[Object(ht.jsx)(Ea.Screen,{options:{header:function(e){return Object(ht.jsx)(Xn,La({hideBackButton:!0,hideButton:!0},e))}},name:"SetUserProfile",component:Pa}),Object(ht.jsx)(Ea.Screen,{name:"SetUserDescription",component:wa})]})]}),Object(ht.jsx)(pa.Consumer,{children:function(e){var t=e.buttonEnabled,n=e.buttonAction,r=e.hideButton;return Object(ht.jsx)(sa,{hideSkipButton:r,enableNextButton:t,onSkip:function(){return ae.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.a.awrap(g("\ub2e4\uc74c\uc5d0 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\ud558\uc9c0\ub9cc \ud504\ub85c\ud544 \ubcc0\uacbd \uae30\ub2a5\uc740 \uc544\uc9c1 \uad6c\ud604 \uc911\uc785\ub2c8\ub2e4."));case 2:if(!e.sent){e.next=4;break}m.navigate("CatchPhrase");case 4:case"end":return e.stop()}}),null,null,null,Promise)},onNext:n.action})}})]})]})},Ma=n(164),Aa=r.a.create({contextContainer:{flexGrow:.1,marginHorizontal:2*w},catchPhraseContainer:{paddingTop:v},catchPhraseText:{fontWeight:"bold",fontSize:C.xlarge+C.middle,color:d},buttonContainer:{paddingTop:w+m},signInSuggestionText:{color:d,fontSize:C.middle},signInButtonText:{color:s}});function Va(){var e=Object(o.useState)(!1),t=ne()(e,2),r=t[0],a=t[1],i=Object(Se.q)(),c=Object(Se.q)(),s=Ht().user,l=Object(xe.a)([n(231),n(384),n(385)]),u=ne()(l,2),d=u[0],j=(u[1],Object(Se.p)());Object(o.useEffect)((function(){j&&a(!!s.userId)}),[j,s.userId]),Object(o.useEffect)((function(){j&&r&&s.userId&&c.reset({routes:[{name:"Main"}]})}),[j,r,s.userId]);var f=Ut(),p=Object(o.useCallback)((function(){i.navigate("SignUp",{})}),[]);return Object(ht.jsxs)(ie.a,{style:[be.defaultScreenLayout],children:[Object(ht.jsx)(oe.a,{translucent:!0}),Object(ht.jsxs)(Ma.a,{testID:"serviceMockingVideo",source:{uri:"https://i.postimg.cc/mgdFtJd5/welcome.gif"},style:{flex:1},resizeMode:"cover",children:[Object(ht.jsx)(ye.a,{testID:"emptySpace",style:{flex:1}}),Object(ht.jsx)(an.a,{testID:"darkOverlay",colors:["transparent",b],start:{x:0,y:-1},style:{position:"absolute",width:"100%",height:"100%"}}),Object(ht.jsxs)(ye.a,{testID:"onBoardingContextContainer",style:Aa.contextContainer,children:[Object(ht.jsx)(ye.a,{testID:"logoContainer",children:d?Object(ht.jsx)(Oe.a,{source:d[0]}):null}),Object(ht.jsx)(ye.a,{testID:"catchPhraseContainer",style:Aa.catchPhraseContainer,children:Object(ht.jsxs)(he.a,{style:Aa.catchPhraseText,children:["\ub2f9\uc2e0\uc758 \ucf58\uc11c\ud2b8\ub97c","\n","\uc2dc\uc791\ud558\uc138\uc694."]})}),Object(ht.jsxs)(ye.a,{testID:"signUpButtonContainer",style:Aa.buttonContainer,children:[Object(ht.jsx)(jn,{testID:"googleSignButton",buttonType:"white",style:{height:C.xlarge+C.large,marginBottom:w,fontSize:C.large},bold:!0,iconData:{iconType:"image",withText:!0,iconSize:C.xlarge,imageSrc:d?d[1]:{}},onPress:f,children:"Google \uacc4\uc815\uc73c\ub85c \uacc4\uc18d\ud558\uae30"}),Object(ht.jsx)(jn,{testID:"queSignUpButton",buttonType:"primary",bold:!0,style:{height:C.xlarge+C.large,marginBottom:w,fontSize:C.large},iconData:{iconType:"image",withText:!0,iconSize:C.xlarge,imageSrc:d?d[2]:{}},onPress:p,children:"QUE \uacc4\uc815 \ub9cc\ub4e4\uae30"})]}),Object(ht.jsxs)(ye.a,{testID:"signInTextContainer",children:[Object(ht.jsx)(he.a,{style:Aa.signInSuggestionText,children:"\uc774\ubbf8 \uacc4\uc815\uc774 \uc788\ub2e4\uba74"}),Object(ht.jsx)(he.a,{children:Object(ht.jsx)(he.a,{style:[Aa.signInSuggestionText,Aa.signInButtonText],onPress:function(){i.navigate("SignIn")},accessibilityRole:"button",children:"\ub85c\uadf8\uc778"})})]})]})]})]})}function Ra(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}da.b();var Ua=Object(de.a)();var Fa=function(){return Object(ht.jsx)(ie.a,{style:be.defaultScreenLayout,children:Object(ht.jsxs)(Ua.Navigator,{screenOptions:{headerShown:!1},children:[Object(ht.jsx)(Ua.Screen,{name:"CatchPhrase",component:Va}),Object(ht.jsx)(Ua.Screen,{options:{headerShown:!0,header:function(e){return Object(ht.jsx)(Xn,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ra(Object(n),!0).forEach((function(t){fe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ra(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({hideButton:!0},e))}},name:"SignIn",component:ja}),Object(ht.jsx)(Ua.Screen,{name:"SignUp",component:za,initialParams:{}})]})})},Na=Object(de.a)();var Ha=function(e){return Object(ht.jsx)(ie.a,{style:be.defaultScreenLayout,children:Object(ht.jsxs)(Na.Navigator,{initialRouteName:e.isSigned?"Main":"OnBoarding",screenOptions:{headerShown:!1},children:[Object(ht.jsx)(Na.Screen,{name:"OnBoarding",component:Fa}),Object(ht.jsx)(Na.Screen,{name:"Main",component:Zr})]})})};function Wa(){var e=Object(o.useState)(!1),t=ne()(e,2),n=t[0],r=t[1],a=Ht().isSigned,i=Dt();Object(o.useEffect)((function(){ae.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.a.awrap(se.b());case 3:return e.next=5,ae.a.awrap(le.b(ce.a.font));case 5:if(i(q({noticeId:"ALPHA01"})),!a){e.next=9;break}return e.next=9,ae.a.awrap(kt.refreshUser());case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.warn(e.t0);case 14:return e.prev=14,r(!0),e.finish(14);case 17:case"end":return e.stop()}}),null,null,[[0,11,14,17]],Promise)}),[]);var c=Object(o.useCallback)((function(){return ae.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=3;break}return e.next=3,ae.a.awrap(se.a());case 3:case"end":return e.stop()}}),null,null,null,Promise)}),[n]);return n?Object(ht.jsxs)(ie.a,{onLayout:c,style:qa.rootContainer,children:[Object(ht.jsx)(ue.a,{linking:{enabled:!0,prefixes:["https://localhost","https://anteater333.github.io/Que-web","que://"]},children:Object(ht.jsx)(Ha,{isSigned:a})}),Object(ht.jsx)(oe.a,{translucent:!1,style:"auto",backgroundColor:h})]}):null}var qa=r.a.create({rootContainer:{width:"100%",flex:1,maxWidth:"web"===c.a.OS?720:void 0,shadowColor:b,shadowOffset:{width:0,height:0},shadowOpacity:.5,shadowRadius:50,elevation:5}});function Ga(){return Object(ht.jsx)(P.a,{store:Z,children:Object(ht.jsx)(ee.a,{loading:null,persistor:$,children:Object(ht.jsx)(I.a,{children:Object(ht.jsx)(S.b,{style:Ja.rootBackground,children:Object(ht.jsx)(At,{children:Object(ht.jsx)(Wa,{})})})})})})}a.a.ignoreLogs(["Setting a timer"]);var Ja=r.a.create({rootBackground:{flex:1,backgroundColor:d,alignItems:"center"}})},309:function(e,t,n){e.exports=n(386)},358:function(e,t,n){e.exports=n.p+"static/media/upload.45d521d6.png"},361:function(e,t,n){e.exports=n.p+"static/media/profile.264005b9.jpg"},362:function(e,t,n){e.exports=n.p+"static/media/graph.5db6cc54.png"},363:function(e,t,n){e.exports=n.p+"static/media/github-small.bf4e9d58.png"},364:function(e,t,n){e.exports=n.p+"static/media/sylye.617ee605.jpg"},365:function(e,t,n){e.exports=n.p+"static/media/notice01.dc844383.png"},366:function(e,t,n){e.exports=n.p+"static/media/notice02.da0bbfe3.png"},367:function(e,t,n){e.exports=n.p+"static/media/notice03.8ec32101.png"},368:function(e,t,n){e.exports=n.p+"static/media/notice04.8c4c25d6.png"},369:function(e,t,n){e.exports=n.p+"static/media/notice05.c4799713.png"},380:function(e,t,n){e.exports=n.p+"static/media/favicon.fa4783d1.png"},381:function(e,t,n){e.exports=n.p+"static/media/google-small.46b16cf5.png"},382:function(e,t,n){e.exports=n.p+"static/media/naver-small.eca76a3c.png"},383:function(e,t,n){e.exports=n.p+"static/media/kakao-small.d081f6fa.png"},384:function(e,t,n){e.exports=n.p+"static/media/google-icon.76d40c96.png"},385:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB/UlEQVRoge2Z7W2DMBCG76r+LxuQTtBsQDaoOkHVCTJC2gkYgRE6QrJB6ASkE0AneCs3jhSl5Dj8AVTlkaJEAdv3mrN9dxDNzMzMzHjAFBgACRGlRLQ8+7uxnw9mNt/TAkAGYAOgQjd7ADkAI3J0wxcAtnCnGE0IgDXCsR7aeDNzodkMZbzx31hsYhtvFqqW2i7qyv4e151wXLAao43IRUv7pdL16igLW7Hb7DUD24no2m63MfZ5icoeYNr+EoWILKSArkefRnDJPKQAaREWkXa0eij3cV5wOC5sifN4qpUbxThSJyUzf5IjzFwS0UG4JQshYCVc25E/O+Har+3YRYC0u0izp6X86wK+xhQgDa6ldhxbLSA2jU9jXwEhYpZ7HxfVCJA6UYcPAnc+jX0FdC4y33OGAggoHc+IEAIOXY1vPQWYUCC5LJXYfKAtRjow88vFfUuh/w/yxYa+dd80UMjecmWUW3kbrxzoagYlJEGPinC6CCkgU2RjSY/s65QvS6STSCkV4uPOfk9DzKw+XwpxKIKlwQU4llW29snUU6oNFYhHHtX4yCLeBzHe0Z0wWkErcnndq74UDAAr61aaFxyVLadcu7cY+xWTiW3MLJo45+QSpnLR2CrGT4AG4EGIs16Z+Y2mDuTzIRvlCfQFx32/LSxvmPlpBJNm/hffi1brmsGg+hIAAAAASUVORK5CYII="}},[[309,1,2]]]);
//# sourceMappingURL=app.f3587e71.chunk.js.map